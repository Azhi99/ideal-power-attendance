{"version":3,"sources":["webpack:///./src/components/zeroList.vue?2749","webpack:///src/components/zeroList.vue","webpack:///./src/components/zeroList.vue?9a49","webpack:///./src/components/zeroList.vue?c17e","webpack:///./src/components/zeroList.vue?d34d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","_v","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","month","multiple","domProps","composing","year","staff_id","_l","staff","key","st_id","_s","staff_name","getData","_m","staffs","obj","exist_staff_ids","includes","rows","employee","index","emp_id","full_name","note","staticRenderFns","data","user","username","role","en_id","beforeCreate","auth","created","methods","then","mounted","watch","component"],"mappings":"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","file":"js/chunk-8319cb7a.04790746.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('navbar',{staticClass:\"no-print animate__animated animate__fadeInLeft\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"nav\"}}),_c('div',{staticClass:\"d-flex flex-column animate__animated animate__fadeInRight\",staticStyle:{\"display\":\"none !important\"},attrs:{\"id\":\"content-wrapper\"}},[_c('div',{attrs:{\"id\":\"content\"}},[_c('header-btn',{staticClass:\"no-print\"}),_c('div',{staticClass:\"container-fluid text-dark\"},[_c('div',{staticClass:\"row px-1 py-3 mb-1 no-print\"},[_c('label',{staticClass:\"mt-1 col-xl-1 mb-2\"},[_vm._v(\" Month: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.month),expression:\"month\"}],staticClass:\"form-control col-xl-1 col-md-4 mb-2\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.month=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"3\")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"4\")]),_c('option',{attrs:{\"value\":\"5\"}},[_vm._v(\"5\")]),_c('option',{attrs:{\"value\":\"6\"}},[_vm._v(\"6\")]),_c('option',{attrs:{\"value\":\"7\"}},[_vm._v(\"7\")]),_c('option',{attrs:{\"value\":\"8\"}},[_vm._v(\"8\")]),_c('option',{attrs:{\"value\":\"9\"}},[_vm._v(\"9\")]),_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(\"10\")]),_c('option',{attrs:{\"value\":\"11\"}},[_vm._v(\"11\")]),_c('option',{attrs:{\"value\":\"12\"}},[_vm._v(\"12\")])]),_c('label',{staticClass:\"mt-1 col-xl-1 mb-2\"},[_vm._v(\" Year: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.year),expression:\"year\"}],staticClass:\"form-control col-xl-1 col-md-4 mb-2\",attrs:{\"type\":\"number\",\"min\":\"2020\"},domProps:{\"value\":(_vm.year)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.year=$event.target.value}}}),_c('label',{staticClass:\"mt-1 col-xl-1 mb-2\"},[_vm._v(\" Staff: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.staff_id),expression:\"staff_id\"}],staticClass:\"form-control col-sm-3 mb-2\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.staff_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.staffs),function(staff){return _c('option',{key:staff.st_id,domProps:{\"value\":staff.st_id}},[_vm._v(\" \"+_vm._s(staff.staff_name)+\" \")])})],2),_c('button',{staticClass:\"btn btn-success col-xl-2 col-md-4 mx-2 mb-2\",on:{\"click\":function($event){return _vm.getData()}}},[_vm._v(\" Search \"),_c('i',{staticClass:\"fa fa-search\"})])]),_c('hr',{staticClass:\"no-print\"}),_c('table',{staticClass:\"table table-bordered text-center text-dark mt-4\",staticStyle:{\"page-break-inside\":\"always\",\"font-size\":\"12pt !important\",\"color\":\"#262626 !important\"}},[_vm._m(0),_c('tbody',[_vm._l((_vm.staffs.filter(function (obj) { return _vm.exist_staff_ids.includes(obj.st_id); })),function(staff){return [_c('tr',{key:'staff' + staff.st_id},[_c('td',{staticStyle:{\"background-color\":\"#EBEBF0 !important\"},attrs:{\"colspan\":\"2\"}},[_vm._v(\" \"+_vm._s(staff.staff_name)+\" \")])]),_vm._l((_vm.rows.filter(function (obj) { return obj.st_id == staff.st_id; })),function(employee,index){return _c('tr',{key:'staff' + staff.st_id + 'emp' + employee.emp_id + 'inx' + index},[_c('td',[_vm._v(\" \"+_vm._s(employee.full_name)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(employee.note)+\" \")])])})]})],2)])])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{staticStyle:{\"font-size\":\"11pt !important\",\"width\":\"6.5cm\"}},[_vm._v(\" Employee \")]),_c('th',{staticStyle:{\"font-size\":\"11pt !important\"}},[_vm._v(\" Note \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"wrapper\">\r\n        <navbar id=\"nav\" class=\"no-print animate__animated animate__fadeInLeft\"  style=\"display: none;\"/>\r\n        <div class=\"d-flex flex-column animate__animated animate__fadeInRight\" id=\"content-wrapper\" style=\"display: none !important;\">\r\n            <div id=\"content\">\r\n                <header-btn class=\"no-print\"/>\r\n                <div class=\"container-fluid text-dark\">\r\n                    <div class=\"row px-1 py-3 mb-1 no-print\">\r\n                        <label class=\"mt-1 col-xl-1 mb-2\"> Month: </label>\r\n                        <select class=\"form-control col-xl-1 col-md-4 mb-2\" v-model=\"month\">\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"6\">6</option>\r\n                            <option value=\"7\">7</option>\r\n                            <option value=\"8\">8</option>\r\n                            <option value=\"9\">9</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"11\">11</option>\r\n                            <option value=\"12\">12</option>\r\n                        </select>\r\n                        <label class=\"mt-1 col-xl-1 mb-2\"> Year: </label>\r\n                        <input type=\"number\" min=\"2020\" class=\"form-control col-xl-1 col-md-4 mb-2\" v-model=\"year\">\r\n                        \r\n                        <label class=\"mt-1 col-xl-1 mb-2\"> Staff: </label>\r\n                        <select v-model=\"staff_id\" class=\"form-control col-sm-3 mb-2\">\r\n                            <option value=\"\"></option>\r\n                            <option v-for=\"staff in staffs\" :key=\"staff.st_id\" v-bind:value=\"staff.st_id\"> {{ staff.staff_name }} </option>\r\n                        </select>\r\n                        <button class=\"btn btn-success col-xl-2 col-md-4 mx-2 mb-2\" v-on:click=\"getData()\" > Search <i class=\"fa fa-search\"></i> </button>\r\n                        \r\n                    </div>\r\n                    <hr class=\"no-print\">\r\n                    <table class=\"table table-bordered text-center text-dark mt-4\" style=\"page-break-inside: always; font-size: 12pt !important; color: #262626 !important;\">\r\n                        <thead>\r\n                            <th style=\"font-size: 11pt !important; width: 6.5cm;\"> Employee </th>\r\n                            <th style=\"font-size: 11pt !important;\"> Note </th>\r\n                        </thead> \r\n\r\n                        <tbody> \r\n                            <template v-for=\"staff in staffs.filter(obj => exist_staff_ids.includes(obj.st_id))\">\r\n                                <tr :key=\"'staff' + staff.st_id\">\r\n                                    <td colspan=\"2\" style=\"background-color: #EBEBF0 !important;\">\r\n                                        {{ staff.staff_name }}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr v-for=\"(employee, index) in rows.filter(obj => obj.st_id == staff.st_id)\" :key=\"'staff' + staff.st_id + 'emp' + employee.emp_id + 'inx' + index\">\r\n                                    <td>\r\n                                        {{ employee.full_name }}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{ employee.note }}\r\n                                    </td>\r\n                                </tr>\r\n                            </template>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\nimport auth from '../auth';\r\nexport default {\r\n    data() {\r\n        return {\r\n            user: {\r\n                username: '',\r\n                role: '',\r\n                en_id: null\r\n            },\r\n            month: new Date().getMonth() + 1,\r\n            year: new Date().getFullYear(),\r\n            staff_id: null,\r\n            staffs: [],\r\n            rows: [],\r\n            exist_staff_ids: []\r\n        }\r\n    },\r\n    beforeCreate(){\r\n        auth(\"zeroList\");\r\n    },\r\n    created() {\r\n        this.$http.post(\"/getLoggedInfo\").then(({data}) => {\r\n            this.user.username = data.username;\r\n            this.user.role = data.type;\r\n            this.user.en_id = data.en_id || null;\r\n\r\n            if(this.user.en_id != null){\r\n                this.$http.post(\"/staff/getByEngineer/\" + this.user.en_id).then(({data}) => {\r\n                    this.staffs = data.filter(obj => obj.show_staff == '1').sort((a, b) => a.staff_sort_code - b.staff_sort_code)\r\n                });\r\n            } else {\r\n                this.$http.post(\"/staff/getData\").then(({data}) => {\r\n                    this.staffs = data.filter(obj => obj.show_staff == '1').sort((a, b) => a.staff_sort_code - b.staff_sort_code)\r\n                });\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        getData() {\r\n            this.rows = []\r\n            this.$http.post(\"/employee/getZerosByMonthAndYear\", {\r\n                month: this.month,\r\n                year: this.year,\r\n                staff_id: this.staff_id\r\n            }).then(({data}) => {\r\n                this.exist_staff_ids = data.map(obj => obj.st_id);\r\n                this.rows = data;\r\n\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getData();\r\n    },\r\n    watch: {\r\n        month: function() {\r\n            this.getData();\r\n        },\r\n        year: function() {\r\n            this.getData();\r\n        },\r\n        staff_id: function() {\r\n            this.getData();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    @media print {\r\n        .no-print {\r\n            display: none;\r\n        }\r\n        .no-print, #nav {\r\n            display: none;\r\n        }\r\n        .container-fluid {\r\n            background: white !important;\r\n        }\r\n        @page {\r\n            size: portrait !important;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zeroList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zeroList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./zeroList.vue?vue&type=template&id=20016765&\"\nimport script from \"./zeroList.vue?vue&type=script&lang=js&\"\nexport * from \"./zeroList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zeroList.vue?vue&type=style&index=0&id=20016765&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zeroList.vue?vue&type=style&index=0&id=20016765&prod&lang=css&\""],"sourceRoot":""}