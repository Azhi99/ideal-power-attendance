(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e59d779"],{"92d5":function(t,a,e){"use strict";e("f2a2")},f0e8:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),e("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[e("div",{attrs:{id:"content"}},[e("header-btn",{staticClass:"no-print"}),e("div",{staticClass:"container-fluid text-dark"},[t._m(0),e("hr",{staticClass:"no-print"}),e("div",{staticClass:"row px-1 pb-0 pt-1 mb-1 no-print"},[e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.month=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),e("option",{attrs:{value:"2"}},[t._v("2")]),e("option",{attrs:{value:"3"}},[t._v("3")]),e("option",{attrs:{value:"4"}},[t._v("4")]),e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"6"}},[t._v("6")]),e("option",{attrs:{value:"7"}},[t._v("7")]),e("option",{attrs:{value:"8"}},[t._v("8")]),e("option",{attrs:{value:"9"}},[t._v("9")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"11"}},[t._v("11")]),e("option",{attrs:{value:"12"}},[t._v("12")])]),e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(a){a.target.composing||(t.year=a.target.value)}}}),e("label",{staticClass:"col-xl-1 ms-3 mt-2 px-0"},[t._v(" Cabina:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.cabina_id,expression:"cabina_id"}],staticClass:"form-control col-xl-2 mx-1",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cabina_id=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.cabinas,(function(a){return e("option",{key:"c"+a.cabina_id,domProps:{value:a.cabina_id}},[t._v(t._s(a.cabina_name))])}))],2),e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Price: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020",disabled:t.formCreated&&t.rows.length>0},domProps:{value:t.price},on:{input:function(a){a.target.composing||(t.price=a.target.value)}}}),e("button",{staticClass:"btn btn-success col-xl-1 col-md-4 mx-2 mb-2",on:{click:function(a){return t.getData()}}},[e("i",{staticClass:"fas fa-search"})]),!t.formCreated&&t.rows.length>0?e("button",{staticClass:"btn btn-primary col-xl-1 col-md-4 mx-2 mb-2",on:{click:function(a){return t.saveCabinaData()}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Form ")]):t.formCreated&&t.rows.length>0?e("button",{staticClass:"btn btn-danger col-xl-1 col-md-4 mx-2 mb-2",on:{click:function(a){return t.deleteCabinaData()}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Form ")]):t._e()]),e("hr",{staticClass:"no-print"}),t._m(1),e("hr",{staticClass:"my-1"}),e("p",{staticClass:"text-center",staticStyle:{color:"black"}},[t._v(" لیستی مانەوەی کارمەندانی کۆمپانیای ئایدیەڵ پاوەر لە کابینەکان - مانگی "+t._s(t.month)+" / "+t._s(t.year))]),t.cabinas.find((function(a){return a.cabina_id==t.cabina_id}))?e("p",{staticClass:"text-center",staticStyle:{color:"black","font-size":"14pt"},attrs:{dir:"rtl"}},[t._v(" کابینەی: "+t._s(t.cabinas.find((function(a){return a.cabina_id==t.cabina_id})).cabina_name)+" ")]):t._e(),e("div",[e("table",{staticClass:"table table-bordered text-center",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"},attrs:{dir:"rtl"}},[t._m(2),e("tbody",[t._l(t.rows,(function(a,i){return e("tr",{key:a.emp_id},[e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(i+1)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.full_name)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.phone)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.staff_name)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(t._f("country_filter")(a.country))+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.city)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.birth_date?new Date(a.birth_date).toISOString().split("T")[0]:"")+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.job)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.asaish_code)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s((a.price||0).toLocaleString())+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.expiry_passport?new Date(a.expiry_passport).toISOString().split("T")[0]:"")+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.passport_number)+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.expire_accomodation?new Date(a.expire_accomodation).toISOString().split("T")[0]:"")+" ")]),e("td",{staticStyle:{"font-size":"10pt"}},[t._v(" "+t._s(a.accomodation_number)+" ")])])})),e("tr",[e("td",{staticClass:"para-total",attrs:{colspan:"9"}},[t._v(" کۆی گشتی ")]),e("td",{staticClass:"para-total"},[t._v(" "+t._s(t.rows.reduce((function(t,a){return t+(a.price||0)}),0).toLocaleString())+" ")]),e("td",{staticClass:"para-total",attrs:{colspan:"4"}})])],2)]),"A"==t.user.type||"K"==t.user.type?e("export-excel",{attrs:{data:t.excelData}},[e("v-btn",{staticClass:"mt-2 no-print",attrs:{color:"success",small:""}},[e("v-icon",{staticClass:"mr-3"},[t._v(" mdi-microsoft-excel ")]),t._v(" Download Excel ")],1)],1):t._e()],1)])],1)])],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row no-print"},[e("h3",{staticClass:"mt-1 col-12 mb-2"},[t._v(" Cabina ")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-4",staticStyle:{color:"black"}},[i("h3",[t._v(" Ideal Power Company ")]),i("p",[t._v(" For Contracting Electrical, Mechanical, General Trading, Renewable Energy & Clean Energy / LTD ")])]),i("div",{staticClass:"col-4 text-center",staticStyle:{color:"black"}},[i("img",{staticClass:"mt-n3",attrs:{src:e("70f2"),width:"75%"}})]),i("div",{staticClass:"col-4 text-right",staticStyle:{color:"black"}},[i("h2",[t._v(" کۆمپانیای ئایدیەڵ پاوەر ")]),i("p",[t._v(" بۆ بەڵێندەرایەتی کارەبایی و میکانیکی و بازرگانی گشتی و وزەی نوێ بووە و وزەی تاک / سنوردار ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"2%"}},[t._v(" ژ.")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" ناو ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" ژمارە تەلەفۆن ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" ستاف ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" وڵات ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" شار ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"8.3%"}},[t._v(" لەدایکبوون ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" کار ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt"}},[t._v(" کۆدی ئاسایش ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"7%"}},[t._v(" بڕی پارە ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"13.75%"}},[t._v(" بەسەرچوونی پاسپۆرت ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"13.75%"}},[t._v(" ژمارەی پاسپۆرت ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"12.5%"}},[t._v(" بەسەرچوونی ئیقامە ")]),e("th",{staticStyle:{"font-weight":"600","background-color":"#EBEBF0 !important","font-size":"10.5pt",width:"12.5%"}},[t._v(" ژمارەی ئیقامە ")])])}],n=e("1ab6"),o={data(){return{user:{username:"",type:"",en_id:""},month:(new Date).getMonth()+1,year:(new Date).getFullYear(),rows:[],cabinas:[],cabina_id:null,price:0}},beforeCreate(){Object(n["a"])("employees")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.type=t.type}),this.$http.post("/cabina/getData").then(({data:t})=>{this.cabinas=t})},methods:{getData(){this.month&&this.year&&this.cabina_id?this.$http.get("/cabina/getEmployeeCabina/"+this.month+"/"+this.year+"/"+this.cabina_id).then(({data:t})=>{this.rows=t,this.rows.length>0?this.price=this.rows[0].price:this.price=0}):this.rows=[]},saveCabinaData(){this.$confirm("Are you sure you want to save this form?","","question").then(()=>{this.$http.post("/cabina/saveEmployeeCabina/"+this.month+"/"+this.year+"/"+this.price+"/"+this.cabina_id).then(({data:t})=>{this.$alert("Form Created","Success","success"),this.rows=t,this.rows.length>0?this.price=this.rows[0].price:this.price=0}).catch(()=>{this.$alert("Failed","Error","error")})})},deleteCabinaData(){this.$confirm("Are you sure you want to delete this form?","","question").then(()=>{this.$http.delete("/cabina/deleteEmployeeCabina/"+this.month+"/"+this.year+"/"+this.cabina_id).then(({data:t})=>{this.$alert("Form Deleted","Success","success"),this.rows=t,this.rows.length>0?this.price=this.rows[0].price:this.price=0})}).catch(()=>{this.$alert("Failed","Error","error")})}},computed:{formCreated(){return this.rows.every(t=>t.saved_cabina_id)},excelData(){return this.rows.map(t=>({"ناو":t.full_name,"ژمارە تەلەفۆن":t.phone,"ستاف":t.staff_name,"وڵات":this.$options.filters.country_filter(t.country),"شار":t.city,"لەدایکبوون":t.birth_date?new Date(t.birth_date).toISOString().split("T")[0]:"","کار":t.job,"کۆدی ئاسایش":t.asaish_code,"بڕی پارە":t.price||0,"بەسەرچوونی پاسپۆرت":t.expiry_passport?new Date(t.expiry_passport).toISOString().split("T")[0]:"","بەسەرچوونی ئیقامە":t.expire_accomodation?new Date(t.expire_accomodation).toISOString().split("T")[0]:""}))}},watch:{month(){this.getData()},year(){this.getData()},cabina_id(){this.getData()}},filters:{country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]}}},r=o,c=(e("92d5"),e("2877")),l=e("6544"),p=e.n(l),d=e("8336"),h=e("132d"),_=Object(c["a"])(r,i,s,!1,null,"6b221f90",null);a["default"]=_.exports;p()(_,{VBtn:d["a"],VIcon:h["a"]})},f2a2:function(t,a,e){}}]);
//# sourceMappingURL=chunk-4e59d779.8abf4b52.js.map