(function(t){function e(e){for(var s,l,o=e[0],r=e[1],_=e[2],c=0,m=[];c<o.length;c++)l=o[c],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,_||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={app:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var _=0;_<o.length;_++)e(o[_]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"09e4":function(t,e,a){},"15c8":function(t,e,a){"use strict";a("a408")},"18d5":function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACFQTFRF5+fn2tra29rb6Ojo6+vr6enp6urq3Nvc/v7+////3dzdt9Y8UgAAC8FJREFUeNrt3b+OG8kRBvBK/QAKpPRgHcTsjEvIVMGBzGT7YJChE2E2thZYvkGHEv9c92bikhxwntKU4LVhwL6d6f6qWNVTHRxwiYD+8evqmtmZHupGO9rv/6Vu5MMBHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHOD3x4/HX/+Svo/Nr39tJyMDmLz/PvXwn/9uFpPRALTv/z335xHj9f83v4wC4Nv0/3v2zyPcgkAa4HC+TvR/z/+ag5B2h7oBjsv0/2b/nIKf1/UCXNMf0wsjCq8DSYBJ88LP/xyCu0mVAPcv//zPIditKwQ49/r5/xWC/bo2gOvy7z//q4BYIRACaJtB8/9eCGoCaJcxDRwxfawIYD54/t8EFtUA3GfM/yogshdIAJwHrn/RvUAA4D5z/leB3aQGgOz5XwUe7QO0y/z5XwU+mgeYx4L5C2wF3AD3RfP/thVMbAOkUAbAXgaYAZrS+V8F7gwDnGPx/Ln7IdK9APgXASvAHDH/q8DCKMDbCJl/jLs3JgEOS0wArhH4YBLgUwTNP8XNxCJAQgWAtQ7yAVxw878KGASIwPmn+GgOYB6QCeDrB7kAjtAAXCOwNwbQBCwAWzdEFioAZxVgArigA8C2EZCRALBFgAfgIeATkMLaDMBhmTjGBzMAP0SO+cfNGysATWBJQFgZATiyBICpGeIAuPAEgGcnZABomQJwjcBvJgBOiW3sTQA0gQ2A4YKAASDyJYChG8QDPPAFgKMbxAM0iXOs1AMcI+f88a0AmVoBDGsADrBMvONOO0DknT98HyBbKwC/BsjUHsCwD4AB2sg9f/T1ABjgxB4A9PUAGSsB8CJA1koAughgAY6Rf/7gZpCsrQD0GsACLJPEuFML0EaJ+WM3QijAWSQAaacWQKQEgIsAFGAukwDoI/RQgKkQwEwpgEwNBFdBJMBJKADQywGyVwOxVRAJ0EglAHk5AAQ4RKn5x886EyAWAOSNQSDAWQwA2QuSwRoIrYJAgLlcAoC9IBBgKggwUwjQRrn5A3tBHMBRMABxqxDgSRAgbRQCvAuCAGGiD+AimYCkMAGNKMBKH0CUnD+uGYYBtKIBSL+pAzjKAmzVATzJAmzUAVyCKEBQB/Agm4C01gYwFwZYaAOYCgPMtAFE2fnDGgEYgHAAkjaAgzTAZ0+ALoCjNMBWGcCTNMBGGYBwI4hrBWEA0glIygBeiwNMdAG8EwdY+xJQBTAXB1joAmjEAVYO4ACaAKbiADNdAFF6/qgbAigA8QAkB3AAB3AAB3AAB3AAB3AAvxbwq0EN9wOk/y7gN0QcwO8K+98F/C9DowaY+BLQBTD25wNG/4SI9DNCUdszQv6coDTAF0+AMoDRPyssfUNA3dPic+FGYKEN4MHmpYC/M+RvjaH+IdlWMOp7b3D0b46O/t1hoeM0wbdEoecHiG4DnT6A12M/QWL0Z4iI7oMaT5EZ/TlCoz9JSvR6cKERYPSnyZ3kAgA8VdXkiZJJ54mSgmeKftGZALmrgTudAKM/V1jsVFXk+fp+tjjw3xr96fJiveBCK8DovzBxMtcH+ldmwN8ZknledKUXYPRfmhr9t8ZELgc0f23OvzcocDmw6zQDjP6bo+xFIKK/vOzfHQYDjP7L0+zN4Eo7wOi/Ps/bDILbQA4A1n0gwlcAAwDrGoCvAAYAzn0AvgewADC+RhwWFgBOiU1g11kA4LseQF8HMAHwPTAXOhsAXK0AvglgAuiWPBEIKysAr1giEHcTKwBfpyxd4E+dFQCebhDfBfIBMHSDkaELZARg2AlDZwkAHwGmALABwC8IGC4DWAHOEVwBtp0tAPTTIlwB4AOAVgGuLYAVALoRhM4eQAe8LRAeLQJ8irirgLVFgK9TVATCT51FgO5tRAVgYhMA1Q2Fu84oAKYOMlZAdoD7CGgBOBcANwCiH2TrAUUAyhcB7wLgByi9KOJsAUQAuiYWFQD0I0HyAG3RXhi4588PUFQGuAuADMA5WyDs1zUAdPeZAmHHP38RgMytIErMXwag+0NWAmZdJQCHc8xaA7NJHQBtk1cDYtpXUQP+Mc1uhcLmF/sA51TQCgb2RpAboH1fdjUU08+mrwVyl79gIWAFaJeAu4LM7RCx/v6Qu6K8DTEp//3ZM0Daf3/uDJD63585A6T/9+fNABn4/VkzQBZ+f84M8ABcGB4VDYYekzuzPCrLc4OUA+A+BYYnRWNMH40AcL0xEpMJgHbJ9sYMx11CPMCc8a2xsNUPcM/65mj4qB3gmFjfHY7QY7QYAA5L5vMD4I9LgAEu7EdooPshLMAfBc4RCn/WC9AuBU6SAu+FUIBG5DC1oPY0ubdCR2qGv+sEOEyFDpSMm4lKgIvYwcpB5cnSZ8HvCwCvjGEAh6Xg6frAdggG8En0O0Phb+oAkuhXdnC3Bqx+d1jbFyePwl/cxD1DDQKYB+kEoN6kxAC8FQ8ArB+EAHydBnmAuHmjBuDVDQJwjcAHLQA3CQAqAgiATzcJAKgbQgCkcBsASDcEALjcaP6YbggAENPNRtAAcLsAQCJAlgOAiEAxwEO4JUD5AXtU3AOkm47iXqAU4FW8LUBxO0ilAQi3BShuB8l2AMojUAiwDLcGiLtbAhxvHoDiW0NlAPNwe4DCW0NkPQClESgCuAQNAGX9cAlAqyIAhWdtlgD8kHQkIP3pRgBN0JGAogOXCwDOSlZA2R+LyX4AyiJQAKAmAEW3BfIBHoIegILbAvkAy6Ro7OQBjlETQH43mA1wCZoA8rvBXIBWVQAKusFcgFPSlYDsLzCR+SagsBUg+01AWStA9puAslaAKmgCiloBqqAJKGoFqJIVkL0G8gCapHDs5QA0roDcNUC1rIDcNUCV7AHZ+wBVswIy1wBVswIy1wDVsgfk7gNUzwrIWwNUzwrIWwNUzR6QuQ8MB2ijXoCM+0LDAU5J8VgJADRB7/wz7gtRTSsgZw1QVSsgYw1QPZtg3kZI1bSBmc0gVVUCMooA1VUChhcBqmgTzNoIqa4VMHwNDAQ4J/XjjhXgIWif/9CNcCDAUn8CdpwA+kvA4CJAtZWAoUWAKisBg4sA1VYChhYBqq0EDC0CVF0JGFgEqLYSMLQIUHUlYGARoOpKwMAiQPWVgGFFgKorAQOLwBCAuZUEbJkAplYANjwAVmrgsCo4AOCUzIwVC4CVGjisCg4AaOwkYM8BYKcEDCoC/QGOydBYMAA8WQKYMQDYqYGDqmB/gKWlBOzwAJZq4JAqSFXWwAFVkKqsgQOqINVYA4dUQaqwDxzUC/YFOERbAGGCTkAyNtAJOFsDuAMD2KqBA6pgX4C5tQRswQBTawAbLEAbrQH0bYapykZ4QDNMVTbCA5phqnMT6L8NUKWbQO9tgCrdBHpvA1TpJtB7G6BaN4G+2wDVugn03Qb6AbwL9uYfvwABLhYT8AgEaCwC7IEA0SJAwAG0yeRYwwCONgEWMIAnmwAzGMDrYHH+8TMM4GIzAY8wgLlNgC0MYGoTYIMCOESbAL3+OtQrAcnoQCXgaBVgAQJ4sgowAwHYbAN6NgJUbxvQrxGgetuAfo0A1dsG9GsE+gBEqwABA3BIZscEkwC7AJgEHO0CLCAAT3YBZhCAS7A6/z4f3ugB8NpuAj5jEmAXAJOAuV2ALQRgahdgAwGIdgECAsBwI9inFaSaG8E+rSDV3Aj2aQVfBjhZBlgBAJ4sA8wAAHY74V698MsA7ywn4IsDAJaAZQDEEphbBtgCABrLRXAPAJhaTsAGABAtAwQAQDI9ygEOtgEmxQCtbYC1L4FSgKNtgEUxwMk2wMoBSgGebAPMigEs3w7oc0OAqr4Y7HE56ABV3w/pcUfEARzAa0DFd8R63BN7EaCxDbB3gBfGPwH8NUHnja3onQAAAABJRU5ErkJggg=="},"26ce":function(t,e,a){"use strict";a("9ffe")},2770:function(t,e,a){"use strict";a("ef2e")},"2a6b":function(t,e,a){},"32a9":function(t,e,a){"use strict";a("b13c")},"32d9":function(t,e,a){"use strict";a("f23f")},"3b3e":function(t,e,a){"use strict";a("6bc8")},"3ca8":function(t,e,a){"use strict";a("cbe5")},"4ac3":function(t,e,a){},"4f33":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=a("683f"),n=(a("77ed"),a("bc3a")),l=a.n(n),o=a("bf15"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("div",{attrs:{id:"app"}},[a("router-view")],1)])],1)},_=[],d=(a("8149"),a("2877")),c=a("6544"),m=a.n(c),u=a("7496"),p=a("f6c4"),g={},h=Object(d["a"])(g,r,_,!1,null,null,null),f=h.exports;m()(h,{VApp:u["a"],VMain:p["a"]});var y=a("9483");Object(y["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var v=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft rtl",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),"E"==t.user.type?[a("div",{staticClass:"alert alert-info text-center m-1"},[t._v(" Sorry, you can't see this page content ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-md-4 mb-2 mx-1"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_expired_passports"}},[t._v(" "+t._s(t.indexLanguage[t.language].expired_passports)+" ")])])])]:a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0",attrs:{id:"home_page"}},[t._v(" "+t._s(t.indexLanguage[t.language].home_page)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-primary py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-primary font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_employees)+" ")])]),a("hr"),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[a("span",[t._v(" "+t._s(t.noOfEmployees)+" ")])])]),t._m(0)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-success py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-success font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_engineers)+" ")])]),a("hr"),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[a("span",[t._v(" "+t._s(t.engineers.length)+" ")])])]),t._m(1)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-info py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_staffs)+" ")])]),a("hr"),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[a("span",[t._v(" "+t._s(t.staffs.length)+" ")])])])])]),t._m(2)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-danger py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_expired_passport)+" ")])]),a("hr"),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[a("span",[t._v(" "+t._s(t.noOfExpired)+" ")])])])])]),t._m(3)])])])])]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_jobs"}},[t._v(" "+t._s(t.indexLanguage[t.language].jobs)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staffs"}},[t._v(" "+t._s(t.indexLanguage[t.language].staffs)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_staff_history"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee_staff_history)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_active_history"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee_active_history)+" ")])]),["A","U"].includes(t.user.type)?a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staff_list"}},[t._v(" "+t._s(t.indexLanguage[t.language].add_staff_list_for_rest_days)+" ")])]):t._e(),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_foods"}},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_expired_passports"}},[t._v(" "+t._s(t.indexLanguage[t.language].expired_passports)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_transfered_employees"}},[t._v(" "+t._s(t.indexLanguage[t.language].transfered_employees)+" ")])]),t._m(4)]),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.list_date,expression:"list_date"}],staticClass:"form-control mb-2 col-xl-12",attrs:{type:"date"},domProps:{value:t.list_date},on:{input:function(e){e.target.composing||(t.list_date=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-dark text-center col-xl-12"},[a("thead",[a("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.indexLanguage[t.language].list_id)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].user)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].note)+" ")]),a("th",[t._v(" Date time ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].detail)+" ")])]),a("tbody",t._l(t.daily_list,(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.user)+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.note)+" ")]),a("td",[t._v(" "+t._s(e.datetime_list?new Date(e.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_list?new Date(e.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_list_detail"},on:{click:function(a){return t.get_list_details(e.dsl_id,e.st_id)}}},[a("i",{staticClass:"fa fa-eye"})]),a("button",{staticClass:"btn btn-success mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_history"},on:{click:function(a){return t.get_list_history(e.dsl_id)}}},[a("i",{staticClass:"fa fa-history"})])])])})),0)])])])],2)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_jobs"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_job()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2 jobs"},[t._v(" "+t._s(t.indexLanguage[t.language].jobs)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-3"},[t._v(" "+t._s(t.indexLanguage[t.language].id)+": ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_job.job_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].job_title)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_job.job_title,expression:"single_job.job_title"}],staticClass:"col-sm-9 form-control",attrs:{type:"text"},domProps:{value:t.single_job.job_title},on:{input:function(e){e.target.composing||t.$set(t.single_job,"job_title",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=t.single_job.job_id,"col-sm-12":null==t.single_job.job_id}},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_job()}}},[t._v(" "+t._s(t.indexLanguage[t.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]),null!=t.single_job.job_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_job"},on:{click:function(e){return t.update_job()}}},[t._v(" "+t._s(t.indexLanguage[t.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):t._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.job_search,expression:"job_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.job_search},on:{input:function(e){e.target.composing||(t.job_search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"6%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),a("th",{staticClass:"job_title"},[t._v(" "+t._s(t.indexLanguage[t.language].job_title)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_jobs,(function(e){return a("tr",{key:e.job_id},[a("td",[t._v(" "+t._s(e.job_id)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return t.get_job(e.job_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_job(e.job_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staffs"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_staff()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].staffs)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].id)+": ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_staff.st_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].supervisor)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.en_id,expression:"single_staff.en_id"}],staticClass:"col-sm-9 form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_staff,"en_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.engineers,(function(e){return a("option",{key:e.en_id,domProps:{value:e.en_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].staff_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.staff_name,expression:"single_staff.staff_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text",placeholder:"Enter name of the staff"},domProps:{value:t.single_staff.staff_name},on:{input:function(e){e.target.composing||t.$set(t.single_staff,"staff_name",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=t.single_staff.st_id,"col-sm-12":null==t.single_staff.st_id}},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_staff"},on:{click:function(e){return t.add_staff()}}},[t._v(" "+t._s(t.indexLanguage[t.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]),null!=t.single_staff.st_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_staff"},on:{click:function(e){return t.update_staff()}}},[t._v(" "+t._s(t.indexLanguage[t.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):t._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_search,expression:"staff_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.staff_search},on:{input:function(e){e.target.composing||(t.staff_search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"6%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff_name)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.st_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return t.get_staff(e.st_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_staff(e.st_id)}}},[a("i",{staticClass:"fa fa-trash"})]),1==e.show_staff?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.show_off(e.st_id)}}},[a("i",{staticClass:"fa fa-eye-slash"})]):a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.show_on(e.st_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_staff_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].employee_staff_history)+" ")])]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_log_search_value,expression:"staff_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.staff_log_search_value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_staff_log()},input:function(e){e.target.composing||(t.staff_log_search_value=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(e){return t.get_limited_data_staff_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].old_staff)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].new_staff)+" ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_date)+" ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].delete)+" ")])]),a("tbody",t._l(t.staff_change_log,(function(e){return a("tr",{key:e.sle_id},[a("td",[t._v(" "+t._s(e.sle_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.old_staff)+" ")]),a("td",[t._v(" "+t._s(e.new_staff)+" ")]),a("td",[t._v(" "+t._s(e.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.delete_staff_log(e.sle_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("hr"),a("div",{attrs:{id:"pagination_staff_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previous_pagination_staff_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfStaffLog/20),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns-staff-log",class:"pg-staff-log-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data_staff_log(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_staff_log()}}},[t._v(" > ")])],2)])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_active_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].employee_active_history)+" ")])]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active_log_search_value,expression:"active_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.active_log_search_value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.active_log_search()},input:function(e){e.target.composing||(t.active_log_search_value=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(e){return t.get_limited_data_active_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_type)+" ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_date)+" ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].delete)+" ")])]),a("tbody",t._l(t.active_change_log,(function(e){return a("tr",{key:e.ale_id},[a("td",[t._v(" "+t._s(e.ale_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",{class:{"alert-success":"Set to Active"==e.change_type,"alert-danger":"Set to Deactive"==e.change_type}},[t._v(" "+t._s(e.change_type)+" ")]),a("td",[t._v(" "+t._s(e.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.delete_active_log(e.ale_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("div",{attrs:{id:"pagination_active_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previous_pagination_active_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfActiveLog/20),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns-active-log",class:"pg-active-log-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data_active_log(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_active_log()}}},[t._v(" > ")])],2)])])])]),["A","U"].includes(t.user.type)?a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff_list"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(5),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.list_rest_days.work_date,expression:"list_rest_days.work_date"}],staticClass:"form-control mb-2",attrs:{type:"date"},domProps:{value:t.list_rest_days.work_date},on:{input:function(e){e.target.composing||t.$set(t.list_rest_days,"work_date",e.target.value)}}}),a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_rest_day"},on:{click:function(e){return t.create_list_rest_day()}}},[t._v(" "+t._s(t.indexLanguage[t.language].create_list_for_all_staffs)+" "),a("i",{staticClass:"fa fa-plus"})]),a("hr"),a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[t._v(" "+t._s(t.indexLanguage[t.language].waiting)+" ... ")])])])])]):t._e(),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_list_detail"}},[a("div",{staticClass:"modal-dialog modal-lg text-center"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].list_detail)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].status)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].overtime)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].worked_hours)+" ")])]),a("tbody",t._l(t.filtered_list_detail,(function(e){return a("tr",{key:e.at_id,class:{"bg-warning text-white":e.st_id!=t.st_id}},[a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",{class:{"text-success":0==e.status,"text-danger":1==e.status,"text-warning":2==e.status}},[t._v(" "+t._s(t._f("absent_filter")(e.status,t.language))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.overtime)+" ")]),a("td",[t._v(" "+t._s(e.worked_hours)+" ")])])})),0)])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_foods"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),a("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" Food Group ")]),a("th",[t._v(" Date Time ")])]),a("tbody",t._l(t.staff_foods,(function(e,s){return a("tr",{key:s,class:{"bg-warning text-white":0==e.food_number}},[a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.food_number)+" ")]),a("td",[t._v(" "+t._s(e.food_group)+" ")]),a("td",[t._v(" "+t._s(e.datetime_food?new Date(e.datetime_food).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_food?new Date(e.datetime_food).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)]),a("hr"),a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",{staticClass:"bg-success text-light"},[t._v(" "+t._s(t.indexLanguage[t.language].total)+" ")]),a("th",{staticClass:"bg-success text-light",staticStyle:{width:"70%"}},[t._v(" "+t._s(t.total_foods)+" ")])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expired_passports"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].expired_passports)+" ")])]),a("div",{staticClass:"modal-body"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id_for_expired,expression:"st_id_for_expired"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id_for_expired=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-5"},[a("thead",[a("th",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),a("th",[t._v(" Country ")]),a("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].expire_date)+" ")])]),a("tbody",t._l(t.filtered_expired_passports,(function(e,s){return a("tr",{key:s},[a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(t._f("country_filter")(e.country))+" ")]),a("td",{class:{"bg-success ":t.diff_days(e.expire_date)>30,"bg-warning ":t.diff_days(e.expire_date)>1,"bg-danger ":t.diff_days(e.expire_date)<=0},staticStyle:{color:"black"}},[t._v(" "+t._s(e.expire_date&&t.isValidDate(e.expire_date)?new Date(e.expire_date).toISOString().split("T")[0]:"")+" ")])])})),0)])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_transfered_employees"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].transfered_employees)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].year)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.year,expression:"transfered_employees.year"}],staticClass:"form-control col-sm-1",attrs:{type:"number"},domProps:{value:t.transfered_employees.year},on:{input:function(e){e.target.composing||t.$set(t.transfered_employees,"year",e.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].month)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.month,expression:"transfered_employees.month"}],staticClass:"form-control col-sm-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transfered_employees,"month",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-2 mt-2 ml-3"},[t._v(" "+t._s(t.indexLanguage[t.language].from_staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.old_st_id,expression:"transfered_employees.old_st_id"}],staticClass:"form-control col-sm-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transfered_employees,"old_st_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("hr"),a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),a("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].new_staff)+" ")]),a("th",[t._v(" "+t._s(t.indexLanguage[t.language].work_date)+" ")])]),a("tbody",t._l(t.transfered_employees.employees,(function(e){return a("tr",{key:e.t_at_id},[a("td",[t._v(" "+t._s(e.employee)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")])])})),0)])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(6),a("div",{staticClass:"modal-body"},[a("v-data-table",{attrs:{"items-per-page":20,headers:t.history_headers,"footer-props":{"items-per-page-options":[15,20,25]},items:t.history_rows.filter((function(e){return e.dsl_id==t.dsl_id}))},scopedSlots:t._u([{key:"item.work",fn:function(e){var s=e.item;return[a("div",{staticStyle:{"white-space":"pre"},attrs:{dir:"rtl"}},[t._v(t._s(s.work))])]}},{key:"item.datetime_log",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.datetime_log&&t.isValidDate(a.datetime_log)?new Date(a.datetime_log).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_log&&t.isValidDate(a.datetime_log)?new Date(a.datetime_log).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]}}],null,!0)})],1)])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_daily_activity"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(7),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.daily_activity_date,expression:"daily_activity_date"}],staticClass:"form-control mb-2 col-xl-12",attrs:{type:"date"},domProps:{value:t.daily_activity_date},on:{input:function(e){e.target.composing||(t.daily_activity_date=e.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.daily_activity_user,expression:"daily_activity_user"}],staticClass:"form-control mb-2 col-xl-12",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.daily_activity_user=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.daily_activity_users,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("v-data-table",{attrs:{"items-per-page":20,headers:t.daily_activity_headers,"footer-props":{"items-per-page-options":[15,20,25]},items:t.daily_activity_user?t.daily_activity_rows.filter((function(e){return e.user==t.daily_activity_user})):t.daily_activity_rows},scopedSlots:t._u([{key:"item.work",fn:function(e){var s=e.item;return[a("div",{staticStyle:{"white-space":"pre"},attrs:{dir:"rtl"}},[t._v(t._s(s.work))])]}},{key:"item.datetime_log",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.datetime_log&&t.isValidDate(a.datetime_log)?new Date(a.datetime_log).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_log&&t.isValidDate(a.datetime_log)?new Date(a.datetime_log).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]}},{key:"item.work_date",fn:function(e){var a=e.item;return[t._v(" "+t._s(new Date(a.work_date).toISOString().split("T")[0])+" ")]}}],null,!0)})],1)])])])],1)},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-user-tie fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-user-nurse fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-users fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-passport fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-info btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_daily_activity"}},[t._v(" Daily Activity ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" List History ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Daily Activity ")])])}],C=function(t){422==t.response.status?i["a"].alert(t.response.data.error[0].msg,"","error"):i["a"].alert(t.response.data.message,"","error")};l.a.defaults.withCredentials=!0;var w=function(t){var e=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","foodList"],a=["index","attendance","staffReport","staffListReport","salaryList","employeeReport","LoanAccomodation"];l.a.post("/isLogged").then(()=>{l.a.post("/getLoggedInfo").then(({data:s})=>{"U"==s.type&&!e.includes(t)||"E"==s.type&&!a.includes(t)?i["a"].alert("You are not authorized to use this part","Sorry","warning").then(()=>{window.location.href="/"}):(document.getElementById("content-wrapper").style.display="block",document.getElementById("nav").style.display="")})}).catch(()=>{window.location.href="/login"})},S=a("1157"),k=a.n(S),A={Kurdish:{home_page:"پەڕەی سەرەکی",number_of_employees:"ژمارەی کارمەندەکان",number_of_engineers:"ژمارەی سەرپەرشتیارەکان",number_of_staffs:"ژمارەی ستافەکان",number_of_expired_passport:"ژمارەی پاسپۆرتە بەسەرچووەکان",foods_number:"ژمارەی خواردنەکان",jobs:"کارەکان",staffs:"ستافەکان",employee_staff_history:"مێژووی گۆڕینی ستافی کارمەندان",employee_active_history:"مێژووی ئەکتیڤ بوونی کارمەندان",add_staff_list_for_rest_days:"دروست کردنی لیستی ستافەکان بۆ ڕۆژانی پشوو",id:"کۆد",list_id:"کۆدی لیست",staff:"ستاف",user:"بەکارهێنەر",location:"شوێن",note:"تێبینی",detail:"ناوەڕۆک",job_title:"كـار",add:"زیادکردن",save_changes:"گۆڕانی زانیاری",actions:"کردارەکان",supervisor:"سەرپەرشتیار",staff_name:"ناوی ستاف",employee:"کارمەند",old_staff:"ستافی کۆن",new_staff:"ستافی تازە",change_date:"بەرواری گۆڕین",delete:"سڕینەوە",change_type:"جۆری گۆڕانکاری",create_list_for_all_staffs:"دروست کردنی لیست بۆ هەموو ستافەکان",waiting:"چاوەڕوانبە",list_detail:"ناوەڕۆکی لیست",status:"دۆخ",present:"ئامادەبوو",absent:"نەهاتوو",off:"پشوو",search:"گـەڕان",total:"کۆی گشتی",expired_passports:"پاسپۆرتە بەسەرچووەکان",expire_date:"بەرواری بەسەرچوون",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},English:{home_page:"Home Page",number_of_employees:"Number Of Employees",number_of_engineers:"Number Of Supervisors",number_of_staffs:"Number Of Staffs",number_of_expired_passport:"Number Of Expired Passports",foods_number:"Food numbers",jobs:"Jobs",staffs:"Staffs",employee_staff_history:"Employee staff history",employee_active_history:"Employee active history",add_staff_list_for_rest_days:"Add staff lists for rest days",id:"ID",list_id:"List ID",staff:"Staff",user:"User",location:"Location",detail:"Detail",note:"Note",job_title:"Job Title",add:"Add",save_changes:"Save Changes",actions:"Actions",supervisor:"Supervisor",staff_name:"Staff name",employee:"Employee",old_staff:"Old Staff",new_staff:"New Staff",change_date:"Change Date",delete:"Delete",change_type:"Change Type",create_list_for_all_staffs:"Create List for all staffs",waiting:"Waiting",list_detail:"List Detail",status:"Status",present:"Present",absent:"Absent",off:"Off",search:"Search",total:"Total",expired_passports:"Expired passports",expire_date:"Expire date",overtime:"Overtime",worked_hours:"Worked hours",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},Arabic:{home_page:"الصفحة الرئيسية",number_of_employees:"عدد الموظفين",number_of_engineers:"عدد المشرفين",number_of_staffs:"عدد العاملین",number_of_expired_passport:"عدد جوازات السفر منتهية الصلاحية",foods_number:"عدد الوجبات الطعام",jobs:"يعمل",staffs:"العاملين",employee_staff_history:"تاريخ تغيير الموظفين",employee_active_history:"تاريخ نشاط الموظف",add_staff_list_for_rest_days:"إنشاء قائمة الموظفين للإجازات",id:"رقـم",list_id:"رقم القائمة",staff:"العاملين",user:"المستعمل",location:"موقع",note:"ملاحظة",detail:"المحتوى",job_title:"عـمل",add:"اضافة",save_changes:"تغيير المعلومات",actions:"أجراءات",supervisor:"مشرف",staff_name:"اسم العاملین",employee:"موظف",old_staff:"العاملین القدامى",new_staff:"العاملین جديد",change_date:"تاريخ التغيير",delete:"حذف",change_type:"نوع التغيير",create_list_for_all_staffs:"إنشاء قائمة لجميع العاملین",waiting:"انتظر",list_detail:"محتوى القائمة",status:"حالة",present:"كان حاضرا",absent:"غیاب",off:"يوم الاجازة",search:"بحث",total:"مجموع",expired_passports:"جوازات السفر منتهية الصلاحية",expire_date:"تاريخ إنتهاء الصلاحية",overtime:"وقت إضافي",worked_hours:"وقت العمل",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"}};const L=new s["a"],D=["",null];var $={name:"Index",data(){return{noOfEmployees:0,noOfStaffLog:0,noOfActiveLog:0,noOfExpired:0,max_pagination_btns_staff_change:0,current_pagination_btns_staff_change:1,max_pagination_btns_active_change:0,current_pagination_btns_active_change:1,list_date:(new Date).toISOString().split("T")[0],jobs:[],staffs:[],single_job:{job_id:null,job_title:""},job_search:"",engineers:[],single_staff:{st_id:null,en_id:null,staff_name:""},staff_search:"",staff_change_log:[],active_change_log:[],staff_log_search_value:"",active_log_search_value:"",daily_list:[],list_details:[],dsl_id:null,st_id:null,list_rest_days:{work_date:(new Date).toISOString().split("T")[0]},staff_foods:[],total_foods:0,expired_passports:[],user:{type:"",username:"",en_id:""},transfered_employees:{month:(new Date).getMonth(),year:(new Date).getFullYear(),old_st_id:null,employees:[]},indexLanguage:A,language:"English",history_headers:[{text:"User",align:"start",value:"user",sortable:!1},{text:"Date time",align:"start",value:"datetime_log",sortable:!1},{text:"Work",align:"center",value:"work",sortable:!1}],daily_activity_headers:[{text:"User",align:"start",value:"user",sortable:!1},{text:"Staff",align:"start",value:"staff_name",sortable:!1},{text:"Work Date",align:"start",value:"work_date",sortable:!0},{text:"List ID",align:"start",value:"dsl_id",sortable:!1},{text:"Date time",align:"start",value:"datetime_log",sortable:!0},{text:"Work",align:"center",value:"work",sortable:!1}],history_rows:[],daily_activity_date:(new Date).toISOString().split("T")[0],daily_activity_rows:[],daily_activity_users:[],daily_activity_user:null,st_id_for_expired:null}},beforeCreate(){w("index")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.type=t.type,this.user.en_id=t.en_id,this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t}).then(()=>{this.$http.post("/expirePassport/getData").then(({data:t})=>{this.expired_passports=t,this.expired_passports=this.expired_passports.filter(t=>this.staffs.map(t=>t.st_id).includes(t.st_id))})}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t}).then(()=>{this.$http.post("/expirePassport/getData").then(({data:t})=>{this.expired_passports=t})})}),this.$http.post("/index/").then(({data:t})=>{this.noOfEmployees=t.noOfEmployees,this.noOfStaffLog=t.noOfStaffLog,this.noOfActiveLog=t.noOfActiveLog,this.noOfExpired=t.noOfExpired;var e=Math.ceil(this.noOfStaffLog/20),a=Math.ceil(e/5);this.max_pagination_btns_staff_change=a;var s=Math.ceil(this.noOfActiveLog/20),i=Math.ceil(s/5);this.max_pagination_btns_active_change=i}),this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t}),this.$http.post("/engineer/getNames").then(({data:t})=>{this.engineers=t}),this.$http.post("/daily_staff_list/getDailyList",{work_date:this.list_date}).then(({data:t})=>{this.daily_list=t.lists,this.list_details=t.list_details,this.history_rows=t.list_history}),this.$http.post("/daily_staff_list/getFoods",{work_date:this.list_date}).then(({data:t})=>{this.staff_foods=t.staff_foods,this.total_foods=t.total_foods}),this.get_limited_data_active_log(1),this.get_limited_data_staff_log(1)},mounted(){var t=setInterval(()=>{var e=document.getElementsByClassName("pg-staff-log-group-1");if(e.length>0){for(let t=0;t<e.length;t++)e[t].style.display="inline";clearInterval(t)}},750),e=setInterval(()=>{var t=document.getElementsByClassName("pg-active-log-group-1");if(t.length>0){for(let e=0;e<t.length;e++)t[e].style.display="inline";clearInterval(e)}},750);this.$http.get("/daily_staff_list/getLogViewByDate/"+this.daily_activity_date).then(({data:t})=>{this.daily_activity_rows=t.rows,this.daily_activity_users=t.users.map(t=>t.user)}),L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{previous_pagination_staff_log(){if(this.max_pagination_btns_staff_change>1){var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let e=0;e<t.length;e++)t[e].style.display="none";--this.current_pagination_btns_staff_change;var e=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},next_pagination_staff_log(){if(this.max_pagination_btns_staff_change<this.current_pagination_btns_staff_change){var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let e=0;e<t.length;e++)t[e].style.display="none";++this.current_pagination_btns_staff_change;var e=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},previous_pagination_active_log(){if(this.max_pagination_btns_active_change>1){var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let e=0;e<t.length;e++)t[e].style.display="none";--this.current_pagination_btns_active_change;var e=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},next_pagination_active_log(){if(this.max_pagination_btns_active_change<this.current_pagination_btns_active_change){var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let e=0;e<t.length;e++)t[e].style.display="none";++this.current_pagination_btns_active_change;var e=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},get_limited_data_staff_log(t){var e=0;t>1&&(e=20*(t-1)),this.$http.post("/index/getStaffLogChange",{offset:e}).then(({data:t})=>{this.staff_change_log=t})},delete_staff_log(t){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteStaffLog/"+t).then(()=>{this.staff_change_log=this.staff_change_log.filter(e=>e.sle_id!=t),this.staff_log_search_value=""})})},get_limited_data_active_log(t){var e=0;t>1&&(e=20*(t-1)),this.$http.post("/index/getActiveLog",{offset:e}).then(({data:t})=>{this.active_change_log=t})},delete_active_log(t){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteActiveLog/"+t).then(()=>{this.active_change_log=this.active_change_log.filter(e=>e.ale_id!=t),this.active_log_search_value=""})})},get_job(t){const[e]=this.jobs.filter(e=>e.job_id==t);this.single_job.job_id=e.job_id,this.single_job.job_title=e.job_title},clear_job(){this.single_job.job_id=null,this.single_job.job_title=""},add_job(){D.includes(this.single_job.job_title)?this.$alert("Enter a job title","Empty field","warning"):this.$http.post("/job/addJob",{job_title:this.single_job.job_title}).then(({data:t})=>{this.jobs.push({job_id:t.job_id,job_title:this.single_job.job_title}),this.clear_job()}).catch(t=>{C(t)})},delete_job(t){this.$confirm("Are you sure delete this job ?","","question").then(()=>{this.$http.delete("/job/deleteJob/"+t).then(()=>{this.jobs=this.jobs.filter(e=>e.job_id!=t),this.clear_job()}).catch(t=>{C(t)})})},update_job(){null==this.single_job.job_id?this.$alert("Select a job","","warning"):D.includes(this.single_job.job_title)?this.$alert("Enter a job title","","warning"):this.$confirm("Are you sure to save changes ?","","question").then(()=>{document.getElementById("btn_update_job").setAttribute("disabled","disabled"),this.$http.patch("/job/updateJob/"+this.single_job.job_id,{job_title:this.single_job.job_title}).then(()=>{let t=this.jobs.findIndex(t=>t.job_id==this.single_job.job_id);this.jobs[t].job_title=this.single_job.job_title,this.$alert("","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_job").removeAttribute("disabled")})})},get_staff(t){const[e]=this.staffs.filter(e=>e.st_id==t);this.single_staff.st_id=e.st_id,this.single_staff.en_id=e.en_id,this.single_staff.staff_name=e.staff_name},clear_staff(){this.single_staff.st_id=null,this.single_staff.en_id=null,this.single_staff.staff_name=""},add_staff(){D.includes(this.single_staff.en_id)||D.includes(this.single_staff.staff_name)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_add_staff").setAttribute("disabled","disabled"),this.$http.post("/staff/addStaff",{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(({data:t})=>{this.staffs.push({st_id:t.st_id,en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}),this.clear_staff()}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_add_staff").removeAttribute("disabled")}))},delete_staff(t){this.$confirm("Are You sure delete this staff ?","","question").then(()=>{this.$http.delete("/staff/deleteStaff/"+t).then(()=>{this.staffs=this.staffs.filter(e=>e.st_id!=t),this.clear_staff()}).catch(t=>{C(t)})})},show_off(t){this.$http.patch("/staff/showOff/"+t).then(()=>{let e=this.staffs.findIndex(e=>e.st_id==t);this.staffs[e].show_staff=0}).catch(t=>{C(t)})},show_on(t){this.$http.patch("/staff/showOn/"+t).then(()=>{let e=this.staffs.findIndex(e=>e.st_id==t);this.staffs[e].show_staff=1}).catch(t=>{C(t)})},update_staff(){null==this.single_staff.st_id?this.$alert("Select a staff","","warning"):D.includes(this.single_staff.staff_name)||D.includes(this.single_staff.en_id)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_update_staff").setAttribute("disabled","disabled"),this.$http.patch("/staff/updateStaff/"+this.single_staff.st_id,{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(()=>{let t=this.staffs.findIndex(t=>t.st_id==this.single_staff.st_id);this.staffs[t].staff_name=this.single_staff.staff_name,this.staffs[t].en_id=this.single_staff.en_id,this.$alert("","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_staff").removeAttribute("disabled")}))},create_list_rest_day(){["A","U"].includes(this.user.type)&&(D.includes(this.list_rest_days.work_date)?this.$alert("Select a work date to create list","","warning"):this.$confirm("Are you sure create list for date "+this.list_rest_days.work_date+" ?","","question").then(()=>{document.getElementById("waiting").style.display="block",document.getElementById("btn_rest_day").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.post("/daily_staff_list/createRestList",{work_date:this.list_rest_days.work_date,user:this.user.username,datetime_log:t}).then(()=>{this.$alert("List successfully created","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("waiting").style.display="none",document.getElementById("btn_rest_day").removeAttribute("disabled")})}))},search_staff_log(){D.includes(this.staff_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchStaffLogChange",{search_value:this.staff_log_search_value}).then(({data:t})=>{this.staff_change_log=t})},search_transfered_employees(){this.transfered_employees.employees=[],this.transfered_employees.old_st_id?this.$http.get("/attendance/getTransferedEmployees/"+this.transfered_employees.year+"/"+this.transfered_employees.month+"/"+this.transfered_employees.old_st_id).then(({data:t})=>{this.transfered_employees.employees=t}):this.transfered_employees.employees=[]},active_log_search(){D.includes(this.active_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchActiveLogChange",{search_value:this.active_log_search_value}).then(({data:t})=>{this.active_change_log=t})},get_list_details(t,e){this.dsl_id=t,this.st_id=e},get_list_history(t){this.dsl_id=t},isValidDate(t){let e=new Date(t);return e instanceof Date&&!isNaN(e)},diff_days(t){var e=new Date,a=new Date(t),s=a.getTime()-e.getTime(),i=s/864e5;return Math.round(i)}},computed:{filtered_jobs(){return this.jobs.filter(t=>t.job_id==this.job_search||t.job_title.match(this.job_search))},filtered_staffs(){return this.staffs.filter(t=>t.st_id==this.staff_search||t.en_id==this.staff_search||t.staff_name.match(this.staff_search))},filtered_list_detail(){return this.list_details.filter(t=>t.dsl_id==this.dsl_id)},filtered_expired_passports(){return this.expired_passports.filter(t=>!this.st_id_for_expired||t.st_id==this.st_id_for_expired)}},filters:{absent_filter(t,e){return[A[e].present,A[e].absent,A[e].off][t]},country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]}},watch:{list_date(t){this.$http.post("/daily_staff_list/getDailyList",{work_date:t}).then(({data:t})=>{this.daily_list=t.lists,this.list_details=t.list_details,this.history_rows=t.list_history}),this.$http.post("/daily_staff_list/getFoods",{work_date:t}).then(({data:t})=>{this.staff_foods=t.staff_foods,this.total_foods=t.total_foods})},daily_activity_date(t){t?(this.daily_activity_rows=[],this.daily_activity_users=[],this.$http.get("/daily_staff_list/getLogViewByDate/"+t).then(({data:t})=>{this.daily_activity_rows=t.rows,this.daily_activity_users=t.users.map(t=>t.user)})):(this.daily_activity_rows=[],this.daily_activity_users=[])},"transfered_employees.old_st_id":function(){this.search_transfered_employees()},"transfered_employees.year":function(){this.search_transfered_employees()},"transfered_employees.month":function(){this.search_transfered_employees()}}},N=$,E=(a("c6da"),a("8fea")),I=Object(d["a"])(N,b,x,!1,null,"8aac05e0",null),B=I.exports;m()(I,{VDataTable:E["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4 multi-language"},[t._v(t._s(t.enginnerslanguage[t.language].enginners_page))]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_engineer,expression:"search_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search_engineer},on:{input:function(e){e.target.composing||(t.search_engineer=e.target.value)}}}),a("button",{staticClass:"btn btn-danger float-right mb-2 mx-2",attrs:{"data-toggle":"modal","data-target":"#mdl_deactived_engineers"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_deactive)+" ")])]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(t._f("date_filter")(e.reg_date))+" ")]),a("td",{staticClass:"text-success"},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_engineer"},on:{click:function(a){return t.get_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-lock"})])])])})),0)])])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_engineer"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_engineer()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.enginnerslanguage[t.language].en_info)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.first_name,expression:"single_engineer.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:t.single_engineer.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"first_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.last_name,expression:"single_engineer.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:t.single_engineer.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.job_id,expression:"single_engineer.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_engineer,"job_id",e.target.multiple?a:a[0])}}},t._l(t.jobs,(function(e){return a("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])})),0)]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone1,expression:"single_engineer.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first phone number"},domProps:{value:t.single_engineer.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone1",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone2,expression:"single_engineer.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter second phone number"},domProps:{value:t.single_engineer.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone2",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_engineer"},on:{click:function(e){return t.update_engineer()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_save)+" "),a("i",{staticClass:"fa fa-save"})])]),a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_engineer()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_delete)+" "),a("i",{staticClass:"fa fa-trash"})])])])])])])])]),a("div",{staticClass:"modal",attrs:{id:"mdl_deactived_engineers"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.enginnerslanguage[t.language].deactive_list)+" ")]),a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row overflow-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_deactive_engineer,expression:"search_deactive_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search_deactive_engineer},on:{input:function(e){e.target.composing||(t.search_deactive_engineer=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_deactived_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),a("td",{staticClass:"text-danger"},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-unlock"})])])])})),0)])])])])])])])],1)},j=[],M={Kurdish:{enginners_page:"سەرپەرشتیارەکان",btn_deactive:"سەرپەرشتیارە ناچالاکەکان",search:"گەڕان",ID:"کۆد",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",job_title:"جۆری کار",phone:"ژ.مۆبایل",registration_date:"بەرواری تۆمارکردن",status:"دۆخ",actions:"کردارەکان",deactive:"ناچالاک",active:"چالاک",en_info:"زانیاری سەرپەرشتیارەکان",btn_save:"گۆڕینی زانیاری",btn_delete:"سڕینەوە",deactive_list:"لیستی سەرپەرشتیارە ناچالاکەکان",btn_deactived:"ناچالاک کراوەکان",btn_actived:"چالاک کراوەکان",see_staff:"بینینی ستافەکان",staffs:"ستافەکان",staff:"ستاف"},English:{enginners_page:"Supervisors",btn_deactive:"Deactived Supervisors",search:"Search",ID:"ID",first_name:"First Name",last_name:"Last Name",job_title:"Job Title",phone:"phone",registration_date:"Registration Date",status:"Status",actions:"Actions",deactive:"Deactive",active:"Active",en_info:"Supervisors Information",btn_save:"Save Change",btn_delete:"Delete",deactive_list:"Deactived Supervisors List",btn_deactived:"Deactived",btn_actived:"Actived",see_staff:"See Staffs",staffs:"Staffs",staff:"Staff"},Arabic:{enginners_page:"المشرفين",btn_deactive:"المشرفون غير النشطين",search:"بحث",ID:"رقـم",first_name:"الاسم الاول",last_name:"الاسم الثاني",job_title:"نوع العمل",phone:"موبایل",registration_date:"تاريخ التسجيل",status:"حالة",actions:"أجراءات",deactive:"معاق",active:"نشيط",en_info:"معلومات المشرفين",btn_save:"تغيير المعلومات",btn_delete:"حذف",deactive_list:"قائمة المشرفين غير النشطين",btn_deactived:"معاق",btn_actived:"منشط",see_staff:"انظر العاملين",staffs:"العاملين",staff:"العاملين"}};const P=["",null];var O={name:"Engineers",data(){return{jobs:[],engineers:[],single_engineer:{en_id:null,first_name:"",last_name:"",job_id:null,phone1:"",phone2:""},deactived_engineers:[],search_engineer:"",search_deactive_engineer:"",enginnerslanguage:M,language:"English"}},beforeCreate(){w("engineers")},created(){this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t}),this.$http.post("/engineer/getData").then(({data:t})=>{this.engineers=t}),this.$http.post("/engineer/getDeactived").then(({data:t})=>{this.deactived_engineers=t})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_engineer(t){const[e]=this.engineers.filter(e=>e.en_id==t);this.single_engineer.en_id=e.en_id,this.single_engineer.first_name=e.first_name,this.single_engineer.last_name=e.last_name,this.single_engineer.job_id=this.jobs.filter(t=>t.job_title==e.job_title)[0].job_id,this.single_engineer.phone1=e.phone1,this.single_engineer.phone2=e.phone2},clear_engineer(){this.single_engineer.en_id=null,this.single_engineer.first_name="",this.single_engineer.last_name="",this.single_engineer.job_id=null,this.single_engineer.phone1="",this.single_engineer.phone2=""},deactive_engineer(t){this.$confirm("Are you sure deactive this engineer ?","","question").then(()=>{this.$http.patch("/engineer/deactiveEngineer/"+t).then(()=>{this.$alert("Engineer Deactived","Success","success");const[e]=this.engineers.filter(e=>e.en_id==t);e.active_status="0",this.deactived_engineers.push(e),this.engineers=this.engineers.filter(e=>e.en_id!=t)}).catch(t=>{C(t)})})},active_engineer(t){this.$confirm("Are you sure active this engineer ?","","question").then(()=>{this.$http.patch("/engineer/activeEngineer/"+t).then(()=>{this.$alert("Engineer Actived","Success","success");const[e]=this.deactived_engineers.filter(e=>e.en_id==t);e.active_status="1",this.engineers.push(e),this.deactived_engineers=this.deactived_engineers.filter(e=>e.en_id!=t)}).catch(t=>{C(t)})})},delete_engineer(){null!=this.single_engineer.en_id?this.$confirm("Are you sure delete this engineer ?","","question").then(()=>{this.$http.delete("/engineer/deleteEngineer/"+this.single_engineer.en_id).then(()=>{this.$alert("Engineer deleted","Success","success"),this.engineers=this.engineers.filter(t=>t.en_id!=this.single_engineer.en_id),this.clear_engineer()}).catch(t=>{C(t)})}):this.$alert("Select an Engineer","","warning")},update_engineer(){null==this.single_engineer.en_id?this.$alert("Select an engineer","","warning"):P.includes(this.single_engineer.first_name)||P.includes(this.single_engineer.last_name)||P.includes(this.single_engineer.job_id)||P.includes(this.single_engineer.phone1)?this.$alert("Fill all required fields","Empty Field","warning"):this.$confirm("Are you sure save changes ?","","question").then(()=>{document.getElementById("btn_update_engineer").setAttribute("disabled","disabled"),this.$http.patch("/engineer/updateEngineer/"+this.single_engineer.en_id,{first_name:this.single_engineer.first_name,last_name:this.single_engineer.last_name,job_id:this.single_engineer.job_id,phone1:this.single_engineer.phone1,phone2:this.single_engineer.phone2}).then(()=>{let t=this.engineers.findIndex(t=>t.en_id==this.single_engineer.en_id);this.engineers[t].first_name=this.single_engineer.first_name,this.engineers[t].last_name=this.single_engineer.last_name,this.engineers[t].job_id=this.single_engineer.job_id,this.engineers[t].phone1=this.single_engineer.phone1,this.engineers[t].phone2=this.single_engineer.phone2,this.$alert("Successfully change saved","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_engineer").removeAttribute("disabled")})})}},computed:{filtered_engineers(){return this.engineers.filter(t=>t.en_id==this.search_engineer||t.first_name.match(this.search_engineer)||t.last_name.match(this.search_engineer)||t.reg_date.match(this.search_engineer)||t.phone1.match(this.search_engineer)||t.phone2.match(this.search_engineer))},filtered_deactived_engineers(){return this.deactived_engineers.filter(t=>t.en_id==this.search_deactive_engineer||t.first_name.match(this.search_deactive_engineer)||t.last_name.match(this.search_deactive_engineer)||t.reg_date.match(this.search_deactive_engineer)||t.phone1.match(this.search_deactive_engineer)||t.phone2.match(this.search_deactive_engineer))}},filters:{status_filter(t,e){return[M[e].deactive,M[e].active][t]},date_filter(t){var e=new Date(t);return e.toISOString().split("T")[0]}}},z=O,F=(a("32a9"),Object(d["a"])(z,T,j,!1,null,"b8372a4c",null)),Q=F.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].employees)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"}},[t._v(" "+t._s(t.employeeLangauge[t.language].add_employee)+" "),a("i",{staticClass:"fa fa-plus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:t.employeeLangauge[t.language].search+"..."},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_employee()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-1 mb-2",on:{click:function(e){return t.search_employee()}}},[a("i",{staticClass:"fa fa-search"})]),a("button",{staticClass:"btn btn-primary mx-1 mb-2",on:{click:function(e){return t.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),t._m(0)]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[t._v(t._s(t.employeeLangauge[t.language].id))]),a("th",[t._v(t._s(t.employeeLangauge[t.language].first_name))]),a("th",[t._v(t._s(t.employeeLangauge[t.language].last_name))]),a("th",[t._v(t._s(t.employeeLangauge[t.language].staff))]),a("th",{staticStyle:{width:"10%"}},[t._v(t._s(t.employeeLangauge[t.language].phone))]),a("th",{staticStyle:{width:"14%"}},[t._v(t._s(t.employeeLangauge[t.language].registration_date))]),a("th",{staticStyle:{width:"11%"}},[t._v(t._s(t.employeeLangauge[t.language].salary_type))]),a("th",{staticStyle:{width:"8%"}},[t._v(t._s(t.employeeLangauge[t.language].status))]),a("th",{staticStyle:{width:"12%"}},[t._v(t._s(t.employeeLangauge[t.language].actions))])]),a("tbody",t._l(t.employees,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.phone)+" ")]),a("td",[t._v(" "+t._s(t.organize_date(e.reg_date))+" ")]),a("td",[t._v(" "+t._s("Monthly"==e.salary_type?t.employeeLangauge[t.language].monthly:t.employeeLangauge[t.language].daily)+" ")]),a("td",[a("span",{class:{"text-danger":0==e.active_status,"text-success":1==e.active_status}},[t._v(t._s(t._f("employees_status_filter")(e.active_status,t.language)))])]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return t.get_single_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-edit"})]),1==e.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-lock"})]):0==e.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):t._e()])])})),0)]),a("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previos_pagination_btn()}}},[t._v("<")]),t._l(Math.ceil(t.noOfEmployees/15),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_btn()}}},[t._v(">")])],2)])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_employee()}}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].employee_information)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[null!=t.single_employee.personal_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:t.single_employee.personal_image_path,alt:"No Image"}}):t._e(),null!=t.single_employee.identification_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:t.single_employee.identification_image_path,alt:"No Image"}}):t._e()]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].first_name)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.first_name,expression:"single_employee.first_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:t.single_employee.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"first_name",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].last_name)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.last_name,expression:"single_employee.last_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:t.single_employee.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].staff)+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.st_id,expression:"single_employee.st_id"}],staticClass:"form-control col-xl-4 mx-3",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee,"st_id",e.target.multiple?a:a[0])}}},t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(t._s(e.staff_name))])})),0),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].phone)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.phone,expression:"single_employee.phone"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",maxlength:"11"},domProps:{value:t.single_employee.phone},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"phone",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].birth_date)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.birth_date,expression:"single_employee.birth_date"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:t.single_employee.birth_date},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"birth_date",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].salary_type)+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.salary_type,expression:"single_employee.salary_type"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee,"salary_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Monthly"}},[t._v(" "+t._s(t.employeeLangauge[t.language].monthly)+" ")]),a("option",{attrs:{value:"Daily"}},[t._v(" "+t._s(t.employeeLangauge[t.language].daily)+" ")])])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" "+t._s(t.employeeLangauge[t.language].country)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.country,expression:"single_employee.country"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee,"country",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v(" Iraq ")]),a("option",{attrs:{value:"2"}},[t._v(" Foreign ")]),a("option",{attrs:{value:"3"}},[t._v(" Iran ")]),a("option",{attrs:{value:"4"}},[t._v(" Bangladish ")]),a("option",{attrs:{value:"5"}},[t._v(" Syria ")]),a("option",{attrs:{value:"6"}},[t._v(" India ")]),a("option",{attrs:{value:"7"}},[t._v(" Pakistan ")])]),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(t._s(t.employeeLangauge[t.language].expire_passport)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expiry_passport,expression:"single_employee.expiry_passport"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date",disabled:1==t.single_employee.country},domProps:{value:t.single_employee.expiry_passport},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expiry_passport",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-xl-5 mx-3"}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Asaish Code ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.asaish_code,expression:"single_employee.asaish_code"}],staticClass:"form-control col-xl-4 mx-3",domProps:{value:t.single_employee.asaish_code},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"asaish_code",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(t._s(t.employeeLangauge[t.language].food)+" ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.food_money,expression:"single_employee.food_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.food_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"food_money",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(t._s(t.employeeLangauge[t.language].transport)+" ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.transport_money,expression:"single_employee.transport_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.transport_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"transport_money",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Cabina ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.cabina_money,expression:"single_employee.cabina_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.cabina_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"cabina_money",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Expense ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expense_money,expression:"single_employee.expense_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.expense_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expense_money",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Fine ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.fine_money,expression:"single_employee.fine_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.fine_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"fine_money",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Loan ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.loan_money,expression:"single_employee.loan_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.loan_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"loan_money",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Accomodation ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.accomodation_money,expression:"single_employee.accomodation_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.accomodation_money},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"accomodation_money",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Salary per month ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.other_expense,expression:"single_employee.other_expense"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.other_expense},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"other_expense",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Other Minus ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.other_minus,expression:"single_employee.other_minus"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.other_minus},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"other_minus",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(t._s(t.employeeLangauge[t.language].id_image)+":")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(e){return t.process_file(e)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(t._s(t.employeeLangauge[t.language].personal_image)+":")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(e){return t.process_file_personal(e)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v(" "+t._s(t.employeeLangauge[t.language].monthly_salary)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.monthly_salary,expression:"single_employee.monthly_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Daily"==t.single_employee.salary_type},domProps:{value:t.single_employee.monthly_salary},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"monthly_salary",e.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v(" "+t._s(t.employeeLangauge[t.language].daily_salary)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.daily_salary,expression:"single_employee.daily_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Monthly"==t.single_employee.salary_type},domProps:{value:t.single_employee.daily_salary},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"daily_salary",e.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v(" "+t._s(t.employeeLangauge[t.language].hour_salary)+":")]),a("label",{staticClass:"form-control col-xl-2 text-center",staticStyle:{"background-color":"rgba(128, 128, 128, 0.171)"}},[t._v(" "+t._s(t.single_employee.hour_salary)+" ")])]),a("hr"),a("div",{staticClass:"row mb-3"},[null==t.single_employee.emp_id?a("div",{staticClass:"col-xl-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_employee"},on:{click:function(e){return t.add_employee()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_employee"},on:{click:function(e){return t.update_employee()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):t._e(),null!=this.single_employee.identification_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_identification_image()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].delete_id_image)+" "),a("i",{staticClass:"fa fa-image"})])]):t._e(),null!=this.single_employee.personal_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_personal_image()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].delete_personal_image)+" "),a("i",{staticClass:"fa fa-image"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_id_image"},on:{click:function(e){return t.update_identification_image()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].renew_id_image)+" "),a("i",{staticClass:"fa fa-refresh"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_personal_image"},on:{click:function(e){return t.update_personal_image()}}},[t._v(" "+t._s(t.employeeLangauge[t.language].renew_personal_image)+" "),a("i",{staticClass:"fa fa-refresh"})])]):t._e()])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlSearchByStaff"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchStaffID,expression:"searchStaffID"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchStaffID=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("div",{staticClass:"col-12 col-lg-6 col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchStaffStatus,expression:"searchStaffStatus"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchStaffStatus=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v(" Actived ")]),a("option",{attrs:{value:"0"}},[t._v(" Deactived ")])])])]),a("hr"),a("div",{staticClass:"row"},t._l(t.btnEmployees.filter((function(e){return e.active_status==t.searchStaffStatus})),(function(e){return a("div",{key:e.emp_id,staticClass:"col-12 col-xl-3 col-lg-3 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-block",class:{"btn-primary":"1"==t.searchStaffStatus,"btn-danger":"0"==t.searchStaffStatus},on:{click:function(a){t.search=e.phone,t.search_employee()}}},[t._v(" "+t._s(e.full_name)+" ")])])})),0)])])])])])],1)},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdlSearchByStaff"}},[t._v(" Search By Staff "),a("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v(" Search By Staff ")])])}],Y={Kurdish:{employees:"کارمەندەکان",add_employee:"زیادکردنی کارمەند",id:"کۆد",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",staff:"ستاف",phone:"ژ.مۆبایل",registration_date:"بەرواری تۆمارکردن",salary_type:"جۆری مووچە",status:"دۆخ",actions:"کردارەکان",active:"چالاک",deactive:"ناچالاک",monthly:"مانگانە",daily:"ڕۆژانە",employee_information:"زانیاری کارمەند",birth_date:"بەرواری لەدایکبوون",country:"وڵات",iraq:"عراقی",foreign:"بیانی",expire_passport:"بەسەرچوونی پاسپۆرت",food:"خواردن",transport:"کرێی هاتووچۆ",id_image:"وێنەی تەسکەرە",personal_image:"وێنەی کەسی",monthly_salary:"مووچەی مانگانە",daily_salary:"مووچەی ڕۆژانە",hour_salary:"مووچەی کاتژمێر",add:"زیادکردن",save_changes:"گۆڕینی زانیاری",delete_id_image:"سڕینەوەی وێنەی تەسکەرە",delete_personal_image:"سڕینەوەی وێنەی کەسی",renew_id_image:"تازەکردنەوەی وێنەی تەسکەرە",renew_personal_image:"تازەکردنەوەی وێنەی کەسی",search:"گـەڕان",btn_all_em:"هەموو کارمەندەکان",iraq_em:"کارمەندە عێراقیەکان",foreign_em:"کارمەندە بیانییەکان",salary:"بڕی مووچە"},English:{employees:"Employees",add_employee:"Add Employee",id:"ID",first_name:"First name",last_name:"Last name",staff:"Staff",phone:"Phone",registration_date:"Registration Date",salary_type:"Salary Type",status:"Status",actions:"Actions",active:"Active",deactive:"Deactive",monthly:"Monthly",daily:"Daily",employee_information:"Employee Information",birth_date:"Birth Date",country:"Country",iraq:"Iraq",foreign:"Foreign",expire_passport:"Expire Passport",food:"Food",transport:"Transport",id_image:"ID Image",personal_image:"Personal Image",monthly_salary:"Monthly Salary",daily_salary:"Daily Salary",hour_salary:"Hour Salary",add:"Add",save_changes:"Save Changes",delete_id_image:"Delete ID Image",delete_personal_image:"Delete Personal Image",renew_id_image:"Re-new ID Image",renew_personal_image:"Re-new Personal Image",search:"Search",btn_all_em:"All Employees",iraq_em:"Iraq Employees",foreign_em:"Foreign Employees",salary:"Salary"},Arabic:{employees:"الموظفين",add_employee:"اضافة موظـف",id:"رقم",first_name:"الاسم الاول",last_name:"الاسم الثاني",staff:"العاملين",phone:"موبایل",registration_date:"تاريخ التسجيل",salary_type:"نوع الراتب",status:"حالة",actions:"أجراءات",active:"نشيط",deactive:"معاق",monthly:"شهريا",daily:"اليومي",employee_information:"معلومات الموظف",birth_date:"تاريخ الولادة",country:"بلد",iraq:"عراقی",foreign:"الخارجية",expire_passport:"جواز سفر انتهاء الصلاحية",food:"طـعام",transport:"تكلفة النقـل",id_image:"صورة الهوية",personal_image:"صورة الشخـصیة",monthly_salary:"راتب شهري",daily_salary:"راتب یومي",hour_salary:"راتب سـاعة",add:"اضافة",save_changes:"تغيير المعلومات",delete_id_image:"حذف صورة الهوية",delete_personal_image:"حذف صورة الشخصية",renew_id_image:"تحديث صورة الهوية",renew_personal_image:"تحديث صورة الشخصية",search:"بحث",btn_all_em:"كل الموظفين",iraq_em:"موظفين عراقيين",foreign_em:"الموظفين الأجانب",salary:"مبلغ الراتب"}};const U=[null,""];var q={name:"Employees",data(){return{noOfEmployees:0,employees:[],btnEmployees:[],single_employee:{emp_id:null,first_name:null,last_name:null,st_id:null,phone:null,birth_date:null,reg_date:null,salary_type:null,monthly_salary:null,daily_salary:null,hour_salary:null,identification_image_path:null,identification_image_file:null,personal_image_path:null,personal_image_file:null,staff_name:null,country:"1",food_money:0,transport_money:0,cabina_money:0,fine_money:0,expense_money:0,loan_money:0,accomodation_money:0,other_expense:0,other_minus:0,expiry_passport:null,asaish_code:null},staffs:[],search:"",current_pagination:1,max_pagination:0,searchStaffID:null,searchStaffStatus:"1",employeeLangauge:Y,language:"English"}},beforeCreate(){w("employees")},created(){this.$http.post("/employee/getNoOfEmployees").then(({data:t})=>{this.noOfEmployees=t.noOfEmployees;var e=Math.ceil(this.noOfEmployees/15),a=Math.ceil(e/5);this.max_pagination=a}).catch(t=>{C(t)}),this.get_limited_data(1),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff),this.employees.staff_name=t.staff_name}).catch(t=>{C(t)})},mounted(){var t=setInterval(()=>{var e=document.getElementsByClassName("pg-group-1");if(e.length>0){for(let t=0;t<e.length;t++)e[t].style.display="inline";clearInterval(t)}},750);L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{next_pagination_btn(){if(this.current_pagination<this.max_pagination){var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="none";++this.current_pagination;var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},previos_pagination_btn(){if(this.current_pagination>1){var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="none";--this.current_pagination;var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="inline"}},get_limited_data(t){var e=0;t>1&&(e=15*(t-1)),this.$http.post("/employee/getData",{offset:e}).then(({data:t})=>{this.employees=t}).catch(t=>{C(t)})},process_file(t){this.single_employee.identification_image_file=t.target.files[0]},process_file_personal(t){this.single_employee.personal_image_file=t.target.files[0]},clear_employee(){this.single_employee.emp_id=null,this.single_employee.first_name=null,this.single_employee.last_name=null,this.single_employee.st_id=null,this.single_employee.phone=null,this.single_employee.birth_date=null,this.single_employee.reg_date=null,this.single_employee.salary_type=null,this.single_employee.monthly_salary=null,this.single_employee.daily_salary=null,this.single_employee.hour_salary=null,this.single_employee.identification_image_path=null,this.single_employee.identification_image_file=null,this.single_employee.personal_image_path=null,this.single_employee.personal_image_file=null,this.single_employee.staff_name=null,this.single_employee.country="1",this.single_employee.food_money=0,this.single_employee.transport_money=0,this.single_employee.cabina_money=0,this.single_employee.expense_money=0,this.single_employee.fine_money=0,this.single_employee.loan_money=0,this.single_employee.accomodation_money=0,this.single_employee.other_expense=0,this.single_employee.other_minus=0,this.single_employee.expiry_passport=null,this.single_employee.asaish_code=null},get_single_employee(t){const[e]=this.employees.filter(e=>e.emp_id===t);this.single_employee.emp_id=e.emp_id,this.single_employee.first_name=e.first_name,this.single_employee.last_name=e.last_name,this.single_employee.st_id=this.staffs.filter(t=>t.staff_name==e.staff_name)[0].st_id,this.single_employee.phone=e.phone,this.single_employee.birth_date=e.birth_date.slice(0,10),this.single_employee.reg_date=e.reg_date,this.single_employee.salary_type=e.salary_type,this.single_employee.monthly_salary=e.monthly_salary,this.single_employee.daily_salary=e.daily_salary,this.single_employee.hour_salary=e.hour_salary,this.single_employee.identification_image_path=e.identification_image_path,this.single_employee.personal_image_path=e.personal_image_path,this.single_employee.staff_name=e.staff_name,this.single_employee.expiry_passport=this.organize_date(e.expiry_passport),this.single_employee.country=e.country,this.single_employee.food_money=e.food_money,this.single_employee.transport_money=e.transport_money,this.single_employee.cabina_money=e.cabina_money,this.single_employee.expense_money=e.expense_money,this.single_employee.fine_money=e.fine_money,this.single_employee.loan_money=e.loan_money,this.single_employee.accomodation_money=e.accomodation_money,this.single_employee.other_expense=e.other_expense,this.single_employee.other_minus=e.other_minus,this.single_employee.asaish_code=e.asaish_code},add_employee(){if(U.includes(this.single_employee.first_name)||U.includes(this.single_employee.st_id)||U.includes(this.single_employee.birth_date)||U.includes(this.single_employee.last_name)||U.includes(this.single_employee.phone)||U.includes(this.single_employee.salary_type))this.$alert("Please fill the cells with correct data !","Empty Field","warning");else{var t=new FormData;t.append("first_name",this.single_employee.first_name),t.append("last_name",this.single_employee.last_name),t.append("st_id",this.single_employee.st_id),t.append("phone",this.single_employee.phone),t.append("birth_date",this.single_employee.birth_date),t.append("reg_date",this.single_employee.reg_date),t.append("salary_type",this.single_employee.salary_type),t.append("monthly_salary",this.single_employee.monthly_salary),t.append("daily_salary",this.single_employee.daily_salary),t.append("hour_salary",this.single_employee.hour_salary),t.append("identification_image",this.single_employee.identification_image_file),t.append("personal_image",this.single_employee.personal_image_file),t.append("expiry_passport",this.single_employee.expiry_passport),t.append("country",this.single_employee.country),t.append("food_money",this.single_employee.food_money),t.append("transport_money",this.single_employee.transport_money),t.append("cabina_money",this.single_employee.cabina_money),t.append("expense_money",this.single_employee.expense_money),t.append("loan_money",this.single_employee.loan_money),t.append("accomodation_money",this.single_employee.accomodation_money),t.append("fine_money",this.single_employee.fine_money),t.append("other_expense",this.single_employee.other_expense),t.append("other_minus",this.single_employee.other_minus),t.append("asaish_code",this.single_employee.asaish_code),document.getElementById("btn_add_employee").setAttribute("disabled","disabled"),this.$http.post("/employee/addEmployee",t).then(({data:t})=>{this.$alert("Successfully","Success","success"),this.employees.unshift({emp_id:t.emp_id,first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,staff_name:this.staffs.filter(t=>t.st_id==this.single_employee.st_id)[0].staff_name,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:(new Date).toISOString().split("T")[0],salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,identification_image_path:t.identification_image_path,personal_image_path:t.personal_image_path,active_status:"1",country:this.single_employee.country,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport,asaish_code:this.single_employee.asaish_code}),this.clear_employee()}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_add_employee").removeAttribute("disabled")})}},update_employee(){U.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for update !","","warning"):U.includes(this.single_employee.first_name)||U.includes(this.single_employee.st_id)||U.includes(this.single_employee.birth_date)||U.includes(this.single_employee.last_name)||U.includes(this.single_employee.phone)||U.includes(this.single_employee.salary_type)?this.$alert("Please fill the cells with correct data !","Empty Field","warning"):(document.getElementById("btn_update_employee").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateEmployee/"+this.single_employee.emp_id,{first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,st_id:this.single_employee.st_id,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:this.single_employee.reg_date,salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,country:this.single_employee.country,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport,asaish_code:this.single_employee.asaish_code}).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===this.single_employee.emp_id);this.employees[t].first_name=this.single_employee.first_name,this.employees[t].last_name=this.single_employee.last_name,this.employees[t].staff_name=this.staffs.filter(t=>t.st_id==this.single_employee.st_id)[0].staff_name,this.employees[t].phone=this.single_employee.phone,this.employees[t].reg_date=this.single_employee.reg_date,this.employees[t].salary_type=this.single_employee.salary_type,this.employees[t].monthly_salary=this.single_employee.monthly_salary,this.employees[t].daily_salary=this.single_employee.daily_salary,this.employees[t].country=this.single_employee.country,this.employees[t].food_money=this.single_employee.food_money,this.employees[t].transport_money=this.single_employee.transport_money,this.employees[t].cabina_money=this.single_employee.cabina_money,this.employees[t].expense_money=this.single_employee.expense_money,this.employees[t].fine_money=this.single_employee.fine_money,this.employees[t].loan_money=this.single_employee.loan_money,this.employees[t].accomodation_money=this.single_employee.accomodation_money,this.employees[t].other_expense=this.single_employee.other_expense,this.employees[t].other_minus=this.single_employee.other_minus,this.employees[t].expiry_passport=this.single_employee.expiry_passport,this.employees[t].asaish_code=this.single_employee.asaish_code,this.$alert("Successfully changed","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_employee").removeAttribute("disabled")}))},update_identification_image(){if(U.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(U.includes(this.single_employee.identification_image_file))this.$alert("Please select a image","No image selected","warning");else{var t=new FormData;t.append("identification_image",this.single_employee.identification_image_file),document.getElementById("btn_update_id_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateIdentificationImage/"+this.single_employee.emp_id,t).then(({data:t})=>{let e=this.employees.findIndex(t=>t.emp_id===this.single_employee.emp_id);this.employees[e].identification_image_path=t.identification_image_path,this.single_employee.identification_image_path=t.identification_image_path,this.$alert("Successfully changed","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_id_image").removeAttribute("disabled")})}},update_personal_image(){if(U.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(U.includes(this.single_employee.personal_image_file))this.$alert("Please select a image","No image selected","warning");else{var t=new FormData;t.append("personal_image",this.single_employee.personal_image_file),document.getElementById("btn_update_personal_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updatePersonalImage/"+this.single_employee.emp_id,t).then(({data:t})=>{let e=this.employees.findIndex(t=>t.emp_id===this.single_employee.emp_id);this.employees[e].personal_image_path=t.personal_image_path,this.single_employee.personal_image_path=t.personal_image_path,this.$alert("Successfully changed","Success","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_personal_image").removeAttribute("disabled")})}},delete_identification_image(){U.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deleteIdentificationImage/"+this.single_employee.emp_id).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===this.single_employee.emp_id);this.employees[t].identification_image_path=null,this.single_employee.identification_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(t=>{C(t)})},delete_personal_image(){U.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deletePersonalImage/"+this.single_employee.emp_id).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===this.single_employee.emp_id);this.employees[t].personal_image_path=null,this.single_employee.personal_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(t=>{C(t)})},active_employee(t){this.$confirm("Are you sure to active this employee?","Warning","question").then(()=>{this.$http.patch("/employee/activeEmployee/"+t).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===t);this.employees[e].active_status="1",this.$alert("Employee Actived","Active","success")}).catch(t=>{C(t)})})},deactive_employee(t){this.$confirm("are you sure to deactive this employee?","Warning","question").then(()=>{this.$http.patch("/employee/deactiveEmployee/"+t).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===t);this.employees[e].active_status="0",this.$alert("Employee Deactived","Deactive","success")}).catch(t=>{C(t)})})},organize_point(t){var e=t.toString(),a=e.substr(e.lastIndexOf(".")+1,3);return Number("000"==a?e.substring(0,e.lastIndexOf(".")):e)},organize_date(t){if(null==t)return null;var e=new Date(t);return e.toISOString().split("T")[0]},search_employee(){""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then(({data:t})=>{this.employees=t,document.getElementById("paginations").style.display="none"})},refresh(){this.get_limited_data(1),this.search="",document.getElementById("paginations").style.display="block",this.current_pagination=1}},filters:{employees_status_filter(t,e){return[Y[e].deactive,Y[e].active][t]}},watch:{"single_employee.monthly_salary":function(t){"Monthly"==this.single_employee.salary_type&&(this.single_employee.daily_salary=this.organize_point((Number(t)/26).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.daily_salary":function(t){"Daily"==this.single_employee.salary_type&&(this.single_employee.monthly_salary=this.organize_point((26*Number(t)).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.country":function(t){1==t&&(this.single_employee.expiry_passport=null)},searchStaffID(t){t?this.$http.post("/employee/getAllEmployeeBystaff/"+t).then(({data:t})=>{this.btnEmployees=t}):this.btnEmployees=[]}}},G=q,V=(a("9dff"),Object(d["a"])(G,H,R,!1,null,"23961389",null)),K=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[t._v(" "+t._s(t.userLanguage[t.language].users)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_user"}},[t._v(" "+t._s(t.userLanguage[t.language].add_user)+" "),a("i",{staticClass:"fa fa-plus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_search,expression:"user_search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:t.userLanguage[t.language].search+"..."},domProps:{value:t.user_search},on:{input:function(e){e.target.composing||(t.user_search=e.target.value)}}})]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.userLanguage[t.language].id)+" ")]),a("th",[t._v(" "+t._s(t.userLanguage[t.language].username)+" ")]),a("th",[t._v(" "+t._s(t.userLanguage[t.language].full_name)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.userLanguage[t.language].role)+" ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" ")]),a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.userLanguage[t.language].status)+" ")]),a("th",{staticStyle:{width:"16%"}},[t._v(" "+t._s(t.userLanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_users,(function(e){return a("tr",{key:e.user_id},[a("td",[t._v(" "+t._s(e.user_id)+" ")]),a("td",[t._v(" "+t._s(e.username)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(t._f("role_filter")(e.role))+" ")]),a("td",[t._v(" "+t._s(e.phone)+" ")]),a("td",{class:{"text-success":"1"==e.active_status,"text-danger":"0"==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_user"},on:{click:function(a){return t.get_user(e.user_id)}}},[a("i",{staticClass:"fa fa-edit"})]),"1"==e.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_user(e.user_id)}}},[a("i",{staticClass:"fa fa-lock"})]):t._e(),"0"==e.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_user(e.user_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):t._e(),["U","A"].includes(e.role)?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_user(e.user_id)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()])])})),0)])])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_user"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_user()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" User Information ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].role)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.role,expression:"single_user.role"}],staticClass:" form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"role",e.target.multiple?a:a[0])}}},[null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?a("option",{attrs:{value:"A"}},[t._v("Admin")]):t._e(),null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?a("option",{attrs:{value:"U"}},[t._v("User")]):t._e(),null==t.single_user.user_id?a("option",{attrs:{value:"E"}},[t._v("Supervisor")]):t._e()])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.first_name,expression:"single_user.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"first_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].last_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.last_name,expression:"single_user.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].password)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.password,expression:"single_user.password"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.password},on:{input:function(e){e.target.composing||t.$set(t.single_user,"password",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone1,expression:"single_user.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:t.single_user.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone1",e.target.value)}}})]),"E"==t.single_user.role&&null==t.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone2,expression:"single_user.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:t.single_user.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone2",e.target.value)}}})]):t._e(),"E"==t.single_user.role&&null==t.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].job_title)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.job_id,expression:"single_user.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"job_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.jobs,(function(e){return a("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])}))],2)]):t._e(),a("hr"),a("div",{staticClass:"row mb-3"},[null==t.single_user.user_id?a("div",{staticClass:"col-sm-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_user"},on:{click:function(e){return t.add_user()}}},[t._v(" "+t._s(t.userLanguage[t.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",on:{click:function(e){return t.update_user()}}},[t._v(" "+t._s(t.userLanguage[t.language].save)+" "),a("i",{staticClass:"fa fa-save"})])]):t._e(),null!=t.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.update_password()}}},[t._v(" "+t._s(t.userLanguage[t.language].update_password)+" "),a("i",{staticClass:"fa fa-lock"})])]):t._e()])])])])])])],1)},J=[],Z={Kurdish:{users:"بەکارهێنەرەکان",add_user:"زیادکردنی بەکارهێنەر",search:"گـەڕان",id:"کۆد",username:"ناوی بەکارهێنەر",full_name:"ناوی تەواو",role:"ڕۆڵ",phone:"ژ.مۆبایل",status:"دۆخ",actions:"کردارەکان",user_information:"زانیاری بەکارهێنەر",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",password:"وشەی نهێنی",job_title:"کار",add:"زیادکردن",save:"گۆڕانکاری",update_password:"گۆڕینی وشەی نهێنی",active:"چالاک",deactive:"ناچالاک"},English:{users:"Users",add_user:"Add User",search:"Search",id:"ID",username:"Username",full_name:"Full name",role:"Role",phone:"Phone",status:"Status",actions:"Actions",user_information:"User Information",first_name:"First name",last_name:"Last name",password:"Password",job_title:"Job Title",add:"Add",save:"Save",update_password:"Update Password",active:"Active",deactive:"Deactive"},Arabic:{users:"المستخدمون",add_user:"إضافة المستخدمين",search:"بحث",id:"رقـم",username:"اسم المستخدم",full_name:"الاسم الكامل",role:"وظيفة",phone:"موبایل",status:"حالة",actions:"أجراءات",user_information:"معلومات المستخدم",first_name:"الاسم الاول",last_name:"الاسم الثاني",password:"كلمه السر",job_title:"عمل",add:"اضافة",save:"تغيير المعلومات",update_password:"تغیير كلمة السر",active:"نشيط",deactive:"معاق"}};const X=["",null];var tt={name:"Users",data(){return{users:[],single_user:{user_id:null,first_name:"",last_name:"",password:"",phone1:"",phone2:"",role:"U",job_id:null},jobs:[],user_search:"",userLanguage:Z,language:"English"}},beforeCreate(){w("users")},created(){this.$http.post("/user/getData").then(({data:t})=>{this.users=t}),this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_user(t){const[e]=this.users.filter(e=>e.user_id==t);this.single_user.user_id=e.user_id,this.single_user.first_name=e.full_name.split(" ")[0],this.single_user.last_name=e.full_name.split(" ")[1],this.single_user.phone1=e.username,this.single_user.phone2=e.phone,this.single_user.role=e.role},clear_user(){this.single_user.user_id=null,this.single_user.first_name="",this.single_user.last_name="",this.single_user.password="",this.single_user.phone1="",this.single_user.phone2="",this.single_user.role="U",this.single_user.job_id=null},async add_user(){"E"==this.single_user.role?X.includes(this.single_user.first_name)||X.includes(this.single_user.last_name)||X.includes(this.single_user.phone1)||X.includes(this.single_user.phone2)||X.includes(this.single_user.job_id)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):(document.getElementById("btn_add_user").setAttribute("disabled","disabled"),this.$http.post("/engineer/addEngineer",{first_name:this.single_user.first_name,last_name:this.single_user.last_name,job_id:this.single_user.job_id,phone1:this.single_user.phone1,phone2:this.single_user.phone2}).then(({data:t})=>{this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,en_id:t.en_id,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:t})=>{this.$alert("Successfully user added","Success","success"),this.users.push({user_id:t.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()})}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_add_user").removeAttribute("disabled")})):X.includes(this.single_user.phone1)||X.includes(this.single_user.first_name)||X.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:t})=>{this.$alert("Successfully user added","Success","success"),this.users.push({user_id:t.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()}).catch(t=>{C(t)})},update_user(){X.includes(this.single_user.phone1)||X.includes(this.single_user.first_name)||X.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.$confirm("Do you want update the informations ?","","question").then(()=>{this.$http.patch("/user/updateUser/"+this.single_user.user_id,{username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(()=>{let t=this.users.findIndex(t=>t.user_id==this.single_user.user_id);this.users[t].username=this.single_user.phone1,this.users[t].full_name=this.single_user.first_name+" "+this.single_user.last_name,this.users[t].role=this.single_user.role,this.users[t].phone=this.single_user.phone1,this.$alert("Informations successfully updated","Success","success")}).catch(t=>{C(t)})})},update_password(){this.single_user.password.length>=6?this.$confirm("Are you sure update password for this user account ?","","question").then(()=>{this.$http.patch("/user/updatePassword/"+this.single_user.user_id,{password:this.single_user.password}).then(()=>{this.$alert("Password successfully updated","Success","success"),this.single_user.password=""})}):this.$alert("Minimum password character: 6","Password","warning")},deactive_user(t){this.$confirm("Are you sure deactive this user account ?","","question").then(()=>{this.$http.patch("/user/deactiveUser/"+t).then(()=>{let e=this.users.findIndex(e=>e.user_id==t);this.users[e].active_status="0",this.$alert("User successfully deactived","Success","success")}).catch(t=>{C(t)})})},active_user(t){this.$confirm("Are you sure active this user account ?","","question").then(()=>{this.$http.patch("/user/activeUser/"+t).then(()=>{let e=this.users.findIndex(e=>e.user_id==t);this.users[e].active_status="1",this.$alert("User successfully actived","Success","success")}).catch(t=>{C(t)})})},delete_user(t){this.$confirm("Are you sure delete this user account ?","","question").then(()=>{this.$http.delete("/user/deleteUser/"+t).then(()=>{this.$alert("User successfully deleted","Success","success"),this.users=this.users.filter(e=>e.user_id!=t)}).catch(t=>{C(t)})})}},computed:{filtered_users(){return this.users.filter(t=>t.user_id==this.user_search||t.username.match(this.user_search)||t.full_name.match(this.user_search)||t.phone.match(this.user_search)||t.role.toLowerCase().match(this.user_search))}},filters:{status_filter(t,e){return[Z[e].deactive,Z[e].active][t]},role_filter(t){return"A"==t?"Admin":"U"==t?"User":"Engineer"}}},et=tt,at=(a("32d9"),Object(d["a"])(et,W,J,!1,null,"2d96aa1c",null)),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[t._v(" "+t._s(t.attendanceLanguage[t.language].daily_staff_list_and_employee_attendance)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 text-dark py-1"},[a("button",{staticClass:"btn btn-info btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#list_info"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].list_info)+" "),a("i",{staticClass:"fa fa-arrow-down"})]),a("div",{staticClass:"collapse mb-3",attrs:{id:"list_info"}},[a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].list_id)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.dsl_id,expression:"dsl_list.dsl_id"}],staticClass:"form-control text-center",attrs:{type:"number",readonly:""},domProps:{value:t.dsl_list.dsl_id},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"dsl_id",e.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].work_date)+": ")]),"E"!=t.user.role?a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date"},domProps:{value:t.dsl_list.work_date},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"work_date",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date",min:t.startDate,max:t.endDate},domProps:{value:t.dsl_list.work_date},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"work_date",e.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language",attrs:{id:"work_date"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.st_id,expression:"dsl_list.st_id"}],staticClass:"form-control text-center",attrs:{id:"staff"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dsl_list,"st_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("label",{staticClass:"mt-2 px-2 multi-language col-sm-10"},[t._v(" "+t._s(t.attendanceLanguage[t.language].location)+" : ")]),t.is_edit?a("button",{staticClass:"btn btn-success btn-sm col-sm-2",on:{click:function(e){return t.dsl_list.location.push("")}}},[a("i",{staticClass:"fa fa-plus"})]):t._e(),t._l(t.dsl_list.location,(function(e,s){return a("div",{key:s,staticClass:"row mt-2 float-left col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.location[s],expression:"dsl_list.location[index]"}],staticClass:"form-control text-center col-sm-10 mb-1 locations",attrs:{type:"text",readonly:1==t.dsl_list.location.length&&t.employees.length>0||0==t.is_edit},domProps:{value:t.dsl_list.location[s]},on:{change:function(e){return t.update_list_location(t.dsl_list.location[s],s)},input:function(e){e.target.composing||t.$set(t.dsl_list.location,s,e.target.value)}}}),t.dsl_list.location.length>1&&t.is_edit?a("button",{staticClass:"btn btn-danger btn-sm mb-1 mx-1",on:{click:function(e){return t.delete_location(t.dsl_list.location[s])}}},[a("i",{staticClass:"fa fa-minus"})]):t._e()])})),a("br"),a("br"),a("br"),a("br"),a("label",{staticClass:"px-2 multi-language col-sm-12"},[t._v(" "+t._s(t.attendanceLanguage[t.language].note)+": ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.note,expression:"dsl_list.note"}],staticClass:"form-control mb-3",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"5"},domProps:{value:t.dsl_list.note},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"note",e.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].foods)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.food_number,expression:"dsl_list.food_number"}],staticClass:"form-control mb-3 text-center",attrs:{type:"number",disabled:!t.is_edit||null==t.dsl_list.dsl_id},domProps:{value:t.dsl_list.food_number},on:{change:function(e){return t.set_food_number()},input:function(e){e.target.composing||t.$set(t.dsl_list,"food_number",e.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.food_group,expression:"dsl_list.food_group"}],staticClass:"form-control mb-3 text-center",attrs:{disabled:!t.is_edit||null==t.dsl_list.dsl_id},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dsl_list,"food_group",e.target.multiple?a:a[0])},function(e){return t.set_food_group()}]}},[a("option",{attrs:{value:"barzayakan"}},[t._v("بەرزاییەکان")]),a("option",{attrs:{value:"A"}},[t._v("A")]),a("option",{attrs:{value:"B"}},[t._v("B")]),a("option",{attrs:{value:"C"}},[t._v("C")]),a("option",{attrs:{value:"D"}},[t._v("D")]),a("option",{attrs:{value:"E"}},[t._v("E")])]),null==t.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn-add"},on:{click:function(e){return t.add_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].add_list)+" "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update"},on:{click:function(e){return t.update_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):t._e(),a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-info btn-block",attrs:{id:"btn_clear"},on:{click:function(e){return t.clear_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].clear)+" "),a("i",{staticClass:"fa fa-trash"})])])],2),"A"==t.user.role?a("button",{staticClass:"btn btn-danger btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#missed_employees"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].missed_employees)+" "),a("i",{staticClass:"fa fa-arrow-down"})]):t._e(),a("div",{staticClass:"collapse px-2",attrs:{id:"missed_employees"}},t._l(t.missed_employees,(function(e){return a("button",{key:e.emp_id,staticClass:"btn btn-primary btn-block",attrs:{id:"missed"+e.emp_id},on:{click:function(a){return t.add_missed_to_attendance(e.emp_id,"missed"+e.emp_id)}}},[t._v(" "+t._s(e.full_name)+" ")])})),0)]),a("div",{staticClass:"col-xl-9",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"25%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].employee)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].overtime)+" ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].worked_hours)+" ")]),t.is_edit?a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].status)+" ")]):t._e(),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].location)+" ")]),t.is_edit?a("th",{staticStyle:{width:"16%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].actions)+" ")]):t._e()]),a("tbody",t._l(t.employees,(function(e){return a("tr",{key:e.at_id},[a("td",{class:{"bg-success text-white":e.main_st_id!=t.dsl_list.st_id}},[t._v(" "+t._s(e.full_name)+" "),e.main_st_id!=t.dsl_list.st_id?a("hr"):t._e(),e.main_st_id!=t.dsl_list.st_id?a("small",[t._v(" "+t._s(t.other.staffs.filter((function(t){return t.st_id==e.main_st_id}))[0].staff_name)+" ")]):t._e()]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.overtime,expression:"employee.overtime",modifiers:{lazy:!0}}],staticClass:"form-control text-center",staticStyle:{padding:"0 !important"},attrs:{type:"number",min:"0",readonly:0==t.is_edit||1==e.absent},domProps:{value:e.overtime},on:{change:[function(a){return t.$set(e,"overtime",a.target.value)},function(a){return t.set_overtime(e.overtime,e.at_id)}]}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.worked_hours,expression:"employee.worked_hours",modifiers:{lazy:!0}}],staticClass:"form-control text-center",attrs:{type:"number",min:"0",readonly:0==t.is_edit||1==e.absent},domProps:{value:e.worked_hours},on:{change:[function(a){return t.$set(e,"worked_hours",a.target.value)},function(a){return t.set_worked_hours(e.worked_hours,e.at_id)}]}})]),t.is_edit?a("td",[a("button",{staticClass:"btn btn-danger btn-block mx-1 mb-1",attrs:{disabled:1==e.absent},on:{click:function(a){return t.set_to_absent(e.at_id)}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].absent)+" ")]),a("button",{staticClass:"btn btn-success btn-block mx-1 mb-1",attrs:{disabled:0==e.absent},on:{click:function(a){return t.set_to_present(e.at_id)}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].present)+" ")])]):t._e(),a("td",t._l(t.dsl_list.location.filter((function(t){return t.length>0})),(function(s,i){return a("button",{key:i,staticClass:"btn m-1",class:{"btn-secondary":s!=e.location,"btn-success":s==e.location},attrs:{disabled:s==e.location||0==t.is_edit},on:{click:function(a){return t.set_location(s,e.at_id)}}},[t._v(" "+t._s(s)+" ")])})),0),t.is_edit?a("td",[a("button",{staticClass:"btn btn-primary mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_fine"},on:{click:function(a){return t.get_attendance(e.at_id)}}},[a("i",{staticClass:"fa fa-edit"})]),e.main_st_id!=t.dsl_list.st_id?a("button",{staticClass:"btn btn-danger mx-1 mb-1",on:{click:function(a){return t.return_employee(e.at_id,e.main_st_id)}}},[a("i",{staticClass:"fa fa-trash"})]):a("button",{staticClass:"btn btn-success mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_change_staff"},on:{click:function(a){return t.get_employee_staff(e.at_id)}}},[a("i",{staticClass:"fa fa-paper-plane"})])]):t._e()])})),0)])])])])],1)]),a("change-pass"),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_fine"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee}},[t._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[t._v(" Information ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.attendanceLanguage[t.language].fine)+": ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.fine,expression:"single_employee.fine"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.fine},on:{keypress:function(e){return t.validateNumber(e)},input:function(e){e.target.composing||t.$set(t.single_employee,"fine",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.attendanceLanguage[t.language].fine_reason)+": ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.fine_reason,expression:"single_employee.fine_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.fine_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"fine_reason",e.target.value)}}})]),t._m(0),a("hr"),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Transport: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.transport,expression:"single_employee.transport"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.transport},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"transport",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Transport Reason: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.transport_reason,expression:"single_employee.transport_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.transport_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"transport_reason",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Food: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.food,expression:"single_employee.food"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.food},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"food",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Food Reason: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.food_reason,expression:"single_employee.food_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.food_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"food_reason",e.target.value)}}})]),a("hr"),"A"==t.user.role?[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Expense: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expense,expression:"single_employee.expense"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.expense},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expense",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Expense Reason: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expense_reason,expression:"single_employee.expense_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.expense_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expense_reason",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Loan: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.loan,expression:"single_employee.loan"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.loan},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"loan",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Loan Reason: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.loan_reason,expression:"single_employee.loan_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.loan_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"loan_reason",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Accomodation: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.accomodation,expression:"single_employee.accomodation"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.accomodation},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"accomodation",e.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Accomodation Reason: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.accomodation_reason,expression:"single_employee.accomodation_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.accomodation_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"accomodation_reason",e.target.value)}}})]),a("hr")]:t._e(),a("div",{staticClass:"row mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_attendance"},on:{click:function(e){return t.update_attendance()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].save)+" "),a("i",{staticClass:"fa fa-save"})])])],2)])])])]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_change_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee_staff}},[t._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[t._v(" "+t._s(t.attendanceLanguage[t.language].send_employee_to_another_staff)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.attendanceLanguage[t.language].new_staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee_staff.new_st_id,expression:"single_employee_staff.new_st_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee_staff,"new_st_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.filtered_other_staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.send_employee()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].send)+" "),a("i",{staticClass:"fa fa-paper-plane"})])])])])])])],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"alert alert-warning w-100 text-center"},[t._v(" Warning: minus not allowed in Fine. ")])])}],lt={Kurdish:{daily_staff_list_and_employee_attendance:"لیستی ڕۆژانەی ستافەکان و غیاباتی کارمەندان",list_info:"زانیاری لیست",list_id:"کۆدی لیست",work_date:"بەروار",staff:"ستاف",location:"شوێن",note:"تێبینی",add_list:"زیادکردنی لیست",save_changes:"گۆڕینی زانیاری",clear:"سڕینەوە",employee:"کارمەند",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",status:"دۆخ",actions:"کردارەکان",absent:"نەهاتوو",present:"ئامادەبوو",off:"پشوو",fine_information:"زانیاری سەرپێچی",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێچی",save:"خەزن کردن",send_employee_to_another_staff:"ناردنی کارمەند بۆ ستافێکی دیکە",new_staff:"ستافی تازە",send:"ناردن",foods:"خواردنەکان",missed_employees:"کارمەندە داخڵ نەکراوەکان"},English:{daily_staff_list_and_employee_attendance:"Daily staff list and employee attendance",list_info:"List Info",list_id:"List ID",work_date:"Work Date",staff:"Staff",location:"Location",note:"Note",add_list:"Add List",save_changes:"Save Changes",clear:"Clear",employee:"Employee",overtime:"Over Time",worked_hours:"Worked(h)",status:"Status",actions:"Actions",absent:"Absent",present:"Present",off:"Off",fine_information:"Fine Information",fine:"Fine",fine_reason:"Fine reason",save:"Save",send_employee_to_another_staff:"Send employee to another staff",new_staff:"New Staff",send:"Send",foods:"Foods",missed_employees:"Missed employees"},Arabic:{daily_staff_list_and_employee_attendance:"القائمة اليومية لغياب الموظفين",list_info:"معلومات القائمة",list_id:"رقم القائمة",work_date:"تاريخ",staff:"العاملين",location:"موقع",note:"ملاحظة",add_list:"اضـف قائمة",save_changes:"تغيير المعلومات",clear:"حذف",employee:"موظـف",overtime:"وقت إضافي",worked_hours:"وقت العمل",status:"حالة",actions:"أجراءات",absent:"غـیاب",present:"كان حاضرا",off:"يوم الاجازة",fine_information:"معلومات الغرامة",fine:"مقدار الغرامة",fine_reason:"سبب الغرامة",save:"حفظ",send_employee_to_another_staff:"إرسال الموظفين إلى قائمة آخر",new_staff:"قائمة جديد",send:"ارسال",foods:"طعام",missed_employees:"موظفين غير مدمجين"}};const ot=["",null];var rt={name:"Attendance",data(){return{employees:[],missed_employees:[],staffs:[],single_employee:{at_id:null,fine:0,fine_reason:"",expense:0,expense_reason:"",transport:0,transport_reason:"",food:0,food_reason:"",loan:0,loan_reason:"",accomodation:0,accomodation_reason:""},single_employee_staff:{at_id:null,new_st_id:null},dsl_list:{dsl_id:null,st_id:null,work_date:(new Date).toISOString().split("T")[0],location:[""],note:"",food_number:0,food_group:null},other:{staffs:[]},user:{username:"",role:"",en_id:null},attendanceLanguage:lt,language:"English"}},beforeCreate(){w("attendance")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})}),this.$http.post("/staff/getData").then(({data:t})=>{this.other.staffs=t.filter(t=>"1"==t.show_staff)})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_attendance(t){const[e]=this.employees.filter(e=>e.at_id==t);this.single_employee.at_id=t,this.single_employee.fine=e.fine,this.single_employee.fine_reason=e.fine_reason,this.single_employee.expense=e.expense,this.single_employee.expense_reason=e.expense_reason,this.single_employee.transport=e.transport,this.single_employee.transport_reason=e.transport_reason,this.single_employee.food=e.food,this.single_employee.food_reason=e.food_reason,this.single_employee.loan=e.loan,this.single_employee.loan_reason=e.loan_reason,this.single_employee.accomodation=e.accomodation,this.single_employee.accomodation_reason=e.accomodation_reason,this.single_employee.salary_type=e.salary_type},get_list(t,e){this.$http.post("/daily_staff_list/getListAndAttendance",{st_id:t,work_date:e}).then(({data:t})=>{if(this.employees=t.employees,null!=t.dsl_list){this.dsl_list.dsl_id=t.dsl_list.dsl_id;let e=t.dsl_list.location;this.dsl_list.location=e.split(","),this.dsl_list.note=t.dsl_list.note,this.dsl_list.food_number=t.dsl_list.food_number,this.dsl_list.food_group=t.dsl_list.food_group}else this.dsl_list.dsl_id=null,this.dsl_list.location=[""],this.dsl_list.note="",this.dsl_list.food_number=0,this.dsl_list.food_group=null}).catch(t=>{C(t)})},get_missed_employees(){this.$http.post("/attendance/getMissedEmployees",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date}).then(({data:t})=>{this.missed_employees=t})},clear_list(){this.dsl_list.dsl_id=null,this.dsl_list.st_id=null,this.dsl_list.work_date=(new Date).toISOString().split("T")[0],this.dsl_list.location=[""],this.dsl_list.note="",this.employees=[],this.dsl_list.food_number=0,this.dsl_list.food_group=null},clear_single_employee(){this.single_employee.at_id=null,this.single_employee.fine=0,this.single_employee.fine_reason="",this.single_employee.expense=0,this.single_employee.expense_reason="",this.single_employee.transport=0,this.single_employee.transport_reason="",this.single_employee.food=0,this.single_employee.food_reason="",this.single_employee.loan=0,this.single_employee.loan_reason="",this.single_employee.accomodation=0,this.single_employee.accomodation_reason=""},clear_single_employee_staff(){this.single_employee_staff.at_id=null,this.single_employee_staff.new_st_id=null},async add_list(){if(this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),ot.includes(this.dsl_list.st_id)||ot.includes(this.dsl_list.work_date)||ot.includes(this.dsl_list.st_id)||this.dsl_list.location.includes(""))this.$alert("Fill all required fields","Empty Field","warning");else{this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),document.getElementById("btn-add").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),await this.$http.post("/daily_staff_list/addList",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date,user:this.user.username,location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:t,datetime_log:t}).then(({data:t})=>{document.getElementById("btn-add").removeAttribute("disabled"),this.dsl_list.dsl_id=t.dsl_id,this.employees=t.employees,this.other.staffs.push({dsl_id:t.dsl_id,st_id:this.dsl_list.st_id,staff_name:this.staffs.filter(t=>t.st_id==this.dsl_list.st_id)[0].staff_name}),this.missed_employees=[],this.$alert("List Created","Successfull","success")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled"),document.getElementById("btn-update").removeAttribute("disabled")})}},add_missed_to_attendance(t,e){null!=this.dsl_list.dsl_id&&this.$confirm("Are you sure add this employee ?","","question").then(()=>{document.getElementById(e).setAttribute("disabled","disabled");var a=new Date;a.setHours(a.getHours()+3),this.$http.post("/attendance/addAttendance",{emp_id:t,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id,location:this.dsl_list.location[0]||"",user:this.user.username,employee:this.missed_employees.find(e=>e.emp_id==t).full_name,datetime_log:a,datetime_list:a}).then(({data:e})=>{this.employees.push({at_id:e.at_id,emp_id:t,full_name:this.missed_employees.filter(t=>t.emp_id)[0].full_name,main_st_id:this.dsl_list.st_id,st_id:this.dsl_list.st_id,salary_type:this.missed_employees.filter(t=>t.emp_id)[0].salary_type,overtime:0,worked_hours:8,fine:0,fine_reason:null,expense:0,expense_reason:null,transport:0,transport_reason:null,food:0,food_reason:null,loan:0,loan_reason:null,accomodation:0,accomodation_reason:null,absent:"0",location:this.dsl_list.location[0]||""}),this.missed_employees=this.missed_employees.filter(e=>e.emp_id!=t)}).catch(()=>{document.getElementById(e).removeAttribute("disabled")})})},set_to_absent(t){this.$confirm("Are you sure this employee is absent ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/setAbsent/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="1",this.employees[e].worked_hours=0,this.employees[e].overtime=0,this.$alert("Employee absented","Successfull","success")})})},set_to_present(t){this.$confirm("Are you sure this employee is present ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/cancelAbsent/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="0",this.employees[e].worked_hours=8,this.$alert("Employee presented","Successfull","success")})})},set_to_off(t){this.$confirm("Are you sure this employee is iff ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/setOff/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="2",this.employees[e].worked_hours=0,this.employees[e].overtime=0,this.$alert("Employee set to Off","Successfull","success")})})},set_worked_hours(t,e){if(this.is_edit){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setWorkedHours/"+e,{worked_hours:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:a,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:a}).then(()=>{}).catch(t=>{C(t)})}},set_overtime(t,e){if(this.is_edit){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setOvertime/"+e,{overtime:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:a,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:a}).then(()=>{}).catch(t=>{C(t)})}},set_location(t,e){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setLocation/"+e,{location:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:a,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:a}).then(()=>{let a=this.employees.findIndex(t=>t.at_id==e);this.employees[a].location=t})},set_food_number(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/setFoodNumber/"+this.dsl_list.dsl_id,{food_number:this.dsl_list.food_number,st_id:this.dsl_list.st_id,user:this.user.username,datetime_food:t,datetime_log:t}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},set_food_group(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/setFoodGroup/"+this.dsl_list.dsl_id,{food_group:this.dsl_list.food_group,st_id:this.dsl_list.st_id,user:this.user.username,datetime_food:t,datetime_log:t}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},get_employee_staff(t){this.single_employee_staff.at_id=t},send_employee(){ot.includes(this.single_employee_staff.new_st_id)?this.$alert("Select new staff","Empty staff","warning"):this.$confirm("Are you sure send this employee to choosed staff ? ","","question").then(()=>{const[t]=this.employees.filter(t=>t.at_id==this.single_employee_staff.at_id);this.$http.patch("/attendance/changeStaff/"+this.single_employee_staff.at_id+"/"+this.single_employee_staff.new_st_id+"/"+this.dsl_list.work_date+"/"+this.dsl_list.st_id,{emp_id:t.emp_id,overtime:t.overtime,worked_hours:t.worked_hours,fine:t.fine,fine_reason:t.fine_reason,expense:t.expense,expense_reason:t.expense_reason,transport:t.transport,transport_reason:t.transport_reason,food:t.food,food_reason:t.food_reason,loan:t.loan,loan_reason:t.loan_reason,accomodation:t.accomodation,accomodation_reason:t.accomodation_reason,absent:t.absent,work_date:this.dsl_list.work_date}).then(()=>{this.$alert("Employee sended","Success","success"),this.employees=this.employees.filter(t=>t.at_id!=this.single_employee_staff.at_id)})})},return_employee(t,e){this.$confirm("Are you sure return this employee to own staff ?","","question").then(()=>{this.$http.patch("/attendance/returnEmployee/"+t+"/"+e,{work_date:this.dsl_list.work_date}).then(()=>{this.employees=this.employees.filter(e=>e.at_id!=t)}).catch(t=>{C(t)})})},update_list(){null!=this.dsl_list.dsl_id&&(ot.includes(this.dsl_list.location)?this.$alert("Write a location","Empty Field","warning"):this.$confirm("Are you sure update the list informations ? ","","question").then(()=>{this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0);var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,st_id:this.dsl_list.st_id,user:this.user.username,datetime_list:t,datetime_log:t}).then(()=>{this.$alert("List Updated","Success","success")})}))},update_list_location(t,e){if(ot.includes(this.dsl_list.location.join(",")))this.$alert("Enter location","Empty location","warning");else if(this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),this.dsl_list.location.filter(e=>e==t).length>1)this.$alert("Duplicate location","Warning","warning"),this.dsl_list.location[e]="";else{var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:a}).then(()=>{var e=[];this.employees.forEach(t=>{this.dsl_list.location.includes(t.location)||e.push(t.at_id)}),e.length>0&&this.$http.patch("/attendance/updateAttendancesLocation",{emps:e,location:t,datetime_log:a,user:this.user.username,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id}).then(()=>{e.forEach(e=>{let a=this.employees.findIndex(t=>t.at_id==e);this.employees[a].location=t})})})}},delete_location(t){this.employees.filter(e=>e.location==t).length>0?this.$alert("One of the employees in this location","You can't delete this location","error"):(this.dsl_list.location=this.dsl_list.location.filter(e=>e!=t),this.update_list_location(t,0))},update_attendance(){if(null!=this.single_employee.at_id)if(this.single_employee.fine<0)this.$alert("You can't set this fine","Warning","warning");else{document.getElementById("btn_update_attendance").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/attendance/updateAttendance/"+this.single_employee.at_id,{fine:this.single_employee.fine,fine_reason:this.single_employee.fine_reason,expense:this.single_employee.expense,expense_reason:this.single_employee.expense_reason,transport:this.single_employee.transport,transport_reason:this.single_employee.transport_reason,food:this.single_employee.food,food_reason:this.single_employee.food_reason,loan:this.single_employee.loan,loan_reason:this.single_employee.loan_reason,accomodation:this.single_employee.accomodation,accomodation_reason:this.single_employee.accomodation_reason,user:this.user.username,datetime_log:t,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id,employee:this.employees.find(t=>t.at_id==this.single_employee.at_id).full_name}).then(()=>{this.$alert("Update Successfull","Success","success");let t=this.employees.findIndex(t=>t.at_id==this.single_employee.at_id);this.employees[t].fine_reason=this.single_employee.fine_reason,this.employees[t].fine=this.single_employee.fine,this.employees[t].expense_reason=this.single_employee.expense_reason,this.employees[t].expense=this.single_employee.expense,this.employees[t].transport_reason=this.single_employee.transport_reason,this.employees[t].transport=this.single_employee.transport,this.employees[t].food_reason=this.single_employee.food_reason,this.employees[t].food=this.single_employee.food,this.employees[t].loan_reason=this.single_employee.loan_reason,this.employees[t].loan=this.single_employee.loan,this.employees[t].accomodation_reason=this.single_employee.accomodation_reason,this.employees[t].accomodation=this.single_employee.accomodation}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_update_attendance").removeAttribute("disabled")})}},validateNumber(t){var e=t||window.event;if("paste"===e.type)a=event.clipboardData.getData("text/plain");else{var a=e.keyCode||e.which;a=String.fromCharCode(a)}var s=/[0-9]|\./;s.test(a)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())}},watch:{"dsl_list.work_date":function(t){ot.includes(t)||ot.includes(this.dsl_list.st_id)||(this.get_list(this.dsl_list.st_id,t),this.get_missed_employees())},"dsl_list.st_id":function(t){ot.includes(t)||ot.includes(this.dsl_list.work_date)||(this.get_list(t,this.dsl_list.work_date),this.get_missed_employees())}},computed:{is_edit(){var t=new Date(this.dsl_list.work_date),e=new Date,a=t.getTime()-e.getTime(),s=Math.ceil(a/864e5);return!(s<=-3&&"E"==this.user.role)},filtered_other_staffs(){return this.other.staffs.filter(t=>t.st_id!=this.dsl_list.st_id)},startDate(){const t=new Date,e=t.getFullYear(),a=t.getMonth();return new Date(e,a,2).toISOString().split("T")[0]},endDate(){const t=new Date,e=t.getFullYear(),a=t.getMonth();return new Date(e,a+1,1).toISOString().split("T")[0]}}},_t=rt,dt=(a("26ce"),Object(d["a"])(_t,it,nt,!1,null,"3d2e4cde",null)),ct=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4 multi-language"},[t._v(t._s("Employee Debts"))]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-1 col-md-1  mt-2"},[t._v(" Staffs: ")]),a("div",{staticClass:"col-12 col-lg-3 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)])]),a("div",{staticClass:"row mt-2"},t._l(t.employees,(function(e){return a("div",{key:e.emp_id,staticClass:"col-12 col-lg-3 col-md-3 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){return t.getEmployeeDebtInfo(e.emp_id)}}},[t._v(" "+t._s(e.full_name)+" ")])])})),0),a("hr"),a("div",{staticClass:"my-1 text-dark"},[t._v(" Employee: "+t._s(t.full_name)+" "),t.full_name?a("button",{staticClass:"btn btn-success btn-sm mx-3",attrs:{"data-toggle":"modal","data-target":"#mdl_transaction"},on:{click:function(e){return t.clearTransaction()}}},[a("i",{staticClass:"fa fa-plus"})]):t._e(),t.full_name?a("button",{staticClass:"btn btn-info btn-sm mx-3",on:{click:function(e){return t.clearEmployee()}}},[a("i",{staticClass:"fa fa-broom"})]):t._e()]),t.debt<0?a("div",{staticClass:"my-1 alert alert-warning"},[t._v(" The Employee must retrive: "+t._s((-1*t.debt).toLocaleString())+" "+t._s("Daily"==t.salary_type?"IQD":"$")+" ")]):a("div",{staticClass:"my-1 alert alert-primary"},[t._v(" The Company must give: "+t._s(t.debt.toLocaleString())+" "+t._s("Daily"==t.salary_type?"IQD":"$")+" ")]),a("v-data-table",{staticClass:"text-center",attrs:{headers:t.transactionHeader,items:t.debts,"foote-props":{"items-per-page-options":[15,20]}},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item,i=e.index;return[a("tr",[a("td",[t._v(" "+t._s(i+1)+" ")]),a("td",[t._v(" "+t._s((s.transactionAmount>0?s.transactionAmount:-1*s.transactionAmount).toLocaleString())+" "+t._s("Daily"==t.salary_type?"IQD":"$")+" ")]),a("td",[t._v(" "+t._s(t._f("typeFilter")(s.transactionType))+" ")]),a("td",[t._v(" "+t._s(new Date(s.transactionDate).toISOString().split("T")[0])+" ")]),a("td",[a("v-btn",{attrs:{color:"primary",icon:"","data-toggle":"modal","data-target":"#mdl_transaction"},on:{click:function(e){return t.getSingleTransaction(s)}}},[a("v-icon",[t._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){return t.deleteTransaction(s.dtID)}}},[a("v-icon",[t._v(" mdi-delete ")])],1)],1)])]}}])})],1)],1)]),a("change-pass"),a("div",{staticClass:"modal",attrs:{id:"mdl_transaction"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" Transaction Info ")]),a("button",{staticClass:"float-right btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clearTransaction()}}},[t._v(" × ")])]),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row px-2 py-3"},[a("div",{staticClass:"col-1 pt-2"},[t._v(" Amount: ")]),a("div",{staticClass:"col-12 col-md-11 col-lg-11"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.singleTransaction.amount,expression:"singleTransaction.amount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.singleTransaction.amount},on:{input:function(e){e.target.composing||t.$set(t.singleTransaction,"amount",e.target.value)}}})]),a("div",{staticClass:"form-check col-12 my-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.singleTransaction.transactionType,expression:"singleTransaction.transactionType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radio",value:"Minus"},domProps:{checked:t._q(t.singleTransaction.transactionType,"Minus")},on:{change:function(e){return t.$set(t.singleTransaction,"transactionType","Minus")}}}),a("label",{staticClass:"form-check-label"},[t._v(" Give to Employee ")])]),a("div",{staticClass:"form-check col-12 my-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.singleTransaction.transactionType,expression:"singleTransaction.transactionType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radio",value:"Plus"},domProps:{checked:t._q(t.singleTransaction.transactionType,"Plus")},on:{change:function(e){return t.$set(t.singleTransaction,"transactionType","Plus")}}}),a("label",{staticClass:"form-check-label"},[t._v(" Retrive from Employee ")])]),a("div",{staticClass:"col-1 pt-2 mt-3"},[t._v(" Note: ")]),a("div",{staticClass:"col-12 col-md-11 col-lg-11 mt-3"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.singleTransaction.note,expression:"singleTransaction.note"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.singleTransaction.note},on:{input:function(e){e.target.composing||t.$set(t.singleTransaction,"note",e.target.value)}}})]),t.singleTransaction.dtID?a("button",{staticClass:"btn btn-warning btn-block mt-1",on:{click:function(e){return t.updateTransaction()}}},[t._v(" Save changes ")]):a("button",{staticClass:"btn btn-primary btn-block mt-1",on:{click:function(e){return t.addTransaction()}}},[t._v(" Add ")])])])])])])])],1)},ut=[],pt=(a("13d5"),{data(){return{staffs:[],employees:[],emp_id:[],st_id:null,full_name:null,salary_type:"Daily",debts:[],singleTransaction:{dtID:null,amount:0,transactionType:null,note:null}}},beforeCreate(){w("attendance")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t}).catch(t=>{C(t)})},methods:{clearTransaction(){this.singleTransaction.dtID=null,this.singleTransaction.amount=0,this.singleTransaction.transactionType=null,this.singleTransaction.note=null},clearEmployee(){this.emp_id=null,this.full_name=null,this.salary_type="Daily",this.debts=[]},getEmployeeDebtInfo(t){const e=this.employees.find(e=>e.emp_id==t);this.emp_id=t,this.full_name=e.full_name,this.salary_type=e.salary_type,this.$http.get("/employee/getEmployeeTransaction/"+t).then(({data:t})=>{this.debts=t})},addTransaction(){this.singleTransaction.amount>0&&this.singleTransaction.transactionType?this.$http.post("/employee/addDebtTransaction",{emp_id:this.emp_id,transactionAmount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,note:this.singleTransaction.note}).then(({data:t})=>{this.debts.unshift({dtID:t.dtID,emp_id:this.emp_id,transactionAmount:"Minus"==this.singleTransaction.transactionType?-1*this.singleTransaction.amount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,transactionDate:(new Date).toISOString().split("T")[0],note:this.singleTransaction.note||null}),this.clearTransaction()}):this.$alert("Please fill all informations correctly","","warning")},getSingleTransaction(t){this.singleTransaction.dtID=t.dtID,this.singleTransaction.amount="Plus"==t.transactionType?t.transactionAmount:-1*t.transactionAmount,this.singleTransaction.transactionType=t.transactionType,this.singleTransaction.note=t.note},updateTransaction(){this.$http.patch("/employee/updateDebtTransaction/"+this.singleTransaction.dtID,{transactionAmount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,note:this.singleTransaction.note}).then(()=>{let t=this.debts.findIndex(t=>t.dtID==this.singleTransaction.dtID);this.debts[t].transactionAmount="Minus"==this.singleTransaction.transactionType?-1*this.singleTransaction.amount:this.singleTransaction.amount,this.debts[t].transactionType=this.singleTransaction.transactionType,this.debts[t].note=this.singleTransaction.note,this.$alert("Success","","success")})},deleteTransaction(t){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/employee/deleteDebtTransaction/"+t).then(()=>{this.debts=this.debts.filter(e=>e.dtID!=t)})})}},computed:{debt(){return this.debts.reduce((t,e)=>t+Number(e.transactionAmount),0)},transactionHeader(){return[{text:"#",align:"center",sortable:!1},{text:"Amount",align:"center",sortable:!1},{text:"Type",align:"center",sortable:!1},{text:"Date",align:"center",sortable:!1},{text:"Actions",align:"center",sortable:!1}]}},filters:{typeFilter(t){return{Plus:"Retrieved from Employee",Minus:"Gived to Employee"}[t]}},watch:{st_id(t){t?this.$http.post("/employee/getEmployeeBystaff/"+t).then(({data:t})=>{this.employees=t}):this.employees=[]}}}),gt=pt,ht=a("8336"),ft=a("132d"),yt=Object(d["a"])(gt,mt,ut,!1,null,null,null),vt=yt.exports;m()(yt,{VBtn:ht["a"],VDataTable:E["a"],VIcon:ft["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].month)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].year)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"mt-1 col-xl-2 mb-2"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].phone_number)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text",maxlength:"11"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr"),a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staffs)+" "),a("i",{staticClass:"fa fa-arrow-down"})]),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staffs)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),t.staff_id?a("div",{staticClass:"col-sm-3 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn-actived-employees"},on:{click:function(e){return t.get_actived()}}},[t._v(" Actived Employees ")])]):t._e(),t.staff_id?a("div",{staticClass:"col-sm-3 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{id:"btn-deactived-employees"},on:{click:function(e){return t.get_deactived()}}},[t._v(" Dectived Employees ")])]):t._e()]),a("hr"),a("div",{staticClass:"row no-print"},t._l(t.employees,(function(e){return a("div",{key:e.phone,staticClass:"col-sm-2 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){t.phone=e.phone}}},[t._v(" "+t._s(e.full_name)+" ")])])})),0)]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"no-print row"},[a("label",{staticClass:"mt-1 mx-2"},[t._v(" 1 $ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 text-center",attrs:{type:"number",min:"0",readonly:null!=t.gs_id},domProps:{value:t.dollar_price},on:{input:function(e){e.target.composing||(t.dollar_price=e.target.value)}}}),a("label",{staticClass:"mt-1 mx-2"},[t._v(" IQD ")])]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"row px-1 py-1 mb-2",attrs:{id:"report"}},[a("div",{staticClass:"col-12 py-1 multi-language",staticStyle:{border:"1px solid","overflow-x":"auto"}},[a("img",{staticClass:"mb-3 float-right",staticStyle:{border:"1px solid"},attrs:{src:t.employee.personal_image,width:"12%"}}),null!=t.gs_id?a("button",{staticClass:"btn btn-success btn-multi-language ml-1 float-right no-print",attrs:{"data-toggle":"modal","data-target":"#mdl_give_detail"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].give_salary)+" "),a("i",{staticClass:"fa fa-check-circle"})]):a("button",{staticClass:"btn btn-primary btn-multi-language ml-1 float-right no-print",on:{click:function(e){return t.create_monthly_receipt()}}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].create_monthly_receipt)+" "),a("i",{staticClass:"fa fa-plus"})]),t.debt<0?a("span",{staticClass:"mx-5 float-right"},[t._v(" The Employee has "+t._s((-1*t.debt).toLocaleString())+" "+t._s("Daily"==t.employee.salary_type?"IQD":"$")+" ")]):a("span",{staticClass:"mx-5 float-right"},[t._v(" The Company has "+t._s(t.debt.toLocaleString())+" "+t._s("Daily"==t.employee.salary_type?"IQD":"$")+" ")]),a("span",[t._v(" "+t._s(t.givedSalaryLanguage[t.language].report)+": "+t._s(t.month+"/"+t.year)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].id)+": "+t._s(t.employee.emp_id)+" ")]),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].phone_number)+": "+t._s(t.phone)+" ")]),a("br"),a("br"),a("span",[t._v(" "+t._s(t.givedSalaryLanguage[t.language].employee_name)+": "+t._s(t.employee.full_name)+" ")]),a("br"),a("br"),a("span",[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staff)+": "+t._s(t.employee.staff_name)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"21%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].salary_type)+": "+t._s("Monthly"==t.employee.salary_type?t.givedSalaryLanguage[t.language].monthly:t.givedSalaryLanguage[t.language].daily)+" ")]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].daily_salary)+": "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.daily_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].monthly_salary)+": "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.monthly_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"29%",display:"inline-block"}},[t._v(t._s(t.givedSalaryLanguage[t.language].hour_salary)+": "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.hour_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("hr"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_worked_hours)+" : "),a("span",[t._v(" "+t._s(t.employee.total_worked_hour)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_overtime)+" : "),a("span",[t._v(" "+t._s(t.employee.total_overtime)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_not_worked_hours)+" : "),a("span",[t._v(" "+t._s(t.employee.total_h_not_work)+" ")])]),a("br"),a("br"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_present)+" : "),a("span",[t._v(" "+t._s(t.employee.total_present)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_off)+" : "),a("span",[t._v(" "+t._s(t.employee.total_off)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_absent)+" : "),a("span",[t._v(" "+t._s(t.employee.total_absent)+" ")])]),a("hr"),a("div",{staticStyle:{width:"70%",display:"inline-block"}},[a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].one_dollar_price)+" : "),a("span",[t._v(" "+t._s(t.dollar_price)+" ")]),a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_fine_salary)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_fine))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.employee.total_fine/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e(),t._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_not_work_salary)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_not_work_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.employee.total_not_work_s/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e(),t._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_absent_salary)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_apsen_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.employee.total_apsen_s/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e(),t._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s("Total Off")+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_off_s))+" ")]),t._m(0)]),a("span",{staticClass:"font-weight-bold",staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_overtime_salary)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_o_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[t._v(" IQD "),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.employee.total_o_s/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e(),t._v(" "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].food_money)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.food_money))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].transport_money)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.transport_money))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{class:{"font-weight-bold":t.each_days.length>=28,"font-weight-normal":t.each_days.length<28},staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].calculated_salary_until_end_of_month)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.last_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")]),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.last_salary/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e()]),a("span",{class:{"font-weight-bold":t.each_days.length<28,"font-weight-normal":t.each_days.length>=28},staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].calculated_salary_until_now)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.now_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")]),"Daily"==t.employee.salary_type?a("span",[t._v(" "+t._s(" ("+((t.now_salary/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e()]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_salary_until_now)+" : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.gived_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].remain_salary_until_end_of_month)+" : "),(t.last_salary-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(t._f("money_filter")((t.last_salary-Number(t.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[t._v(" 0 ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")]),"Daily"==t.employee.salary_type&&(t.last_salary-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(" ("+(((t.last_salary-Number(t.employee.gived_salary)).toFixed(3)/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e()]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].remain_salary_until_now)+" : "),(t.now_salary-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(t._f("money_filter")((t.now_salary-Number(t.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[t._v(" 0 ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")]),"Daily"==t.employee.salary_type&&(t.now_salary-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(" ("+(((t.now_salary-Number(t.employee.gived_salary)).toFixed(3)/t.dollar_price||0)|t.money_filter)+" $)")+" ")]):t._e()]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[t._v(" "+t._s("Calculate base 26 days")+" : ")]),"Monthly"==t.employee.salary_type&&t.each_days.length>26?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.base_26,expression:"base_26"}],staticClass:"mt-2",staticStyle:{display:"inline !important",zoom:"1.3"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.base_26)?t._i(t.base_26,null)>-1:t.base_26},on:{change:function(e){var a=t.base_26,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,l=t._i(a,n);s.checked?l<0&&(t.base_26=a.concat([n])):l>-1&&(t.base_26=a.slice(0,l).concat(a.slice(l+1)))}else t.base_26=i}}})]):t._e()]),a("div",{staticClass:"btn-multi-language float-right",staticStyle:{width:"30%",display:"inline"}},[a("table",{staticClass:"table table-bordered text-dark text-center"},[a("thead",[a("th",[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_amount)+" ")]),a("th",[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_date)+" ")])]),a("tbody",t._l(t.each_give_salary,(function(e){return a("tr",{key:e.gsd_id},[a("td",[t._v(" "+t._s(e.gived_salary)+" "),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(t._f("date_filter")(e.gived_date))+" ")])])})),0)])]),a("hr"),a("table",{staticClass:"table table-bordered text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].list_id)+" ")]),a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staff)+" ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].work_date)+" ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].location)+" ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].worked_hours)+" ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].overtime_hours)+" ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].fine_reason)+" ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].fine)+" ")]),a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].status)+" ")]),a("th",[t._v(" List Date ")])]),a("tbody",t._l(t.each_days,(function(e){return a("tr",{key:e.dsl_id,class:{"bg-danger text-white":1==e.absent}},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.work_date.slice(0,10))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.worked_hours)+" ")]),a("td",[t._v(" "+t._s(e.overtime)+" ")]),a("td",[t._v(" "+t._s(e.fine_reason)+" ")]),a("td",[t._v(" "+t._s(e.fine)+" ")]),a("td",[t._v(" "+t._s(t._f("absent_filter")(e.absent,t.language))+" ")]),a("td",[t._v(" "+t._s(e.datetime_list?new Date(e.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_list?new Date(e.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)]),a("div",{staticClass:"alert alert-primary text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].employee_name)+" : "+t._s(t.employee.full_name)+" ")])])])])],1)]),a("change-pass"),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_give_detail"}},[a("div",{staticClass:"modal-dialog text-dark"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].give_salary)+" ")])]),a("div",{staticClass:"modal-body"},[t.employee.gived_salary>=t.employee.monthly_salary?a("div",{staticClass:"alert alert-primary text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].employee_gived_all_money)+" ")]):a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4 mt-2 text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_date)+": ")]),a("label",{staticClass:"form-control col-sm-7 text-center"},[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4 mt-2 text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_amount)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.salary,expression:"salary",modifiers:{lazy:!0}}],staticClass:"form-control col-sm-7 text-center",attrs:{type:"number"},domProps:{value:t.salary},on:{change:function(e){t.salary=e.target.value}}}),"Monthly"==t.employee.salary_type?a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" $ ")]):a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" IQD ")])]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_give_salary"},on:{click:function(e){return t.give_salary()}}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].give_salary)+" "),a("i",{staticClass:"fa fa-dollar-sign fa-sm"})])])])])])])],1)},xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(" IQD "),a("i",{staticClass:"fas fa-exclamation-triangle text-warning"})])}],Ct={Kurdish:{month:"مـانگ",year:"سـاڵ",phone_number:"ژمارە مۆبایل",search:"گـەڕان",staffs:"ستافەکان",give_salary:"پێدانی مووچە",create_monthly_receipt:"دروستکردنی وەصـڵی مانگانە",report:"ڕاپۆرتی",id:"کۆد",employee_name:"نـاو",staff:"ستاف",salary_type:"جۆری مووچە",monthly_salary:"مووچەی مانگانە",daily_salary:"مووچەی ڕۆژانە",hour_salary:"مووچەی کاتژمێر/کاتی زیادە",total_worked_hours:"کـۆی کارکردن (کاتژمێر)",total_overtime:"کـۆی کاتی زیادە (کاتژمێر)",total_not_worked_hours:"کـۆی کارنەکردن (کاتژمێر)",total_present:"ڕۆژانی ئامادەبوو",total_off:"ڕۆژانی ئۆف (پشوو)",total_absent:"ڕۆژانـی نـەهاتوو",one_dollar_price:"نرخی 1 دۆلار",total_fine_salary:"کـۆی بـڕی سـەرپێچـی",total_not_work_salary:"کـۆی بـڕی کاتی کارنەکردن",total_absent_salary:"کـۆی بـڕی ڕۆژانی نەهاتن",total_overtime_salary:"کـۆی بـڕی کاتی زیادە",food_money:"پارەی خواردن",transport_money:"کرێی هاتووچۆ",calculated_salary_until_end_of_month:"بـڕی مـووچەی هەژمارکراو تا کۆتایی مانگ",calculated_salary_until_now:"بـڕی مـووچەی هەژمارکراو بەپێی سیستم تا ئێستا",gived_salary_until_now:"بـڕی مـووچەی وەرگیراو تا ئێستا",remain_salary_until_end_of_month:"بـڕی مـووچەی مـاوە تا کۆتایی مانگ",remain_salary_until_now:"بڕی مووچەی ماوە تا ئێستا",gived_amount:"بڕی مووچە",gived_date:"بەرواری وەرگرتن",list_id:"ژ.لـیست",work_date:"بـەرواری کارکردن",location:"شوێن",worked_hours:"کارکردن (کاتژمێر)",overtime_hours:"زیادە (کاتژمێر)",fine_reason:"هۆی سەرپێچی",fine:"بـڕی سەرپێچی",status:"دۆخ",monthly:"مانگانە",daily:"ڕۆژانە",present:"ئامادەبوو",absent:"نەهاتوو",off:"ئۆف(پشوو)",employee_gived_all_money:"ئەم کارمەندە هەموو بڕە پارەی مانگەکەی وەرگرتووە",max_give_salary:"زۆرترین بڕی پێدانی مووچە",collimate_give_salary:"بۆ ڕێککردنەوەی مووچە",daily_collimate:"تا 1000 دینار ڕێگەپێدراوە بۆ کارمەندی ڕۆژانە",monthly_collimate:"تا 1 دۆلار ڕێگەپێدراوە بۆ کارمەندی مانگانە"},English:{month:"Month",year:"Year",phone_number:"Phone Number",search:"Search",staffs:"Staffs",give_salary:"Give Salary",create_monthly_receipt:"Create monthly receipt",report:"Report of",id:"ID",employee_name:"Full name",staff:"Staff",salary_type:"Salary type",monthly_salary:"Monthly salary",daily_salary:"Daily salary",hour_salary:"Hour salary\\Overtime",total_worked_hours:"Total worked (hour)",total_overtime:"Total overtime (hour)",total_not_worked_hours:"Total not worked (hour)",total_present:"Total present",total_off:"Total off",total_absent:"Total absent",one_dollar_price:"Price of 1 dollar",total_fine_salary:"Total amount of fine",total_not_work_salary:"Total amount of not worked hours",total_absent_salary:"Total amount of absent days",total_overtime_salary:"Total amount of overtime",food_money:"Food money",transport_money:"Transport money",calculated_salary_until_end_of_month:"Calculated salary until end of month",calculated_salary_until_now:"Calculated salary until now",gived_salary_until_now:"Total gived salary until now",remain_salary_until_end_of_month:"Total remain salary until end of month",remain_salary_until_now:"Total remain salary until now",gived_amount:"Gived amount",gived_date:"Gived date",list_id:"List ID",work_date:"Work date",location:"Location",worked_hours:"Worked (hour)",overtime_hours:"Overtime (hour)",fine_reason:"Fine reason",fine:"Fine",status:"Status",monthly:"Monthly",daily:"Daily",present:"Present",absent:"Absent",off:"Off",employee_gived_all_money:"This employee has gived all monthly salary",max_give_salary:"Maximum amount of give salary",collimate_give_salary:"To collimate salary",daily_collimate:"It has enable until 1000 IQD",monthly_collimate:"It has enable until 1 Dollar"},Arabic:{month:"شهـر",year:"عـام",phone_number:"رقم موبایل",search:"بحـث",staffs:"العاملین",give_salary:"استلام الراتب",create_monthly_receipt:"عمل فاتورة شهرية",report:"تقریر",id:"رقـم",employee_name:"اسـم",staff:"ستاف",salary_type:"نوع الراتب",monthly_salary:"راتب شهري",daily_salary:"الراتب اليومي",hour_salary:"الراتب الساعة / العمل الإضافي",total_worked_hours:"إجمالي العمل (ساعات)",total_overtime:"الإجمالي وقت إضافي (ساعات) ",total_not_worked_hours:"إجمالي وقت التوقف (ساعات)",total_present:"كانت الأيام حاضرا",total_off:"أيام العطلة",total_absent:"الأيام الغیاب",one_dollar_price:"السعر 1 دولار",total_fine_salary:"مجموع الغرامة",total_not_work_salary:"إجمالي وقت التعطل",total_absent_salary:"إجمالي أيام الغياب",total_overtime_salary:"إجمالي الوقت الإضافي",food_money:"أموال الطعام",transport_money:"تكلفة النقل",calculated_salary_until_end_of_month:"مبلغ الراتب المحتسب بنهاية الشهر",calculated_salary_until_now:"مبلغ الراتب المحسوب حسب النظام حتى الآن",gived_salary_until_now:"مقدار الراتب المستلم حتى الآن",remain_salary_until_end_of_month:"يبقى مقدار الراتب حتى نهاية الشهر",remain_salary_until_now:"مبلغ الراتب لا يزال حتى الآن",gived_amount:"مبلغ الراتب",gived_date:"تاريخ استلام",list_id:"ر. قائمة",work_date:"تاريخ العمل",location:"موقع",worked_hours:"(ساعات) العمل",overtime_hours:"إضافي (ساعات)",fine_reason:"سبب الغرامة",fine:"مبلغ الغرامة",status:"حالة",monthly:"شهريا",daily:"اليومي",present:"كان حاضرا",absent:"غیاب",off:"يوم الاجازة (عطلة)",employee_gived_all_money:"حصل الموظف على جميع أموال الشهر",max_give_salary:"الحد الأقصى للراتب",collimate_give_salary:"لضبط الراتب",daily_collimate:"يسمح بحد أقصى 1000 دينار للموظفين المياومين",monthly_collimate:"يُسمح بما يصل إلى 1 دولار للموظفين شهريًا"}},wt={name:"employeeProfile",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),phone:"",gs_id:null,salary:0,employee:{emp_id:null,full_name:null,staff_name:null,salary_type:null,monthly_salary:0,daily_salary:0,hour_salary:0,total_worked_hour:0,total_not_work_s:0,total_overtime:0,total_o_s:0,total_apsen_s:0,total_absent:0,total_present:0,total_fine:0,total_off:0,total_off_s:0,total_s_by_h_work:0,total_final_s:0,gived_salary:0,personal_image:null,food_money:0,transport_money:0,cabina_money:0,expense_money:0,fine_money:0,loan_money:0,accomodation_money:0,other_expense:0,other_minus:0,total_final_s_gui:0,total_s_by_h_work_gui:0},each_days:[],each_give_salary:[],dollar_price:0,employees_btn:{full_name:null},base_26:!1,staff_id:"",staffs:[],employees:[],givedSalaryLanguage:Ct,language:"English",debt:0}},beforeCreate(){w("give_salary")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl"),k()(".btn-multi-language, img").removeClass("float-right"),k()(".btn-multi-language, img").addClass("float-left")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"),k()(".btn-multi-language, img").addClass("float-right"),k()(".btn-multi-language, img").removeClass("float-left"))})},methods:{search(){this.employee.emp_id=null,this.employee.full_name=null,this.employee.staff_name=null,this.employee.salary_type=null,this.employee.monthly_salary=0,this.employee.daily_salary=0,this.employee.hour_salary=0,this.employee.total_worked_hour=0,this.employee.total_not_work_s=0,this.employee.total_overtime=0,this.employee.total_o_s=0,this.employee.total_apsen_s=0,this.employee.total_absent=0,this.employee.total_present=0,this.employee.total_fine=0,this.employee.total_off=0,this.employee.total_off_s=0,this.employee.total_s_by_h_work=0,this.employee.total_final_s=0,this.employee.gived_salary=0,this.employee.personal_image=null,this.employee.food_money=0,this.employee.transport_money=0,this.employee.cabina_money=0,this.employee.expense_money=0,this.employee.fine_money=0,this.employee.loan_money=0,this.employee.accomodation_money=0,this.employee.other_expense=0,this.employee.other_minus=0,this.each_days=[],this.each_give_salary=[],this.dollar_price=0,this.debt=0,this.$http.post("/employee/getEmployeeInfo/"+this.phone+"/"+this.month+"/"+this.year).then(({data:t})=>{if(!t.employee)return this.$alert("هیچ داتایەک نەدۆزرایەوە","","error"),this.employee.emp_id=null,this.employee.full_name=null,this.employee.staff_name=null,this.employee.salary_type=null,this.employee.monthly_salary=0,this.employee.daily_salary=0,this.employee.hour_salary=0,this.employee.total_worked_hour=0,this.employee.total_not_work_s=0,this.employee.total_overtime=0,this.employee.total_o_s=0,this.employee.total_apsen_s=0,this.employee.total_absent=0,this.employee.total_present=0,this.employee.total_fine=0,this.employee.total_off=0,this.employee.total_off_s=0,this.employee.total_s_by_h_work=0,this.employee.total_final_s=0,this.employee.gived_salary=0,this.employee.personal_image=null,this.employee.food_money=0,this.employee.transport_money=0,this.employee.cabina_money=0,this.employee.expense_money=0,this.employee.fine_money=0,this.employee.loan_money=0,this.employee.accomodation_money=0,this.employee.other_expense=0,this.employee.other_minus=0,this.each_days=[],this.each_give_salary=[],this.dollar_price=0,"";this.gs_id=t.gs_id,this.employee.emp_id=t.employee.emp_id||null,this.employee.full_name=t.employee.full_name,this.employee.staff_name=t.employee.staff_name,this.employee.salary_type=t.employee.salary_type,this.employee.personal_image=t.employee.personal_image_path,this.employee.total_worked_hour=t.employee.total_h,this.employee.total_overtime=t.employee.total_o,this.employee.total_fine=t.employee.total_fine,this.employee.total_present=t.employee.count_present,this.employee.total_absent=t.employee.total_apsent,this.employee.hour_salary=t.gived_salary.hour_salary||t.employee.hour_salary,this.employee.daily_salary=t.gived_salary.daily_salary||t.employee.daily_salary,this.employee.monthly_salary=t.gived_salary.monthly_salary||t.employee.monthly_salary,this.employee.total_off=t.employee.count_off,this.employee.total_h_not_work=t.employee.total_h_not_work,this.employee.total_o_s=t.employee.total_o_s,this.employee.total_not_work_s=t.employee.total_not_work_s,this.employee.total_apsen_s=t.employee.total_apsen_s,this.employee.total_off_s=t.employee.total_off_s,this.employee.food_money=t.employee.food_money||t.gived_salary.food_money||0,this.employee.transport_money=t.employee.transport_money||t.gived_salary.transport_money||0,this.employee.cabina_money=t.employee.cabina_money||t.gived_salary.cabina_money||0,this.employee.expense_money=t.employee.expense_money||t.gived_salary.expense_money||0,this.employee.fine_money=t.employee.fine_money||t.gived_salary.fine_money||0,this.employee.loan_money=t.employee.loan_money||t.gived_salary.loan_money||0,this.employee.accomodation_money=t.employee.accomodation_money||t.gived_salary.accomodation_money||0,this.employee.other_expense=t.employee.other_expense||t.gived_salary.other_expense||0,this.employee.other_minus=t.employee.other_minus||t.gived_salary.other_minus||0,this.employee.total_final_s=t.employee.total_final_s-t.employee.total_fine+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus),this.employee.gived_salary=t.employee.gived_salary,this.employee.total_s_by_h_work=(t.employee.total_s_by_h_work+t.employee.total_o_s+t.employee.total_off_s-t.employee.total_fine+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)).toFixed(3),this.dollar_price=t.employee.dollar_price||this.dollar_price,this.each_days=t.each_days;var e=new Date;e.setMonth(this.month-1),e.setFullYear(this.year);const a=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),s=this.fridays(this.year,this.month-1),i=a-s;"Monthly"==this.employee.salary_type&&(this.employee.daily_salary=Number(this.employee.monthly_salary/i).toFixed(2),this.employee.hour_salary=Number(this.employee.daily_salary/8).toFixed(2)),this.each_give_salary=t.each_give_salary,this.$http.get("/employee/getEmployeeTransaction/"+this.employee.emp_id).then(({data:t})=>{this.debt=t.reduce((t,e)=>t+Number(e.transactionAmount),0)})})},fridays(t,e){var a,s,i;a=1,s=0,i=new Date(t,e,a);while(i.getMonth()===e)6===i.getDay()&&(s+=1),a+=1,i=new Date(t,e,a);return s},create_monthly_receipt(){11==this.phone.length?this.dollar_price<=0&&"Monthly"==this.employee.salary_type?this.$alert("Enter Dollar price","","warning"):this.$confirm(`دڵنیای لە دروست کردنی وەصڵی مانگی ${this.month}/${this.year}`,"","question").then(()=>{this.$http.post("/gived_salary/addGiveSalary",{emp_id:this.employee.emp_id,salary_month:this.month,salary_year:this.year,monthly_salary:this.employee.monthly_salary,daily_salary:this.employee.daily_salary,hour_salary:this.employee.hour_salary,dollar_price:this.dollar_price,food_money:this.employee.food_money,transport_money:this.employee.transport_money}).then(({data:t})=>{this.gs_id=t.gs_id,this.$alert("","Success","success"),this.$http.post("/employee/getEmployeeInfo/"+this.phone+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employee.total_fine=t.employee.total_fine})}).catch(t=>{C(t)})}):this.$alert("Enter valid phone number","Invalid phone number","warning")},give_salary(){this.salary>0?this.$confirm("دڵنیای لە پێدانی ئەم بڕە پارەیە بۆ کارمەند ؟","","question").then(()=>{document.getElementById("btn_give_salary").style.display="none",this.$http.post("/gived_salary/addGivedDetail",{gs_id:this.gs_id,gived_salary:this.salary}).then(()=>{this.each_give_salary.push({gived_salary:this.salary,gived_date:(new Date).toISOString().split("T")[0]}),this.employee.gived_salary+=Number(this.salary),this.salary=0,this.$alert("Salary gived","Success","success")}).catch(t=>{C(t)}).finally(()=>{var t=document.getElementById("btn_give_salary");t&&(t.style.display="")})}):this.$alert("بڕی مووچە ئەبێت گەورەتربێت لە 0","","warning")},search_staff(){this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(([t])=>{this.employees_btn.full_name=t.full_name})},get_actived(){document.getElementById("btn-actived-employees").setAttribute("disabled","disabled"),this.employees=[],this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t}).finally(()=>document.getElementById("btn-actived-employees").removeAttribute("disabled"))},get_deactived(){document.getElementById("btn-deactived-employees").setAttribute("disabled","disabled"),this.employees=[],this.$http.post("/employee/getDeactivedEmployeeBystaff/"+this.staff_id).then(({data:t})=>{this.employees=t}).finally(()=>document.getElementById("btn-deactived-employees").removeAttribute("disabled"))}},filters:{gived_status_filter(t){return 1==t?"بـەڵێ":"نـەخـێـر"},absent_filter(t,e){return[Ct[e].present,Ct[e].absent,Ct[e].off][t]},money_filter(t){if("undefined"==typeof t)return 0;var e=[],a="";t=t.toString(),t.includes(".")?(a=t.substring(t.indexOf(".")),e=t.substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();var s=[];for(let n=0;n<e.length;n++)s.unshift(e[n]),(n+1)%3==0&&s.unshift(",");".000"==a&&(a="");var i=s.join("")+a;return","==i.charAt(0)?i.slice(1):i},date_filter(t){var e=new Date(t);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}},watch:{phone(t){11==t.length&&this.search()},month(){11==this.phone.length&&this.search()},year(){11==this.phone.length&&this.search()},staff_id(t){this.employees=[],t?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t}):this.employees=[]}},computed:{valid_give_salary(){return"Daily"==this.employee.salary_type?this.employee.total_s_by_h_work>this.employee.total_final_s?this.salary<=Number((Number(this.employee.total_s_by_h_work)-Number(this.employee.gived_salary)).toFixed(3))+Number(1e3):this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1e3):this.employee.total_s_by_h_work>this.employee.total_final_s?this.salary<=Number((Number(this.employee.total_s_by_h_work)-Number(this.employee.gived_salary)).toFixed(3))+Number(1):this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1)},last_salary(){return"Monthly"==this.employee.salary_type?(this.employee.monthly_salary-this.employee.total_fine-this.employee.daily_salary*this.employee.total_absent-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.total_o_s).toFixed(3):(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.total_o_s).toFixed(3)},now_salary(){if(this.base_26&&"Monthly"==this.employee.salary_type){var t=(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.hour_salary*this.employee.total_overtime).toFixed(3);if(this.each_days.length>26){var e=this.each_days.length-26;t-=this.employee.daily_salary*e}return t}return this.employee.salary_type,(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.hour_salary*this.employee.total_overtime).toFixed(3)}}},St=wt,kt=(a("db2b"),Object(d["a"])(St,bt,xt,!1,null,"337fbd48",null)),At=kt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6 col-xl-6"},[a("div",{staticClass:"card shadow-lg o-hidden border-0 my-5 animate__animated animate__fadeInDown"},[a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"p-5"},[t._m(0),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-user",attrs:{type:"text",id:"exampleInputEmail",placeholder:"Enter Phone Number...",name:"email"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-user",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-success btn-block text-white btn-user",attrs:{id:"btn_login",disabled:0==t.username.length||t.password.length<6},on:{click:function(e){return t.login()}}},[t._v("Login")]),a("hr"),t.calculateExpireDate<=14?a("div",{class:"mt-8 alert alert-"+(t.calculateExpireDate>5?"warning":"danger")+" text-center"},[a("i",{staticClass:"fa fa-exclamation-circle mx-2"}),t._v(" Warning: The System will Expires within "+t._s(t.calculateExpireDate)+" Days ")]):t._e()])])])])])])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h4",{staticClass:"text-dark mb-4"},[t._v(" Ideal Power Company ")])])}],$t={name:"Login",data(){return{username:"",password:"",date:"2023-11-19"}},beforeCreate(){this.$http.post("/isLogged").then(()=>window.location.href="/")},methods:{login(){document.getElementById("btn_login").setAttribute("disabled","disabled"),this.$http.post("/login",{username:this.username,password:this.password}).then(({data:t})=>{1==t&&(window.location.href="/")}).catch(t=>{C(t)}).finally(()=>{document.getElementById("btn_login").removeAttribute("disabled")})}},computed:{calculateExpireDate(){let t=new Date(this.date),e=new Date;const a=t.getTime()-e.getTime();let s=Math.ceil(a/864e5);return s}}},Nt=$t,Et=Object(d["a"])(Nt,Lt,Dt,!1,null,null,null),It=Et.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"alert alert-danger text-center m-4"},[a("h1",[t._v(" Error 404! This page not found ")]),a("hr"),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v(" Home Page "),a("i",{staticClass:"fa fa-home"})])],1)])},Tt=[],jt={},Mt=Object(d["a"])(jt,Bt,Tt,!1,null,null,null),Pt=Mt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.stafflanguage[t.language].staffs)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:t.stafflanguage[t.language].search+"..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._m(0),a("table",{staticClass:"table table-bordered table-striped text-dark text-center "},[a("thead",[a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.stafflanguage[t.language].ID)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.stafflanguage[t.language].staff_name)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.stafflanguage[t.language].en_name)+" ")]),a("th",{staticClass:"no-print",staticStyle:{width:"25%"}},[t._v(" "+t._s(t.stafflanguage[t.language].employees)+" ")])]),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.st_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.engineer)+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employees"},on:{click:function(a){t.st_id=e.st_id}}},[t._v(" "+t._s(t.stafflanguage[t.language].emp_btn)+" ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employees"}},[a("div",{staticClass:"modal-dialog modal-xl text-dark"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-1"},[t._v(" "+t._s(t.stafflanguage[t.language].employees)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-striped table-bordered text-center text-dark"},[a("thead",[a("th",[t._v(" "+t._s(t.stafflanguage[t.language].ID)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].emp_name)+" ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" "+t._s(t.stafflanguage[t.language].salary_type)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].salary)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].food_money)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].transport_money)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].status)+" ")])]),t._l(t.filtered_employees,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name+" "+e.last_name)+" ")]),a("td",[t._v(" "+t._s(t._f("salary_type_filter")(e.salary_type,t.language))+" ")]),"Daily"==e.salary_type?a("td",[t._v(" "+t._s(e.daily_salary)+" IQD ")]):a("td",[t._v(" "+t._s(e.monthly_salary)+" $ ")]),a("td",[t._v(" "+t._s(e.food_money)+" $ ")]),a("td",[t._v(" "+t._s(e.transport_money)+" $ ")]),a("td",{class:{"text-success":1==e.active_status,"text-danger":0==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")])])}))],2)])])])])],1)},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[t._v(" Print "),a("i",{staticClass:"fa fa-print"})])}],Ft={Kurdish:{staffs:"ستافەکان",search:"گەڕان",ID:"کۆد",staff_name:"ناوی ستاف",en_name:"سەرپەرشتیار",employees:"کارمەندان",emp_name:"ناو",salary_type:"جۆری مووچە",salary:"مووچە",emp_btn:"بینینی کارمەندان",monthly:"مانگانە",daily:"ڕۆژانە",dsl:"لیستی کارکردنی ڕۆژانە",month:"مانگ",year:"ساڵ",seen:"بینین",location:"شوێن",date:"بەروار",list_id:"ژ.لیست",list_deatail:"ناوەڕۆکی لیست",overtime:"کاتی زیادە",working_time:"کاتی کارکردن",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێجی",present:"ئامادەبوو",absent:"نەهاتوو",off:"ئۆف(پشوو)",main_staff:"ستافی سەرەکی",note:"تێبینی",status:"دۆخ",food_money:"پارەی خواردن",transport_money:"کرێی هاتووچۆ",active:"چالاک",deactive:"ناچالاک"},English:{staffs:"Staffs",search:"Search",ID:"ID",staff_name:"Staff Name",en_name:"Supervisor",employees:"Employees",emp_name:"Name",salary_type:"Salary Type",salary:"Salary",emp_btn:"See Employees",monthly:"Monthly",daily:"Daily",dsl:"Daily Staff List",month:"Month",year:"Year",seen:"Seen",location:"Location",date:"Date",list_id:"List ID",list_deatail:"List Deatils",overtime:"Overtime",working_time:"Working Time",fine:"Fine",fine_reason:"Fine Reason",present:"Present",absent:"Absent",off:"Off",main_staff:"Main Staff",note:"Note",status:"Status",food_money:"Food money",transport_money:"Transport money",active:"Active",deactive:"Deactive"},Arabic:{staffs:"العاملين",search:"بحث",ID:"رقـم",staff_name:"اسم العاملین",en_name:"مشرف",employees:"الموظفين",emp_name:"اسـم",salary_type:"نوع الراتب",salary:"راتب",emp_btn:"رؤية الموظفين",monthly:"شهريا",daily:"اليومي",dsl:"قائمة العمل اليومية",month:"شهـر",year:"عـام",seen:"المحتوى",location:"موقع",date:"التاریخ",list_id:"رقم القائمة",list_deatail:"محتوى القائمة",overtime:"وقت إضافي",working_time:"وقت العمل",fine:"مقدار الغرامة",fine_reason:"سـبب الغرامة",present:"كان حاضرا",absent:"غیـاب",off:"يوم الاجازة",main_staff:"ستاف رئیسیة",note:"ملاحظة",status:"حالة",food_money:"أموال الطعام",transport_money:"تكلفة النقل",active:"نشيط",deactive:"معاق"}},Qt={name:"staffReport",data(){return{staffs:[],employees:[],user:{en_id:null},search:"",st_id:null,stafflanguage:Ft,language:"English"}},beforeCreate(){w("staffReport")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,this.$http.post("/staff/getStaffReport",{en_id:this.user.en_id}).then(({data:t})=>{this.staffs=t.staffs,this.employees=t.employees})})},computed:{filtered_staffs(){return this.staffs.filter(t=>t.st_id==this.search||t.staff_name.match(this.search)||t.engineer.match(this.search))},filtered_employees(){return this.employees.filter(t=>t.st_id==this.st_id)}},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},filters:{salary_type_filter(t,e){return"Monthly"==t?Ft[e].monthly:Ft[e].daily},status_filter(t,e){return[Ft[e].deactive,Ft[e].active][t]}}},Ht=Qt,Rt=(a("3ca8"),Object(d["a"])(Ht,Ot,zt,!1,null,"01cb6344",null)),Yt=Rt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.enginnerslanguage[t.language].enginners_page)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1 no-print"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("button",{staticClass:"btn btn-success mb-2 mx-1 no-print",on:{click:function(e){return t.get_actived()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_actived)+" ")]),a("button",{staticClass:"btn btn-danger mb-2 mx-1 no-print",on:{click:function(e){return t.get_deactived()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_deactived)+" ")]),t._m(0),a("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",on:{click:function(e){return t.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),a("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),a("th",{staticClass:"no-print"},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),a("tbody",t._l(t.filtered_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(t._f("date_filter")(e.reg_date))+" ")]),a("td",{class:{"text-success":1==e.active_status,"text-danger":0==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_staff"},on:{click:function(a){t.en_id=e.en_id}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].see_staff)+" ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2 multi-language"},[t._v(" "+t._s(t.enginnerslanguage[t.language].staffs)+" ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-center"},[a("thead",[a("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].staff)+" ")])]),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.staff_name)+" ")])])})),0)])])])])])],1)},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",attrs:{onclick:"window.print()"}},[t._v(" Print "),a("i",{staticClass:"fa fa-print"})])}],Gt={name:"staffReport",data(){return{engineers:[],search:"",staffs:[],en_id:null,enginnerslanguage:M,language:"English"}},beforeCreate(){w("engineerReport")},created(){this.$http.post("/engineer/getEngineerReport").then(({data:t})=>{this.engineers=t}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_actived(){this.$http.post("/engineer/getActived").then(({data:t})=>{this.engineers=t})},get_deactived(){this.$http.post("/engineer/getDeactived").then(({data:t})=>{this.engineers=t})},refresh(){this.$http.post("/engineer/getEngineerReport").then(({data:t})=>{this.engineers=t})}},computed:{filtered_engineers(){return this.engineers.filter(t=>t.en_id==this.search||t.first_name.match(this.search)||t.last_name.match(this.search)||t.job_title.match(this.search)||t.phone1.match(this.search)||t.phone2.match(this.search)||t.reg_date.match(this.search))},filtered_staffs(){return this.staffs.filter(t=>t.en_id==this.en_id)}},filters:{status_filter(t,e){return[M[e].deactive,M[e].active][t]},date_filter(t){var e=new Date(t);return e.toISOString().split("T")[0]}}},Vt=Gt,Kt=(a("2770"),Object(d["a"])(Vt,Ut,qt,!1,null,"3ef6a75c",null)),Wt=Kt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.employeeLangauge[t.language].employees)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.active_status,expression:"active_status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.active_status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("Actived")]),a("option",{attrs:{value:"2"}},[t._v("Deactived")])]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-4"},[a("thead",[a("th",[t._v(" Name ")]),a("th",[t._v(t._s(t.employeeLangauge[t.language].staff))]),a("th",[t._v(t._s(t.employeeLangauge[t.language].phone))]),a("th",{staticClass:"no-print",staticStyle:{width:"6%"}},[t._v(" Actions ")])]),a("tbody",t._l(t.employees.filter((function(e){return e.active_status==t.active_status})),(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.first_name+" "+e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.phone)+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return t.get_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].employee_information)+" ")])]),a("div",{staticClass:"modal-body "},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].first_name)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.first_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].last_name)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.last_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].staff)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.st_id?t.staffs.find((function(e){return e.st_id==t.single_employee.st_id})).staff_name:"")+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].phone)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.phone)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].country)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t._f("country_filter")(t.single_employee.country))+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].registration_date)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.reg_date?new Date(t.single_employee.reg_date).toISOString().split("T")[0]:"")+" ")]),"2"==t.single_employee.country?a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].expire_passport)+" : ")]):t._e(),"2"==t.single_employee.country?a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.expiry_passport?new Date(t.single_employee.expiry_passport).toISOString().split("T")[0]:"")+" ")]):t._e(),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" Asaish Code : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.asaish_code)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].salary_type)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.salary_type)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].food)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s((t.single_employee.food_money||0).toLocaleString())+" "),a("span",[t._v(" IQD. ")])]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].transport)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s((t.single_employee.transport_money||0).toLocaleString())+" "),a("span",[t._v(" IQD. ")])]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" Cabina : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s((t.single_employee.cabina_money||0).toLocaleString())+" "),a("span",[t._v(" IQD. ")])]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].salary)+" : ")]),"Monthly"==t.single_employee.salary_type?a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s((t.single_employee.monthly_salary||0).toLocaleString())+" $ ")]):a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s((t.single_employee.daily_salary||0).toLocaleString())+" IQD ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" "+t._s(t.employeeLangauge[t.language].hour_salary)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s(t.single_employee.hour_salary)+" "),"Monthly"==t.single_employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])])])])])])])])],1)},Zt=[],Xt={name:"employeeReport",data(){return{noOfEmployees:0,employees:[],active_status:"1",single_employee:{},search:"",current_pagination:1,max_pagination:0,employeeLangauge:Y,language:"English",user:{username:"",role:"",en_id:null},staffs:[]}},beforeCreate(){w("employeeReport")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,this.user.en_id?this.$http.get("/employee/getEmployeeByEngineer/"+this.user.en_id).then(({data:t})=>{this.employees=t}):this.$http.get("/employee/getEmployeeByEngineer/2").then(({data:t})=>{this.employees=t})}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_employee(t){this.$http.get("/employee/getById/"+t).then(({data:t})=>{this.single_employee=t.data})}},filters:{status_filter(t,e){return[Y[e].deactive,Y[e].active][t]},salary_type_filter(t){return"Monthly"==t?"Monthly":"Daily"},country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]}}},te=Xt,ee=(a("813e"),Object(d["a"])(te,Jt,Zt,!1,null,"6389829d",null)),ae=ee.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark "},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_employee_list)+" "+t._s(t.month+"/"+t.year)+" ")])]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search_staff,expression:"search_staff"}],staticClass:"form-control col-sm-2 float-left no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.search_staff=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.staff_name}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),t._l(t.filtered_staffs,(function(e){return a("div",{key:e.st_id,staticClass:"col-xl-12 col-md-12 col-sm-12"},[a("label",{staticClass:"w-100 multi-language my-3"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staff)+" : "+t._s(e.staff_name)+" ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].id)+" ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].name)+" ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_fine)+" ")]),a("th",{staticStyle:{width:"18%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_overtime)+" ")]),a("th",{staticStyle:{width:"18%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_amount)+" ")])]),a("tbody",t._l(t.employees.filter((function(t){return t.staff_name==e.staff_name})),(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(t._f("fine_filter")(e.total_fine))+" "),a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(t._f("money_filter")(e.total_overtime))+" "),"Monthly"==e.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(t._f("money_filter")(e.gived_salary))+" "),"Monthly"==e.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])])])})),0),a("caption",{staticClass:"alert alert-primary text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_dollar)+" : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dollar:0}).total_gived_dollar))+" $ "),a("hr"),t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_dinar)+" : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dinar:0}).total_gived_dinar))+" IQD ")])]),a("hr")])}))],2)])],1)])],1)},ie=[],ne={Kurdish:{gived_employee_list:"لـیـستی مووچەی وەرگیراوی کارمەندان بۆ مانگی",month:"مـانـگ",year:"سـاڵ",search:"گـەڕان",id:"کـۆد",name:"نـاو",total_fine:"کۆی بڕی سەرپێچی",total_overtime:"کۆی بڕی کاتی زیادە",gived_amount:"بڕی مووچەی وەرگیراو",total_dollar:"کۆی بڕی دۆلار",total_dinar:"کۆی بڕی دینار",staff:"نـاوی سـتاف"},English:{gived_employee_list:"Employee gived salary list for month",month:"Month",year:"Year",search:"Search",id:"ID",name:"Name",total_fine:"Total fine",total_overtime:"Total overtime",gived_amount:"Gived amount",total_dollar:"Total dollar",total_dinar:"Total dinar",staff:"Staff"},Arabic:{gived_employee_list:"قائمة الرواتب التي يتقاضاها الموظفون عن الشهر",month:"شـهـر",year:"عـام",search:"بـحـث",id:"رقـم",name:"اسـم",total_fine:"المبلغ الإجمالي غرامة",total_overtime:"إجمالي الوقت الإضافي",gived_amount:"مبلغ الراتب المستلم",total_dollar:"المبلغ الإجمالي بالدولار",total_dinar:"المبلغ الإجمالي بالدينار",staff:"اسم العاملین"}},le={name:"givedSalaryReport",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],gived_salary_staffs:[],search_staff:"",givedSalaryLanguage:ne,language:"English"}},beforeCreate(){w("givedSalaryReport")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t})},mounted(){this.search(),L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/gived_salary/getGivedSalary/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t.employees,this.gived_salary_staffs=t.gived_salary_staffs})}},computed:{filtered_staffs(){return""==this.search_staff?this.staffs:this.staffs.filter(t=>t.staff_name==this.search_staff)}},filters:{money_filter(t){var e=[],a="";t=null==t?"":t.toString(),t.includes(".")?(a=t.substring(t.indexOf(".")),e=t.substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();var s=[];for(let n=0;n<e.length;n++)s.unshift(e[n]),(n+1)%3==0&&s.unshift(",");".000"==a&&(a="");var i=s.join("")+a;return","==i.charAt(0)?i.slice(1):i},fine_filter(t){return"0.00"==t?0:t}},watch:{month(){this.search()},year(){this.search()}}},oe=le,re=(a("7e2b3"),Object(d["a"])(oe,se,ie,!1,null,"70ee8686",null)),_e=re.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].employees_data)+" "+t._s(t.month+"/"+t.year)+" ")]),a("hr"),a("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print mb-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print mb-1",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].search)+" "),a("i",{staticClass:"fa fa-search"})])]),a("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-success w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].overtime)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_overtime)+" ")])]),a("tbody",t._l(t.top_overtime,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_o)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-danger w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].absent)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_absent)+" ")])]),a("tbody",t._l(t.top_absent,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_apsent)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-primary w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].fine)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_fine)+" (IQD) ")])]),a("tbody",t._l(t.top_fine,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_f)+" ")])])})),0)])])])])],1)])],1)},ce=[],me={Kurdish:{employees_data:"داتای کارمەندان بۆ : ( غیابات - کاتی زیادە - سەرپێچی ) لە مانگی",month:"مانگ",year:"سـاڵ",search:"گـەڕان",overtime:"کاتی زیادە",absent:"ئامادە نەبوون",fine:"بڕی سەرپێچی",id:"کۆد",name:"نـاو",amount_overtime:"کاتی زیادە",amount_absent:"ڕۆژی نەهاتوو",amount_fine:"سەرپێچی"},English:{employees_data:"Employee's data for: (Absents, Overtime, Fine) in month",month:"Month",year:"Year",search:"Search",overtime:"Overtime",absent:"Absent",fine:"Fine",id:"ID",name:"Name",amount_overtime:"Overtime",amount_absent:"Absent days",amount_fine:"Fine"},Arabic:{employees_data:"بيانات الموظف عن: (الغياب - العمل الإضافي - المخالفة) شهرياً",month:"شـهر",year:"عـام",search:"بـحـث",overtime:"وقت إضافي",absent:"غیابات",fine:"مقدار الغرامة",id:"رقـم",name:"اسـم",amount_overtime:"وقت إضافي",amount_absent:"یوم الغیاب",amount_fine:"الغرامة"}},ue={name:"topEmployees",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),top_overtime:[],top_absent:[],top_fine:[],topEmployeeLanguage:me,language:"English"}},beforeCreate(){w("topEmployeeReport")},created(){this.search()},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/employee/topOvertime/"+this.month+"/"+this.year).then(({data:t})=>{this.top_overtime=t.top_overtime,this.top_absent=t.top_absent,this.top_fine=t.top_fine})}},filters:{money_filter(t){var e=t.toString().split("").reverse(),a=[];for(let i=0;i<e.length;i++)a.unshift(e[i]),(i+1)%3==0&&a.unshift(",");var s=a.join("");return","==s.charAt(0)?s.slice(1):s},fine_filter(t){return"0.00"==t?0:t}},watch:{year(){this.search()},month(){this.search()}}},pe=ue,ge=(a("c1e4"),Object(d["a"])(pe,de,ce,!1,null,"e293f7c6",null)),he=ge.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark multi-language nrt"},[t._v(" "+t._s(t.stafflanguage[t.language].dsl)+" ")]),a("hr"),a("div",{staticClass:"row nrt multi-language",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"col-sm-2 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].staff_name)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control col-sm-2 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success btn-sm-block mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.stafflanguage[t.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("label",{staticClass:"float-right my-3"}),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.stafflanguage[t.language].list_id)+" ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.stafflanguage[t.language].date)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.stafflanguage[t.language].location)+" ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.stafflanguage[t.language].note)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].seen)+" ")])]),a("tbody",t._l(t.lists,(function(e){return a("tr",{key:e.dsl_id,class:{"bg-warning":"rest"==e.location.toLowerCase()}},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(t._f("date_filter")(e.work_date))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.note)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_attendance"},on:{click:function(a){return t.get_attendance(e.dsl_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_attendance"}},[a("div",{staticClass:"modal-dialog modal-xl nrt"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.attendances=[]}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.stafflanguage[t.language].list_deatail)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting",dir:"rtl"}},[t._v(" تکایە چاوەڕوانبە... ")]),a("table",{staticClass:"table table-striped table-bordered text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.stafflanguage[t.language].ID)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].emp_name)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.stafflanguage[t.language].overtime)+" ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.stafflanguage[t.language].working_time)+" ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.stafflanguage[t.language].fine)+" ")]),a("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.stafflanguage[t.language].fine_reason)+" ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.stafflanguage[t.language].present)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].location)+" ")]),a("th",[t._v(" "+t._s(t.stafflanguage[t.language].main_staff)+" ")])]),a("tbody",t._l(t.attendances,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.overtime)+" ")]),a("td",[t._v(" "+t._s(e.worked_hours)+" ")]),a("td",[t._v(" "+t._s(e.fine)+" ")]),a("td",[t._v(" "+t._s(e.fine_reason)+" ")]),a("td",{class:{"text-success":0==e.absent,"text-danger":1==e.absent,"text-warning":2==e.absent}},[t._v(" "+t._s(t._f("absent_filter")(e.absent,t.language))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.main_staff)+" ")])])})),0)])])])])])],1)},ye=[],ve={name:"staffList",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),staffs:[],st_id:null,user:{en_id:null},lists:[],attendances:[],stafflanguage:Ft,language:"English"}},beforeCreate(){w("staffListReport")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null==this.user.en_id?this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t}):this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t})})},mounted(){L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.st_id&&this.year&&this.month?this.$http.post("/daily_staff_list/dslReport/"+this.month+"/"+this.year+"/"+this.st_id).then(({data:t})=>{this.lists=t}):this.$alert("Fill all required fields","Empty Field","warning")},get_attendance(t){document.getElementById("waiting").style.display="block",this.$http.post("/daily_staff_list/dslEachAttendance/"+t).then(({data:t})=>{this.attendances=t,document.getElementById("waiting").style.display="none"})}},filters:{money_filter(t){var e=t.toString().split("").reverse(),a=[];for(let i=0;i<e.length;i++)a.unshift(e[i]),(i+1)%3==0&&a.unshift(",");var s=a.join("");return","==s.charAt(0)?s.slice(1):s},absent_filter(t,e){return[Ft[e].present,Ft[e].absent,Ft[e].off][t]},date_filter(t){var e=new Date(t);return e.toISOString().split("T")[0]}}},be=ve,xe=(a("15c8"),Object(d["a"])(be,fe,ye,!1,null,"30e9a416",null)),Ce=xe.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark "},[t._v(" "+t._s("Salary List for month")+" "+t._s(t.month+"/"+t.year)+" ")])]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s("Month")+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s("Year")+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s("Search")+" "),a("i",{staticClass:"fa fa-search"})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control col-sm-2 float-left no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" 1 $ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dollar,expression:"dollar"}],staticClass:"form-control col-sm-1",attrs:{type:"number",min:"0"},domProps:{value:t.dollar},on:{input:function(e){e.target.composing||(t.dollar=e.target.value)}}}),a("button",{staticClass:"col-sm-2 btn btn-primary ml-2 no-print",on:{click:function(e){return t.create_monthly_receipt()}}},[t._v(" Create monthly receipt ")]),a("button",{staticClass:"col-sm-2 btn btn-danger ml-2 no-print",on:{click:function(e){return t.delete_monthly_receipt()}}},[t._v(" Delete monthly receipt ")])]),a("hr"),a("label",{staticClass:"w-100 multi-language my-3"},[t._v(" "+t._s("Staff")+" : "),""!=t.st_id?a("span",[t._v(" "+t._s(t.staffs.filter((function(e){return e.st_id==t.st_id}))[0].staff_name)+" ")]):t._e()]),a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[t._v(" Waiting... ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2",attrs:{id:"tbl"}},[t._m(0),a("tbody",t._l(t.pre_gived_salaries,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.salary_type)+" ")]),a("td",[a("v-icon",{attrs:{color:"success"}},[t._v(" mdi-check ")])],1)])})),0)])])],1)])],1)},Se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Name ")]),a("th",[t._v(" Salary Type ")]),a("th",[t._v(" Save ")])])}],ke={data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],pre_gived_salaries:[],st_id:"",dollar:0}},beforeCreate(){w("givedSalaryReport")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{search(){this.year>=2020&&""!=this.st_id?(document.getElementById("tbl").style.display="none",document.getElementById("waiting").style.display="block",this.$http.post("/gived_salary/getPreGivedSalary/"+this.st_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.pre_gived_salaries=t,"undefined"==typeof this.pre_gived_salaries[0]?this.dollar=0:this.dollar=this.pre_gived_salaries[0].dollar_price,document.getElementById("tbl").style.display="",document.getElementById("waiting").style.display="none"})):(this.pre_gived_salaries=[],document.getElementById("tbl").style.display="none")},create_monthly_receipt(){Number(this.dollar)<=0||Number(this.year<2020)?this.$alert("Enter correct data","","warning"):this.$confirm("Are you sure you want create receipt for this staff ?","","question").then(()=>{this.$http.post("/gived_salary/addListOfEmployees/"+this.st_id,{dollar_price:this.dollar,salary_month:this.month,salary_year:this.year}).then(({data:t})=>{this.pre_gived_salaries=t,this.dollar=this.pre_gived_salaries[0].dollar_price||0})})},delete_monthly_receipt(){this.st_id?this.$confirm(`Are you sure you want delete monthly reciept ${this.month}/${this.year} for staff ${this.staffs.find(t=>t.st_id==this.st_id).staff_name} ?`,"","question").then(()=>{this.$http.delete("/gived_salary/deleteGiveSalary/"+this.month+"/"+this.year+"/"+this.st_id).then(()=>{this.pre_gived_salaries=[]}).catch(()=>{this.$alert("Something went wrong","","error")})}):this.$alert("Please Chosse a staff","","warning")}},computed:{get_total_salary(){var t=0;return this.pre_gived_salaries.length>0&&this.pre_gived_salaries.forEach(e=>{t+=e.last_give_salary}),t}},filters:{money_filter(t){if("undefined"==typeof t)return 0;var e=[],a="";t=t.toString(),t.includes(".")?(a=t.substring(t.indexOf(".")),e=t.substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();var s=[];for(let n=0;n<e.length;n++)s.unshift(e[n]),(n+1)%3==0&&s.unshift(",");".000"==a&&(a="");var i=s.join("")+a;return","==i.charAt(0)?i.slice(1):i}},watch:{st_id(){this.search()},month(){this.search()},year(){this.search()}}},Ae=ke,Le=(a("8bd5"),Object(d["a"])(Ae,we,Se,!1,null,"2948384a",null)),De=Le.exports;m()(Le,{VIcon:ft["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" 1$ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number"},domProps:{value:t.dollar_price},on:{input:function(e){e.target.composing||(t.dollar_price=e.target.value)}}})]),t.user.en_id?t._e():a("div",{staticClass:"row py-3 mb-1 no-print",attrs:{dir:"rtl"}},[a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" بەڕێوبەر ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.manager},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.manager=e.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ب.کارگێڕی ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.kargeri},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.kargeri=e.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" سەرپەرشتیاری ستاف ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supervisor,expression:"supervisor"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.supervisor},on:{input:function(e){e.target.composing||(t.supervisor=e.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ژمێریار ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.accountant},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.accountant=e.target.value)}}})]),a("hr",{staticClass:"no-print"}),t._m(0),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),t.user.en_id?t._e():a("hr"),t.user.en_id?t._e():a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" Employee: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.emp_id,expression:"emp_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.emp_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return a("option",{key:e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)]),t.user.en_id?t._e():a("div",{staticClass:"row no-print"},t._l(t.employees,(function(e){return a("div",{key:e.emp_id,staticClass:"col-3"},[a("v-checkbox",{attrs:{label:e.full_name,value:e.emp_id},model:{value:t.employees_to_zero,callback:function(e){t.employees_to_zero=e},expression:"employees_to_zero"}})],1)})),0)]),t._m(1),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[t._v(" Salary List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]),a("span",{staticClass:"float-end"},[t._v(" Salary List For "+t._s(t.month)+"/"+t._s(t.year)+" ")])]),a("br"),a("div",{staticClass:"table-responsive mt-5",staticStyle:{"page-break-inside":"always"}},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(2),a("tbody",[t._l(t.filtered_data.filter((function(t){return"Monthly"==t.salary_type})),(function(e){return a("tr",{key:e.emp_id},[a("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.employee_full_name)+" ")]),a("td",{class:{"text-danger":t.getSuitableSalary(e)<0},staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(t.getSuitableSalary(e).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.count_present<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.count_present)+" ")]),a("td",{class:{"text-danger":e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.total_hour)+" ")]),a("td",{class:{"text-danger":t.getSuitableSalary(e)*e.count_present<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((t.getSuitableSalary(e)*e.count_present).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.monthly_salary/26/8*e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number((e.monthly_salary/26/8*e.total_hour).toFixed(2)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number(e.food_money)+Number(e.total_food)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.food_money)+Number(e.total_food)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number(e.transport_money)+Number(e.total_transport)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.transport_money)+Number(e.total_transport)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.cabina_money.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number(e.expense_money)+Number(e.total_expense)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.expense_money)+Number(e.total_expense)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.fine_money-e.total_fine<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.fine_money-e.total_fine).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_expense.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_minus.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number((t.getSuitableSalary(e)*e.count_present+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus)*t.dollar_price)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(Number((t.getSuitableSalary(e)*e.count_present+Number(e.monthly_salary/26/8*e.total_hour)+Number(e.food_money)+Number(e.transport_money)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+Number(e.cabina_money)+Number(e.expense_money)+Number(e.fine_money)-Number(e.total_fine)+Number(e.loan_money)+Number(e.accomodation_money)+Number(e.other_expense)+Number(e.other_minus))*t.dollar_price)).toLocaleString())+" ")]),a("td",{class:{"text-danger":t.getSuitableSalary(e)*e.count_present+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number((t.getSuitableSalary(e)*e.count_present+Number(e.monthly_salary/26/8*e.total_hour)+Number(e.food_money)+Number(e.transport_money)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+Number(e.cabina_money)+Number(e.expense_money)+Number(e.fine_money)-Number(e.total_fine)+Number(e.loan_money)+Number(e.accomodation_money)+Number(e.other_expense)+Number(e.other_minus)).toFixed(2)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")])])})),a("tr",[a("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dollar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para",class:{"text-danger":t.getTotalDollar()<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(t.getTotalDollar()).toLocaleString())+" $ ")])]),t._l(t.filtered_data.filter((function(t){return"Daily"==t.salary_type})),(function(e){return a("tr",{key:e.emp_id},[a("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.employee_full_name)+" ")]),a("td",{class:{"text-danger":e.daily_salary<0},staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.daily_salary.toLocaleString()))]),a("td",{class:{"text-danger":e.count_present<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.count_present)+" ")]),a("td",{class:{"text-danger":e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.total_hour)+" ")]),a("td",{class:{"text-danger":e.daily_salary*e.count_present<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.daily_salary*e.count_present).toLocaleString()))]),a("td",{class:{"text-danger":e.daily_salary/8*e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.daily_salary/8*e.total_hour).toLocaleString()))]),a("td",{class:{"text-danger":Number(e.food_money)+Number(e.total_food)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.food_money)+Number(e.total_food)).toLocaleString()))]),a("td",{class:{"text-danger":Number(e.transport_money)+Number(e.total_transport)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.transport_money)+Number(e.total_transport)).toLocaleString()))]),a("td",{class:{"text-danger":e.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.cabina_money.toLocaleString()))]),a("td",{class:{"text-danger":Number(e.expense_money)+Number(e.total_expense)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.expense_money)+Number(e.total_expense)).toLocaleString()))]),a("td",{class:{"text-danger":e.fine_money-e.total_fine<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.fine_money-e.total_fine).toLocaleString()))]),a("td",{class:{"text-danger":Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)).toLocaleString()))]),a("td",{class:{"text-danger":Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)).toLocaleString()))]),a("td",{class:{"text-danger":e.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_expense.toLocaleString()))]),a("td",{class:{"text-danger":e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_minus.toLocaleString()))]),a("td",{class:{"text-danger":e.daily_salary*e.count_present+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(Math.round(e.daily_salary*e.count_present)+Math.round(e.daily_salary/8*e.total_hour)+e.food_money-e.total_fine+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":(e.daily_salary*e.count_present+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus)/t.dollar_price<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round((e.daily_salary*e.count_present+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus)/t.dollar_price).toLocaleString())+" $ ")])])})),a("tr",[a("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dinar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para",class:{"text-danger":t.getTotalDinar()<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(t.getTotalDinar()).toLocaleString())+" ")]),a("td",{staticStyle:{"font-size":"11pt !important"}})]),a("tr",[a("td",{staticClass:"para-total",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dinar and Dollar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para-total",class:{"text-danger":t.lastTotalDinar()<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(t.lastTotalDinar()).toLocaleString())+" ")]),a("td",{staticClass:"para-total",class:{"text-danger":t.lastTotalDollar()<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(t.lastTotalDollar()).toLocaleString())+" $ ")])])],2)])]),a("br"),a("br"),a("div",{staticClass:"row",staticStyle:{color:"black"}},[a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[t._v(" بەڕێوبەر ")]),a("br"),a("span",[t._v(" "+t._s(t.manager)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[t._v(" ب.کارگێری ")]),a("br"),a("span",[t._v(" "+t._s(t.kargeri)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[t._v(" سەرپەرشتیاری ستاف ")]),a("br"),a("span",[t._v(" "+t._s(t.supervisor)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[t._v(" ژمێریار ")]),a("br"),a("span",[t._v(" "+t._s(t.accountant)+" ")]),a("br"),a("span",[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")]),a("br"),a("span",[t._v(" "+t._s(t.currentTime)+" ")])])])])],1)])],1)},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" Staffs "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Name ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Daily ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Days ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Salary ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Overtime Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Food ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Transport ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Cabina ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Expense ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Fine ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Loan ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Accomodation ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Salary per Month ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Other Minus ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total (Dinar) ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total (Dollar) ")])])}],Ee={name:"Salary_List",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,salary_list:[],staffs:[],dollar_price:0,user:{username:"",role:"",en_id:null},manager:"",kargeri:"",supervisor:"",accountant:"",employees:[],emp_id:null,employees_to_zero:[],currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},beforeCreate(){w("salaryList")},created(){this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant}),this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})})},mounted(){setInterval(()=>{this.currentTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},6e4)},methods:{search_staff(){this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(([t])=>{this.employees_btn.full_name=t.full_name})},search(){this.$http.get("/employee/getSalaryListByMonthAndYear/"+this.month+"/"+this.year+"/"+this.staff_id).then(({data:t})=>{this.salary_list=t.salary_list,this.employees_to_zero=t.zeros.map(t=>t.emp_id),this.overWorkDayToOvertime()})},getSuitableSalary(t){var e=new Date;e.setMonth(this.month-1),e.setFullYear(this.year);const a=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),s=this.fridays(this.year,this.month-1),i=a-s;return"Monthly"==t.salary_type?(t.daily_salary=Number(t.monthly_salary/i).toFixed(2),Number(Number(t.monthly_salary/i).toFixed(2))):t.daily_salary},fridays(t,e){var a,s,i;a=1,s=0,i=new Date(t,e,a);while(i.getMonth()===e)5===i.getDay()&&(s+=1),a+=1,i=new Date(t,e,a);return s},getTotalDinar(){return this.filtered_data.filter(t=>"Daily"==t.salary_type).reduce((t,e)=>t+(this.getSuitableSalary(e)*e.count_present-Number(e.total_fine)+this.getSuitableSalary(e)/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus),0)},getTotalDollar(){return this.filtered_data.filter(t=>"Monthly"==t.salary_type).reduce((t,e)=>t+(this.getSuitableSalary(e)*e.count_present-Number(e.total_fine)+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.fine_money+e.loan_money+e.accomodation_money+e.other_expense+e.other_minus),0)},lastTotalDollar(){return this.getTotalDollar()+this.getTotalDinar()/(this.dollar_price||0)},lastTotalDinar(){return this.getTotalDinar()+this.getTotalDollar()*(this.dollar_price||0)},changeNames(){this.$http.post("/setNames",{manager:this.manager,kargeri:this.kargeri,accountant:this.accountant}).then(()=>{})},overWorkDayToOvertime(){for(let s=0;s<this.salary_list.length;s++){var t=this.salary_list[s].count_present,e=new Date;e.setMonth(this.month-1),e.setFullYear(this.year);const i=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),n=this.fridays(this.year,this.month-1),l=i-n;if(t>l){var a=t-l;this.salary_list[s].total_hour+=8*a,this.salary_list[s].count_present=l}}}},computed:{filtered_data(){return this.emp_id?this.salary_list.filter(t=>t.emp_id==this.emp_id):this.salary_list},exel_data(){const t=[];return t.push(...this.salary_list.filter(t=>"Monthly"==t.salary_type).map(t=>({Name:t.employee_full_name,Daily:"Monthly"==t.salary_type?"$":""+this.getSuitableSalary(t),Days:t.count_present,Hours:t.total_hour,"Total Salary":"Monthly"==t.salary_type?"$":""+this.getSuitableSalary(t)*t.count_present,"Overtime Hours":"Monthly"==t.salary_type?"$":""+Number((t.monthly_salary/26/8*t.total_hour).toFixed(2))}))),t}},watch:{staff_id(t){this.search(),this.employees=[],this.emp_id=null,t?(this.supervisor=this.staffs.find(e=>e.st_id==t).staff_name,this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t})):this.employees=[]},month(){this.search()},year(){this.search()},employees_to_zero(t,e){const a=t.filter(t=>!e.includes(t)),s=e.filter(e=>!t.includes(e));a.length>0&&this.staff_id&&this.year&&this.month&&this.$http.post("/employee/addZeroList",{list:[{st_id:this.staff_id,month:this.month,year:this.year,emp_id:a[0]}]}).then(()=>{}),s.length>0&&this.staff_id&&this.year&&this.month&&this.$http.delete("/employee/deleteZeroList/"+this.year+"/"+this.month+"/"+this.staff_id+"/"+s[0]).then(()=>{});for(let i=0;i<this.salary_list.length;i++)this.employees_to_zero.includes(this.salary_list[i].emp_id)&&(this.salary_list[i].daily_salary=0,this.salary_list[i].monthly_salary=0,this.salary_list[i].total_o=0,this.salary_list[i].total_hour=0,this.salary_list[i].total_fine=0,this.salary_list[i].count_present=0,this.salary_list[i].food_money=0,this.salary_list[i].total_food=0,this.salary_list[i].total_transport=0,this.salary_list[i].total_loan=0,this.salary_list[i].total_expense=0,this.salary_list[i].total_accomodation=0,this.salary_list[i].transport_money=0,this.salary_list[i].cabina_money=0,this.salary_list[i].expense_money=0,this.salary_list[i].fine_money=0,this.salary_list[i].loan_money=0,this.salary_list[i].accomodation_money=0,this.salary_list[i].other_expense=0,this.salary_list[i].other_minus=0)}}},Ie=Ee,Be=(a("faaa"),a("ac7c")),Te=Object(d["a"])(Ie,$e,Ne,!1,null,"0d6c2fa0",null),je=Te.exports;m()(Te,{VCheckbox:Be["a"]});var Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_expense"},on:{click:function(e){return t.clear_expense()}}},[t._v(" Add Expense "),a("i",{staticClass:"fa fa-plus"})]),a("a",{staticClass:"btn btn-primary text-white col-xl-2 col-md-5 mx-2 mb-2",attrs:{href:"/staff_expenses_report"}},[t._v(" Report ")])]),a("hr",{staticClass:"my-0"}),a("v-data-table",{staticClass:"mx-2 mt-1",attrs:{headers:t.headers,items:t.rows},scopedSlots:t._u([{key:"item.price",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.price.toLocaleString())+" ")]}},{key:"item.total",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.total.toLocaleString())+" ")]}},{key:"item.expense_date",fn:function(e){var a=e.item;return[t._v(" "+t._s(new Date(a.expense_date).toISOString().split("T")[0])+" ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary","data-toggle":"modal","data-target":"#mdl_expense"},on:{click:function(e){return t.get_single_expense(s)}}},[a("v-icon",[t._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.delete_expense(s.staff_expense_id)}}},[a("v-icon",[t._v(" mdi-delete ")])],1)]}}],null,!0)})],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expense"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_expense()}}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v(" Expense ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Staff: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.st_id,expression:"single_expense.st_id"}],staticClass:"form-control col-xl-11 mx-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_expense,"st_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Date: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.expense_date,expression:"single_expense.expense_date"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"date"},domProps:{value:t.single_expense.expense_date},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"expense_date",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0 ms-n1"},[t._v(" Expense: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.expense_text,expression:"single_expense.expense_text"}],staticClass:"form-control col-xl-11 ms-1 mx-0",domProps:{value:t.single_expense.expense_text},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"expense_text",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Quantity: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.qty,expression:"single_expense.qty"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"number"},domProps:{value:t.single_expense.qty},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"qty",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Price: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.price,expression:"single_expense.price"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"number"},domProps:{value:t.single_expense.price},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"price",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[t.single_expense.staff_expense_id?a("button",{staticClass:"btn btn-warning col-xl-12 mx-0",attrs:{id:"btn-update"},on:{click:function(e){return t.update_expense()}}},[t._v(" Update "),a("i",{staticClass:"fa fa-save"})]):a("button",{staticClass:"btn btn-success col-xl-12 mx-0",attrs:{id:"btn-add"},on:{click:function(e){return t.add_expense()}}},[t._v(" Add Expense "),a("i",{staticClass:"fa fa-plus"})])])])])])])])],1)},Pe=[],Oe={name:"staff_expenses",data(){return{single_expense:{staff_expense_id:null,expense_text:null,st_id:null,qty:0,price:0,user:"",expense_date:(new Date).toISOString().split("T")[0]},staffs:[],rows:[],user:{username:"",role:"",en_id:null},headers:[{text:"Expense",align:"start",sortable:!1,value:"expense_text"},{text:"Staff",align:"start",sortable:!1,value:"staff_name"},{text:"Quantity",align:"start",sortable:!1,value:"qty"},{text:"Price",align:"start",sortable:!1,value:"price"},{text:"Total",align:"start",sortable:!1,value:"total"},{text:"Date",align:"start",sortable:!0,value:"expense_date"},{text:"User",align:"start",sortable:!1,value:"user"},{text:"Actions",align:"start",sortable:!1,value:"actions"}]}},beforeCreate(){w("salaryList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)}),this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null}),this.$http.get("/staff_expenses/all").then(({data:t})=>{this.rows=t})},mounted(){},methods:{clear_expense(){this.single_expense={staff_expense_id:null,expense_text:null,qty:0,price:0,user:""}},get_single_expense(t){this.single_expense.staff_expense_id=t.staff_expense_id,this.single_expense.expense_text=t.expense_text,this.single_expense.st_id=t.st_id,this.single_expense.qty=t.qty,this.single_expense.price=t.price,this.single_expense.expense_date=new Date(t.expense_date).toISOString().split("T")[0]},add_expense(){this.single_expense.user=this.user.username,document.getElementById("btn-add").setAttribute("disabled","disabled"),this.$http.post("/staff_expenses/create",this.single_expense).then(({data:t})=>{this.clear_expense(),this.rows.unshift(t)}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled")})},update_expense(){this.single_expense.user=this.user.username,document.getElementById("btn-update").setAttribute("disabled","disabled"),this.$http.patch("/staff_expenses/update/"+this.single_expense.staff_expense_id,this.single_expense).then(()=>{this.$alert("Updated Successfully","Success","success");let t=this.rows.findIndex(t=>t.staff_expense_id==this.single_expense.staff_expense_id);this.rows[t].st_id=this.single_expense.st_id,this.rows[t].expense_text=this.single_expense.expense_text,this.rows[t].qty=this.single_expense.qty,this.rows[t].price=this.single_expense.price,this.rows[t].expense_date=new Date(this.single_expense.expense_date).toISOString().split("T")[0],this.rows[t].user=this.single_expense.user,this.rows[t].total=this.single_expense.qty*this.single_expense.price}).finally(()=>{document.getElementById("btn-update").removeAttribute("disabled")})},delete_expense(t){this.$confirm("Are you sure you want to delete this expense?","Delete","question").then(()=>{this.$http.delete("/staff_expenses/delete/"+t).then(()=>{this.$alert("Deleted Successfully","Success","success"),this.rows=this.rows.filter(e=>e.staff_expense_id!=t)})})}}},ze=Oe,Fe=Object(d["a"])(ze,Me,Pe,!1,null,null,null),Qe=Fe.exports;m()(Fe,{VBtn:ht["a"],VDataTable:E["a"],VIcon:ft["a"]});var He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn",{staticClass:"no-print"}),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" From: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"date"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}}),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" To: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"date"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}}),s("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-0 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),s("i",{staticClass:"fa fa-search"})]),s("hr")]),s("hr",{staticClass:"no-print"}),s("div",{staticClass:"row no-print",attrs:{dir:"rtl"}},[s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" بەڕێوەبەر: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.manager},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.manager=e.target.value)}}}),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" ژمێریار: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.accountant},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.accountant=e.target.value)}}}),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" کارگێڕی: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.kargeri},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.kargeri=e.target.value)}}})]),s("hr",{staticClass:"no-print"}),t._m(0),s("hr",{staticClass:"my-1"}),s("div",[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")]),s("div",{staticClass:"mt-1",staticStyle:{color:"black"}},[s("p",{staticClass:"text-center"},[t._v(" فەرمانی خەرجکردن ")]),s("p",{staticClass:"text-right mt-5",attrs:{dir:"rtl"}},[t._v(" بڕیاردرا بە خەرجکردنی بڕی ("+t._s(t.total.toLocaleString())+") "+t._s(t.numToWord(t.total))+" دینار بۆ "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" بۆ خەرجی لە بەرواری "+t._s(t.from)+" بۆ بەرواری "+t._s(t.to)+" بەپێی ئەم خشتەیەی لای خوارەوە: ")])]),s("div",[s("table",{staticClass:"table table-bordered table-striped text-center",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"},attrs:{dir:"rtl"}},[t._m(1),s("tbody",[t._l(t.expenses,(function(e){return s("tr",{key:e.staff_expense_id},[s("td",[t._v(" "+t._s(e.expense_text)+" ")]),s("td",[t._v(" "+t._s(e.staff_name)+" ")]),s("td",[t._v(" "+t._s(e.qty)+" ")]),s("td",[t._v(" "+t._s(e.price.toLocaleString())+" ")]),s("td",[t._v(" "+t._s(e.total.toLocaleString())+" ")]),s("td",[t._v(" "+t._s(new Date(e.expense_date).toISOString().split("T")[0])+" ")])])})),s("tr",[s("td",{staticClass:"text-left para-total",attrs:{colspan:"4"}},[t._v(" کــۆ: ")]),s("td",{staticClass:"para-total"},[t._v(" "+t._s(t.total.toLocaleString())+" ")]),s("td",{staticClass:"para-total"},[t._v(" "+t._s(t.numToWord(t.total))+" دینار ")])])],2)]),s("div",{staticClass:"row mt-15 mb-8",attrs:{dir:"rtl"}},[s("div",{staticClass:"col-4 text-center",staticStyle:{color:"black"}},[t._v(" بەڕێوەبەر "),s("br"),t._v(" "+t._s(t.manager)+" ")]),s("div",{staticClass:"col-4 text-center",staticStyle:{color:"black"}},[t._v(" ژمێریار "),s("br"),t._v(" "+t._s(t.accountant)+" ")]),s("div",{staticClass:"col-4 text-center",staticStyle:{color:"black"}},[t._v(" بەڕێوەبەری کارگێڕی "),s("br"),t._v(" "+t._s(t.kargeri)+" ")])]),s("img",{attrs:{src:a("d9a5"),alt:"",width:"100%"}})])])],1)])],1)},Re=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-4",staticStyle:{color:"black"}},[s("h3",[t._v(" Ideal Power Company ")]),s("p",[t._v(" For Contracting Electrical, Mechanical, General Trading, Renewable Energy & Clean Energy / LTD ")])]),s("div",{staticClass:"col-4 text-center",staticStyle:{color:"black"}},[s("img",{staticClass:"mt-n3",attrs:{src:a("70f2"),width:"75%"}})]),s("div",{staticClass:"col-4 text-right",staticStyle:{color:"black"}},[s("h2",[t._v(" کۆمپانیای ئایدیەڵ پاوەر ")]),s("p",[t._v(" بۆ بەڵێندەرایەتی کارەبایی و میکانیکی و بازرگانی گشتی و وزەی نوێ بووە و وزەی تاک / سنوردار ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" خەرجی ")]),a("th",[t._v(" ستاف ")]),a("th",[t._v(" بڕ ")]),a("th",[t._v(" نرخ ")]),a("th",[t._v(" کۆی نرخ ")]),a("th",[t._v(" بەروار ")])])}],Ye=a("c898"),Ue={name:"staff_expenses_report",data(){return{staff_id:null,staffs:[],expenses:[],month:(new Date).getMonth()+1,year:(new Date).getFullYear(),from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0],employees:[],manager:"",accountant:"",kargeri:""}},beforeCreate(){w("staff_expenses_report")},created(){this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{numToWord(t){return Ye["a"].convert(t)},search(){this.from&&this.to&&this.staff_id?this.$http.get("/staff_expenses/getDataByStaff/"+this.staff_id+"/"+this.from+"/"+this.to).then(({data:t})=>{this.expenses=t}):this.expenses=[]},changeNames(){this.$http.post("/setNames",{manager:this.manager,kargeri:this.kargeri,accountant:this.accountant}).then(()=>{})}},computed:{total(){return this.expenses.reduce((t,e)=>t+e.total,0)}},watch:{staff_id(){this.search()},from(){this.search()},to(){this.search()}}},qe=Ue,Ge=(a("3b3e"),Object(d["a"])(qe,He,Re,!1,null,"4bedd497",null)),Ve=Ge.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),t.isSaved?a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Groups: ")]):t._e(),t.isSaved?a("select",{directives:[{name:"model",rawName:"v-model",value:t.group,expression:"group"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.group=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),a("option",{attrs:{value:"barzayakan"}},[t._v(" بەرزاییەکان ")]),a("option",{attrs:{value:"A"}},[t._v(" A ")]),a("option",{attrs:{value:"B"}},[t._v(" B ")]),a("option",{attrs:{value:"C"}},[t._v(" C ")]),a("option",{attrs:{value:"D"}},[t._v(" D ")]),a("option",{attrs:{value:"E"}},[t._v(" E ")])]):t._e(),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-xl-2 mb-1"},[t._v(" Price Barzayakan ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_barzayakan,expression:"price_barzayakan",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_barzayakan},on:{input:function(e){e.target.composing||(t.price_barzayakan=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price A ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_A,expression:"price_A",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_A},on:{input:function(e){e.target.composing||(t.price_A=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price B ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_B,expression:"price_B",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_B},on:{input:function(e){e.target.composing||(t.price_B=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price C ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_C,expression:"price_C",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_C},on:{input:function(e){e.target.composing||(t.price_C=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price D ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_D,expression:"price_D",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_D},on:{input:function(e){e.target.composing||(t.price_D=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-2 mb-1"},[t._v(" Price E ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_E,expression:"price_E",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_E},on:{input:function(e){e.target.composing||(t.price_E=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t.group?t._e():[t.isSaved?a("button",{staticClass:"btn btn-danger col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-delete"},on:{click:function(e){return t.delete_list()}}},[t._v(" Delete "),a("i",{staticClass:"fa fa-trash"})]):a("button",{staticClass:"btn btn-primary col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-add"},on:{click:function(e){return t.add_list()}}},[t._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]],2),a("hr",{staticClass:"no-print"}),t._m(0),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[t._v(" Food List For "+t._s(t.month)+"/"+t._s(t.year)+" ")]),t.staff_id?a("span",{staticClass:"float-end"},[t._v(" Food List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]):t._e()]),a("br"),a("div",{staticClass:"table-responsive mt-5"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),a("tbody",[t._l(t.filtered_data,(function(e,s){return a("tr",{key:s},[a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(t._f("food_group_filter")(e.food_group))+" ")]),a("td",[t._v(" "+t._s(e.food_number)+" ")]),a("td",[t._v(" "+t._s(("barzayakan"==e.food_group?t.price_barzayakan:"A"==e.food_group?t.price_A:"B"==e.food_group?t.price_B:"C"==e.food_group?t.price_C:"D"==e.food_group?t.price_D:"E"==e.food_group?t.price_E:0).toLocaleString())+" ")]),a("td",[t._v(" "+t._s(("barzayakan"==e.food_group?e.food_number*t.price_barzayakan:"A"==e.food_group?e.food_number*t.price_A:"B"==e.food_group?e.food_number*t.price_B:"C"==e.food_group?e.food_number*t.price_C:"D"==e.food_group?e.food_number*t.price_D:"E"==e.food_group?e.food_number*t.price_E:0).toLocaleString())+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"4"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.filtered_data.reduce((function(e,a){return e+("barzayakan"==a.food_group?a.food_number*t.price_barzayakan:"A"==a.food_group?a.food_number*t.price_A:"B"==a.food_group?a.food_number*t.price_B:"C"==a.food_group?a.food_number*t.price_C:"D"==a.food_group?a.food_number*t.price_D:"E"==a.food_group?a.food_number*t.price_E:0)}),0).toLocaleString())+" ")])])],2)])])])],1)])],1)},We=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Staff ")]),a("th",[t._v(" Food Group ")]),a("th",[t._v(" Food Numbers ")]),a("th",[t._v(" Price ")]),a("th",[t._v(" Total ")])])}],Je={name:"FoodList",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),foodList:[],price_barzayakan:0,price_A:0,price_B:0,price_C:0,price_D:0,price_E:0,isSaved:!1,staffs:[],staff_id:null,group:null}},beforeCreate(){w("foodList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{search(){this.$http.get("/daily_staff_list/getFoodList/"+this.month+"/"+this.year).then(({data:t})=>{this.foodList=t.data,this.isSaved=t.message,this.foodList.length>0&&(this.price_barzayakan=this.foodList.find(t=>"barzayakan"==t.food_group)?this.foodList.find(t=>"barzayakan"==t.food_group).price_barzayakan:0,this.price_A=this.foodList.find(t=>"A"==t.food_group)?this.foodList.find(t=>"A"==t.food_group).price_A:0,this.price_B=this.foodList.find(t=>"B"==t.food_group)?this.foodList.find(t=>"B"==t.food_group).price_B:0,this.price_C=this.foodList.find(t=>"C"==t.food_group)?this.foodList.find(t=>"C"==t.food_group).price_C:0,this.price_D=this.foodList.find(t=>"D"==t.food_group)?this.foodList.find(t=>"D"==t.food_group).price_D:0,this.price_E=this.foodList.find(t=>"E"==t.food_group)?this.foodList.find(t=>"E"==t.food_group).price_E:0)})},add_list(){if(0==this.foodList.length)return alert("No data to add");this.group=null;const t=confirm("Are you sure you want to add this list?");if(t){document.getElementById("btn-add").setAttribute("disabled","disabled");const t=this.foodList.map(t=>({dsl_id:t.dsl_id,food_group:t.food_group,food_number:t.food_number,price_barzayakan:this.price_barzayakan,price_A:this.price_A,price_B:this.price_B,price_C:this.price_C,price_D:this.price_D,price_E:this.price_E,month:this.month,year:this.year}));this.$http.post("/daily_staff_list/saveFoodList",{list:t}).then(()=>{alert("List added successfully"),document.getElementById("btn-add").removeAttribute("disabled"),this.foodList=[],this.isSaved=!1}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled")})}},delete_list(){if(0==this.foodList.length)return alert("No data to delete");this.group=null;const t=confirm("Are you sure you want to delete this list?");t&&(document.getElementById("btn-delete").setAttribute("disabled","disabled"),this.$http.delete("/daily_staff_list/deleteFoodList/"+this.month+"/"+this.year).then(()=>{alert("List deleted successfully"),document.getElementById("btn-delete").removeAttribute("disabled"),this.isSaved=!1}).finally(()=>{document.getElementById("btn-delete").removeAttribute("disabled")}))}},computed:{filtered_data(){return this.group?this.foodList.filter(t=>t.food_group==this.group):this.foodList}},watch:{month(){this.search()},year(){this.search()}},filters:{food_group_filter(t){return{A:"A",B:"B",C:"C",D:"D",E:"E",barzayakan:"بەرزاییەکان"}[t]}}},Ze=Je,Xe=(a("f8a7"),Object(d["a"])(Ze,Ke,We,!1,null,"20b36064",null)),ta=Xe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr",{staticClass:"no-print"}),t._m(0),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[t._v(" Food List For "+t._s(t.month)+"/"+t._s(t.year)+" ")]),t.staff_id?a("span",{staticClass:"float-end"},[t._v(" Food List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]):t._e()]),a("br"),a("div",{staticClass:"table-responsive mt-5"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),a("tbody",t._l(t.list,(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.food_number)+" ")]),a("td",[t._v(" "+t._s(e.food_group)+" ")]),a("td",[t._v(" "+t._s(e.datetime_food?new Date(e.datetime_food).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_food?new Date(e.datetime_food).toLocaleString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)])])])],1)])],1)},aa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Food Number ")]),a("th",[t._v(" Food Group ")]),a("th",[t._v(" Food Date ")])])}],sa={name:"foodGroups",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,staffs:[],list:[]}},beforeCreate(){w("salaryList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{search(){this.month&&this.year&&this.staff_id?this.$http.get("/daily_staff_list/getFoodsByStaff/"+this.month+"/"+this.year+"/"+this.staff_id).then(({data:t})=>{this.list=t}):this.list=[]}},watch:{month(){this.search()},year(){this.search()},staff_id(){this.search()}}},ia=sa,na=(a("de56"),Object(d["a"])(ia,ea,aa,!1,null,"789a87eb",null)),la=na.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Type: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),a("option",{attrs:{value:"fine"}},[t._v(" Fine ")]),a("option",{attrs:{value:"food"}},[t._v(" Food ")]),a("option",{attrs:{value:"transport"}},[t._v(" Transport ")]),a("option",{attrs:{value:"expense"}},[t._v(" Expense ")]),a("option",{attrs:{value:"loan"}},[t._v(" Loan ")]),a("option",{attrs:{value:"accomodation"}},[t._v(" Accomodation ")])]),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr",{staticClass:"no-print"}),t._m(0),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" Employee: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.emp_id,expression:"emp_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.emp_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return a("option",{key:e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)])]),t.user.en_id?t._e():a("div",{staticClass:"row py-3 mb-1 no-print",attrs:{dir:"rtl"}},[a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" بەڕێوبەر ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.manager},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.manager=e.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ب.کارگێڕی ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.kargeri},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.kargeri=e.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ژمێریار ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.accountant},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.accountant=e.target.value)}}})]),t._m(1),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[t._v(" Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]),t._v(" "),a("span",{staticClass:"ml-15"},[t._v(" Employee: "+t._s(t.emp_id?t.employees.find((function(e){return e.emp_id==t.emp_id})).full_name:"")+" ")]),a("span",{staticClass:"float-end"},[t._v(" "+t._s(t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"")+" List For "+t._s(t.month)+"/"+t._s(t.year)+" ")])]),a("br"),"fine"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(2),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.fine})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.fine.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.fine_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):"transport"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(3),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.transport})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.transport.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.transport_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):"food"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(4),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.food})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.food.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.food_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):"expense"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(5),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.expense})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.expense.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.expense_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):"loan"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(6),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.loan})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.loan.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.loan_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):"accomodation"==t.type?a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(7),a("tbody",[t._l(t.rows.filter((function(t){return 0!=t.accomodation})),(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),a("td",[t._v(" "+t._s(e.accomodation.toLocaleString())+" IQD. ")]),a("td",[t._v(" "+t._s(e.accomodation_reason)+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),a("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" IQD. ")]),a("td",{staticClass:"para"})])],2)]):t._e(),a("br"),a("br"),a("div",{staticClass:"row",staticStyle:{color:"black"}},[a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" بەڕێوبەر ")]),a("br"),a("span",[t._v(" "+t._s(t.manager)+" ")])]),a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" ب.کارگێری ")]),a("br"),a("span",[t._v(" "+t._s(t.kargeri)+" ")])]),a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" ژمێریار ")]),a("br"),a("span",[t._v(" "+t._s(t.accountant)+" ")]),a("br"),a("span",[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")]),a("br"),a("span",[t._v(" "+t._s(t.currentTime)+" ")])])])])],1)])],1)},ra=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" Staffs "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Fine ")]),a("th",[t._v(" Fine Reason ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Transport ")]),a("th",[t._v(" Transport Reason ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Food ")]),a("th",[t._v(" Food Reason ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Expense ")]),a("th",[t._v(" Expense Reason ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Loan ")]),a("th",[t._v(" Loan Reason ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" List ID ")]),a("th",[t._v(" Work Date ")]),a("th",[t._v(" Accomodation ")]),a("th",[t._v(" Accomodation Reason ")])])}],_a={name:"EmployeeMonthDetail",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staffs:[],staff_id:null,employees:[],emp_id:null,user:{username:"",en_id:"",role:""},type:null,rows:[],manager:"",kargeri:"",accountant:"",currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},beforeCreate(){w("employee_month_detail")},created(){this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},mounted(){setInterval(()=>{this.currentTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},6e4)},methods:{search(){this.month&&this.year&&this.emp_id?this.$http.get("/employee/getEmployeeMonthDetail/"+this.month+"/"+this.year+"/"+this.emp_id).then(({data:t})=>{this.rows=t}):this.rows=[]},changeNames(){this.$http.post("/setNames",{manager:this.manager,kargeri:this.kargeri,accountant:this.accountant}).then(()=>{})}},computed:{total(){return"fine"==this.type?this.rows.reduce((t,e)=>t+e.fine,0):"food"==this.type?this.rows.reduce((t,e)=>t+e.food,0):"expense"==this.type?this.rows.reduce((t,e)=>t+e.expense,0):"loan"==this.type?this.rows.reduce((t,e)=>t+e.loan,0):"accomodation"==this.type?this.rows.reduce((t,e)=>t+e.accomodation,0):"transport"==this.type?this.rows.reduce((t,e)=>t+e.transport,0):0}},watch:{staff_id(t){this.employees=[],this.emp_id=null,t?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t}):this.employees=[]},emp_id(t){t?this.search():this.rows=[]}}},da=_a,ca=(a("91cd"),Object(d["a"])(da,oa,ra,!1,null,"7d2d1eda",null)),ma=ca.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},["A"==t.user.role?a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"modal","data-target":"#mdlLoan"},on:{click:function(e){return t.clear_loan()}}},[t._v(" Add Loan / Accomodation "),a("i",{staticClass:"fa fa-plus"})])])]):t._e(),"A"==t.user.role?a("v-data-table",{staticClass:"mt-3",attrs:{headers:t.headers,items:t.rows,"footer-props":{"items-per-page-options":[15,20,25,-1]}},scopedSlots:t._u([{key:"item.amount",fn:function(e){var s=e.item;return[a("span",{class:{"text-danger":s.amount<0}},[t._v(" "+t._s(s.amount.toLocaleString())+" "+t._s("Monthly"==s.salary_type?"$":"IQD.")+" ")])]}},{key:"item.datetime_create",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.datetime_create&&t.isValidDate(a.datetime_create)?new Date(a.datetime_create).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_create&&t.isValidDate(a.datetime_create)?new Date(a.datetime_create).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]}},{key:"item.la_id",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{icon:"",color:"success","data-toggle":"modal","data-target":"#mdlView"},on:{click:function(e){return t.getSingleLoanAccomodation(s)}}},[a("v-icon",{attrs:{size:"23"}},[t._v(" mdi-eye ")])],1),a("v-btn",{attrs:{icon:"",color:"primary","data-toggle":"modal","data-target":"#mdlLoan"},on:{click:function(e){return t.getSingleLoanAccomodation(s)}}},[a("v-icon",{attrs:{size:"23"}},[t._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.delete_list(s.la_id)}}},[a("v-icon",[t._v(" mdi-delete ")])],1)]}}],null,!0)}):a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("tr",[a("th",[t._v(" Employee ")]),a("th",[t._v(" Staff ")]),a("th",[t._v(" Type ")]),a("th",[t._v(" Amount ")]),a("th",[t._v(" User ")]),a("th",[t._v(" Date - Time ")]),a("th",[t._v(" Actions ")])])]),a("tbody",t._l(t.rows,(function(e,s){return a("tr",{key:s},[a("td",[t._v(" "+t._s(e.employee_full_name)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.la_type)+" ")]),a("td",{class:{"text-danger":e.amount<0}},[t._v(" "+t._s(e.amount.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"IQD.")+" ")]),a("td",[t._v(" "+t._s(e.user)+" ")]),a("td",[t._v(" "+t._s(e.datetime_create&&t.isValidDate(e.datetime_create)?new Date(e.datetime_create).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_create&&t.isValidDate(e.datetime_create)?new Date(e.datetime_create).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]),a("td",[a("v-btn",{attrs:{icon:"",color:"success","data-toggle":"modal","data-target":"#mdlView"},on:{click:function(a){return t.getSingleLoanAccomodation(e)}}},[a("v-icon",{attrs:{size:"23"}},[t._v(" mdi-eye ")])],1)],1)])})),0)])],1)],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlLoan"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_loan()}}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v(" Loan / Accomodation ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.loan_accomodation.staff_id,expression:"loan_accomodation.staff_id"}],staticClass:"form-control col-sm-8 mb-2",attrs:{id:"staff-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.loan_accomodation,"staff_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Employee: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.loan_accomodation.emp_id,expression:"loan_accomodation.emp_id"}],staticClass:"form-control col-sm-8 mb-2",attrs:{id:"employee-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.loan_accomodation,"emp_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return a("option",{key:e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2),a("label",{staticClass:"col-sm-2 mt-1"},[t._v(" "+t._s(t._f("country_filter")(t.region))+" ")])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Type: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.loan_accomodation.la_type,expression:"loan_accomodation.la_type"}],staticClass:"form-control col-sm-8 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.loan_accomodation,"la_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"loan"}},[t._v(" Loan ")]),a("option",{attrs:{value:"accomodation"}},[t._v(" Accomodation ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Salary type: ")]),a("label",{staticClass:"col-sm-8 mt-2"},[t._v(" "+t._s(t.loan_accomodation.salary_type)+" ")])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Amount: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loan_accomodation.amount,expression:"loan_accomodation.amount"}],staticClass:"form-control col-sm-8 mb-2",attrs:{type:"number"},domProps:{value:t.loan_accomodation.amount},on:{input:function(e){e.target.composing||t.$set(t.loan_accomodation,"amount",e.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" "+t._s(t.loan_accomodation.emp_id?"Monthly"==t.employees.find((function(e){return e.emp_id==t.loan_accomodation.emp_id})).salary_type?"$":"IQD.":"")+" ")])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-12 mt-2"},[t._v(" Remain: "),a("span",{staticClass:"ml-14"},[t._v(" ( "+t._s((Number(t.loan_accomodation.amount)-Number(t.list.reduce((function(t,e){return t+Number(e.amount)}),0))).toLocaleString())+" ) ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 mt-2"},[t._v(" Note: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.loan_accomodation.note,expression:"loan_accomodation.note"}],staticClass:"form-control col-sm-10 mb-2",attrs:{rows:"3"},domProps:{value:t.loan_accomodation.note},on:{input:function(e){e.target.composing||t.$set(t.loan_accomodation,"note",e.target.value)}}})]),a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-success col-sm-2 mt-2",on:{click:function(e){return t.push_item_list()}}},[a("v-icon",{attrs:{color:"white"}},[t._v(" mdi-plus ")])],1)]),a("hr"),t._m(0),t._l(t.list,(function(e,s){return a("div",{key:"l"+s,staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"form-control col-sm-3 mb-2",domProps:{value:e.amount},on:{change:function(a){return t.set_amount(e.lad_id||null,e.amount)},input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"item.month"}],staticClass:"form-control col-sm-3 mb-2",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"month",a.target.multiple?s:s[0])},function(a){return t.set_month(e.lad_id||null,e.month)}]}},[a("option",{attrs:{value:""}}),a("option",{attrs:{value:"1"}},[t._v(" 1 ")]),a("option",{attrs:{value:"2"}},[t._v(" 2 ")]),a("option",{attrs:{value:"3"}},[t._v(" 3 ")]),a("option",{attrs:{value:"4"}},[t._v(" 4 ")]),a("option",{attrs:{value:"5"}},[t._v(" 5 ")]),a("option",{attrs:{value:"6"}},[t._v(" 6 ")]),a("option",{attrs:{value:"7"}},[t._v(" 7 ")]),a("option",{attrs:{value:"8"}},[t._v(" 8 ")]),a("option",{attrs:{value:"9"}},[t._v(" 9 ")]),a("option",{attrs:{value:"10"}},[t._v(" 10 ")]),a("option",{attrs:{value:"11"}},[t._v(" 11 ")]),a("option",{attrs:{value:"12"}},[t._v(" 12 ")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"item.year"}],staticClass:"form-control col-sm-3 mb-2",attrs:{type:"number"},domProps:{value:e.year},on:{change:function(a){return t.set_year(e.lad_id||null,e.year)},input:function(a){a.target.composing||t.$set(e,"year",a.target.value)}}}),a("v-btn",{staticClass:"col-sm-3 mb-2 text-center",attrs:{color:"error"},on:{click:function(e){return t.delete_item_list(s)}}},[a("v-icon",[t._v(" mdi-delete ")])],1)],1)})),a("div",{staticClass:"row"},[t.loan_accomodation.la_id?a("button",{staticClass:"btn btn-warning btn-block mx-2 mt-8",on:{click:function(e){return t.updateList()}}},[t._v(" Update "),a("v-icon",{attrs:{color:"white"}},[t._v(" mdi-content-save ")])],1):a("button",{staticClass:"btn btn-success btn-block mx-2 mt-8",on:{click:function(e){return t.addList()}}},[t._v(" Add List "),a("v-icon",{attrs:{color:"white"}},[t._v(" mdi-plus ")])],1)])],2)])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlView"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_loan()}}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v(" Loan / Accomodation ")])]),a("div",{staticClass:"modal-body"},[t._v(" Employee: "+t._s(t.employee_full_name)+" "),a("br"),a("br"),t._v(" Type: "+t._s(t.loan_accomodation.la_type)+" "),a("br"),a("br"),t._v(" Total: "),a("span",{class:{"text-danger":t.loan_accomodation.amount<0}},[t._v(" "+t._s((t.loan_accomodation.amount>0?t.loan_accomodation.amount:-1*t.loan_accomodation.amount).toLocaleString())+" "+t._s("Monthly"==t.loan_accomodation.salary_type?"$":"IQD.")+" ")]),a("br"),a("br"),t._v(" Note: "),a("br"),a("hr"),a("div",{staticStyle:{"white-space":"pre !important"}},[t._v(t._s(t.loan_accomodation.note))]),a("table",{staticClass:"table table-bordered table-striped text-center text-dark mt-3"},[t._m(1),a("tbody",t._l(t.list,(function(e){return a("tr",{key:e.lad_id},[a("td",[a("span",{class:{"text-danger":e.amount<0}},[t._v(" "+t._s(e.amount.toLocaleString())+" "+t._s("Monthly"==t.loan_accomodation.salary_type?"$":"IQD.")+" ")])]),a("td",[t._v(" "+t._s(e.month)+" ")]),a("td",[t._v(" "+t._s(e.year)+" ")])])})),0)])])])])])],1)},pa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 mb-2 text-center"},[t._v(" Amount ")]),a("label",{staticClass:"col-sm-3 mb-2 text-center"},[t._v(" Month ")]),a("label",{staticClass:"col-sm-3 mb-2 text-center"},[t._v(" Year ")]),a("label",{staticClass:"col-sm-3 mb-2 text-center"},[t._v(" Actions ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v(" Amount ")]),a("th",[t._v(" Month ")]),a("th",[t._v(" Year ")])])])}],ga={name:"LoanAccomodation",data(){return{region:"",staffs:[],employees:[],employee_full_name:"",loan_accomodation:{la_id:null,staff_id:null,emp_id:null,la_type:"loan",salary_type:null,amount:0,note:null},list:[],rows:[],user:{username:"",role:"",en_id:null},headers:[{text:"Employee",align:"start",sortable:!1,value:"employee_full_name"},{text:"Staff",align:"start",sortable:!1,value:"staff_name"},{text:"Type",align:"start",sortable:!1,value:"la_type"},{text:"Amount",align:"start",sortable:!0,value:"amount"},{text:"User",align:"start",sortable:!1,value:"user"},{text:"Date - Time",align:"start",sortable:!0,value:"datetime_create"},{text:"Actions",align:"start",sortable:!1,value:"la_id"}]}},beforeCreate(){w("LoanAccomodation")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)}),"E"==this.user.role?this.$http.get("/loan_accomodation/getByEngineer/"+this.user.en_id).then(t=>{this.rows=t.data}):this.$http.get("/loan_accomodation/all").then(t=>{this.rows=t.data})})},methods:{clear_loan(){this.loan_accomodation={la_id:null,staff_id:null,emp_id:null,la_type:"loan",salary_type:null,amount:0,note:null},this.list=[]},delete_item_list(t){this.$confirm("Are you sure you want to delete this item ?","","question").then(()=>{if(this.loan_accomodation.la_id){const e=this.list[t].lad_id;this.$http.delete("/loan_accomodation/delete_detail_by_id/"+e).then(()=>{this.list.splice(t,1)}).catch(()=>{alert("Delete Failed")})}else this.list.splice(t,1)})},addList(){var t=new Date;t.setHours(t.getHours()+3);const e=this.list.filter(t=>t.amount&&t.month&&t.year);return 0==e.length?alert("Please fill all fields"):this.loan_accomodation.emp_id&&this.loan_accomodation.staff_id&&this.loan_accomodation.amount?void this.$http.post("/loan_accomodation/create_list",{loan_accomodation:{emp_id:this.loan_accomodation.emp_id,st_id:this.loan_accomodation.staff_id,la_type:this.loan_accomodation.la_type,amount:this.loan_accomodation.amount,salary_type:this.loan_accomodation.salary_type,datetime_create:t,user:this.user.username,note:this.loan_accomodation.note},list:e}).then(t=>{this.rows.push(t.data.new_data),this.clear_loan()}):alert("Please all fields")},updateList(){const t=this.list.filter(t=>t.amount&&t.month&&t.year);if(0==t.length)return alert("Please fill all fields");if(!this.loan_accomodation.emp_id||!this.loan_accomodation.staff_id||!this.loan_accomodation.amount)return alert("Please all fields");var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/loan_accomodation/update_list",{loan_accomodation:{la_id:this.loan_accomodation.la_id,emp_id:this.loan_accomodation.emp_id,st_id:this.loan_accomodation.staff_id,la_type:this.loan_accomodation.la_type,amount:this.loan_accomodation.amount,salary_type:this.loan_accomodation.salary_type,datetime_create:e,user:this.user.username,note:this.loan_accomodation.note}}).then(()=>{this.$http.get("/loan_accomodation/all").then(t=>{this.rows=t.data}),this.clear_loan()})},getSingleLoanAccomodation(t){this.loan_accomodation.la_id=t.la_id,this.loan_accomodation.staff_id=t.st_id,setTimeout(()=>{this.loan_accomodation.emp_id=t.emp_id,this.region=this.employees.find(e=>e.emp_id==t.emp_id).country},250),this.loan_accomodation.la_type=t.la_type,this.loan_accomodation.salary_type=t.salary_type,this.loan_accomodation.amount=t.amount,this.loan_accomodation.note=t.note,this.employee_full_name=t.employee_full_name,this.$http.get("/loan_accomodation/get_detail/"+t.la_id).then(t=>{this.list=t.data})},delete_list(t){this.$confirm("Are you sure you want to delete this list ?","","question").then(()=>{this.$http.delete("/loan_accomodation/delete_by_id/"+t).then(()=>{this.$http.get("/loan_accomodation/all").then(t=>{this.rows=t.data})}).catch(()=>{alert("Delete Failed")})})},set_amount(t,e){this.loan_accomodation.la_id&&this.$http.patch("/loan_accomodation/set_amount/"+t,{amount:e}).then(()=>{}).catch(()=>{alert("Update Failed")})},set_month(t,e){this.loan_accomodation.la_id&&this.$http.patch("/loan_accomodation/set_month/"+t,{month:e}).then(()=>{}).catch(()=>{alert("Update Failed")})},set_year(t,e){this.loan_accomodation.la_id&&this.$http.patch("/loan_accomodation/set_year/"+t,{year:e}).then(()=>{}).catch(()=>{alert("Update Failed")})},push_item_list(){this.loan_accomodation.la_id?this.$http.post("/loan_accomodation/add_detail",{la_id:this.loan_accomodation.la_id,amount:0,month:(new Date).getMonth()+1,year:(new Date).getFullYear()}).then(t=>{this.list.push({lad_id:t.data.new_id,la_id:this.loan_accomodation.la_id,amount:0,month:(new Date).getMonth()+1,year:(new Date).getFullYear()})}).catch(()=>{alert("Add Failed")}):this.list.push({la_id:null,amount:0,month:null,year:(new Date).getFullYear()})},isValidDate(t){let e=new Date(t);return e instanceof Date&&!isNaN(e)}},watch:{"loan_accomodation.staff_id":function(t){this.employees=[],this.loan_accomodation.emp_id=null,t?this.$http.post("/employee/getEmployeeBystaffForLoan/"+this.loan_accomodation.staff_id).then(({data:t})=>{this.employees=t}):this.employees=[]},"loan_accomodation.emp_id":function(t){document.activeElement==document.getElementById("employee-select")&&(t?(this.region=this.employees.find(e=>e.emp_id==t).country,this.loan_accomodation.salary_type=this.employees.find(e=>e.emp_id==t).salary_type):(this.region="",this.loan_accomodation.salary_type=null))}},filters:{country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]}}},ha=ga,fa=Object(d["a"])(ha,ua,pa,!1,null,null,null),ya=fa.exports;m()(fa,{VBtn:ht["a"],VDataTable:E["a"],VIcon:ft["a"]}),s["a"].use(v["a"]);const va=[{path:"/",component:B},{path:"/engineers",component:Q},{path:"/employees",component:K},{path:"/users",component:st},{path:"/attendance",component:ct},{path:"/debtTransaction",component:vt},{path:"/give_salary",component:At},{path:"/login",component:It},{path:"/salary_list",component:je},{path:"/staff_expenses",component:Qe},{path:"/staff_expenses_report",component:Ve},{path:"/foodList",component:ta},{path:"/foodGroups",component:la},{path:"/employee_month_detail",component:ma},{path:"/loan_accomodation",component:ya},{path:"/reports/staff",component:Yt},{path:"/reports/engineer",component:Wt},{path:"/reports/employee",component:ae},{path:"/reports/givedSalary",component:_e},{path:"/reports/topEmployees",component:he},{path:"/reports/staffList",component:Ce},{path:"/reports/monthlySalary",component:De},{path:"*",component:Pt}],ba=new v["a"]({mode:"history",base:"/",routes:va});var xa=ba,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 active",attrs:{id:"nav"}},[a("div",{staticClass:"container-fluid d-flex flex-column p-0"},[t._m(0),a("hr",{staticClass:"sidebar-divider my-0"}),a("ul",{staticClass:"nav navbar-nav text-light w-100",attrs:{id:"accordionSidebar"}},["A"==t.user_type||t.permissions.includes("index")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-home"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].home)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("users")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/users"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].users)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("engineers")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/engineers"}},[a("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].supervisors)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("employees")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/employees"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].employees)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("attendance")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/attendance"}},[a("i",{staticClass:"fas fa-hourglass"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].attendance)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("give_salary")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/give_salary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].give_salary)+" ")])])],1):t._e(),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/loan_accomodation"}},[a("i",{staticClass:"fas fa-receipt"}),t._v(" "),a("span",{staticStyle:{"font-size":"13.1px"}},[t._v(" "+t._s("Loan/Accomodation")+" ")])])],1),"A"==t.user_type||t.permissions.includes("debtTransaction")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/debtTransaction"}},[a("i",{staticClass:"fas fa-receipt"}),t._v(" "),a("span",[t._v(" "+t._s("Employee Debts")+" ")])])],1):t._e(),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/salary_list"}},[a("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" "),a("span",[t._v(" "+t._s("Salary List")+" ")])])],1),"A"==t.user_type||t.permissions.includes("foodList")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/foodList"}},[a("i",{staticClass:"fas fa-receipt"}),t._v(" "),a("span",[t._v(" "+t._s("Food List")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("staff_expenses")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/staff_expenses"}},[a("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" "),a("span",[t._v(" Staff Expenses ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("foodGroups")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/foodGroups"}},[a("i",{staticClass:"fas fa-receipt"}),t._v(" "),a("span",[t._v(" "+t._s("Staff Foods")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("employeeMonthDetail")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/employee_month_detail"}},[a("i",{staticClass:"fas fa-receipt"}),t._v(" "),a("span",[t._v(" "+t._s("Employee Month Detail")+" ")])])],1):t._e(),a("li",{staticClass:"nav-item dropdown-submenu",attrs:{"data-toggle":"dropdown",role:"button"}},[a("span",{staticClass:"nav-link multi-language"},[a("i",{staticClass:"fa fa-file"}),t._v(" "+t._s(t.navLanguage[t.language].reports)+" ")]),a("ul",{staticClass:"dropdown-menu bg-primary"},["A"==t.user_type||t.permissions.includes("staffReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/staff"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].staffs)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("engineerReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/engineer"}},[a("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].supervisors)+" ")])])],1):t._e(),a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/employee"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].employees)+" ")])])],1),"A"==t.user_type||t.permissions.includes("givedSalaryReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/givedSalary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].give_salary_report)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("topEmployeeReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/topEmployees"}},[a("i",{staticClass:"fas fa-chevron-up"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].top_employees)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("staffListReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/staffList"}},[a("i",{staticClass:"fas fa-list"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].staff_list_report)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("monthlySalaryReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/MonthlySalary"}},[a("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" "),a("span",[t._v(" "+t._s(t.navLanguage[t.language].salary_list)+" ")])])],1):t._e()])])]),t._m(1)])])},wa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",attrs:{href:"#"}},[s("div",{staticClass:"sidebar-brand-icon"},[s("img",{staticStyle:{width:"105%"},attrs:{src:a("cf05")}})]),s("div",{staticClass:"sidebar-brand-text mx-3"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"btn rounded-circle border-0",attrs:{id:"sidebarToggle",type:"button"}})])}],Sa={Kurdish:{home:"سەرەکی",users:"بەکارهێنەرەکان",supervisors:"سەرپەرشتیارەکان",employees:"کارمەندەکان",attendance:"غیابات",give_salary:"پێدانی مووچە",reports:"ڕاپۆرتەکان",staffs:"ستافەکان",give_salary_report:"مووچە وەرگیراوەکان",top_employees:"داتای کارمەندان",staff_list_report:"لیستی کارکردنی ستافەکان",salary_list:"لیستی مووچە"},English:{home:"Home",users:"Users",supervisors:"Supervisors",employees:"Employees",attendance:"Attendance",give_salary:"Give Salary",reports:"Reports",staffs:"Staffs",give_salary_report:"Gived salary",top_employees:"Top Employees",staff_list_report:"Staff List reports",salary_list:"Salary List"},Arabic:{home:"الصفحة الرئيسية",users:"بەکارهێنەرەکان",supervisors:"المشرفين",employees:"الموظفين",attendance:"غیابات",give_salary:"كشف رواتب",reports:"التقارير",staffs:"العاملين",give_salary_report:"تم استلام الرواتب",top_employees:"بيانات الموظف",staff_list_report:"قائمة العاملین",salary_list:"قائمة رواتب"}},ka={name:"navbar",data(){return{permissions:[],isActive:!0,navLanguage:Sa,language:"English",user_type:""}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user_type=t.type,"U"==t.type?this.permissions=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","debtTransaction"]:"E"==t.type&&(this.permissions=["index","attendance","staffReport","staffListReport"])})},mounted(){document.getElementById("sidebarToggleTop").classList.remove("d-md-none"),document.getElementById("sidebarToggleTop").style.display="inline-block !important",k()("#sidebarToggle, #sidebarToggleTop").on("click",(function(){k()("#nav").toggleClass("active")})),L.$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?k()(".multi-language").addClass("text-right"):k()(".multi-language").removeClass("text-right")})}},Aa=ka,La=(a("f971"),Object(d["a"])(Aa,Ca,wa,!1,null,"bae519ee",null)),Da=La.exports,$a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top"},[s("div",{staticClass:"container-fluid"},[t._m(0),s("ul",{staticClass:"nav navbar-nav flex-nowrap ml-auto"},[s("div",{staticClass:"d-none d-sm-block topbar-divider"}),s("li",{staticClass:"nav-item dropdown no-arrow"},[s("div",{staticClass:"nav-item dropdown no-arrow"},[s("a",{staticClass:"dropdown-toggle nav-link",attrs:{"data-toggle":"dropdown","aria-expanded":"false",href:"#"}},[s("span",{staticClass:"d-none d-lg-inline mx-2 text-gray-600 small"},[t._v(" "+t._s(t.username)+" ")]),s("img",{staticClass:"border rounded-circle img-profile",attrs:{src:a("18d5")}})]),s("div",{staticClass:"dropdown-menu shadow dropdown-menu-right animated--grow-in"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}}),t._m(1),s("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.logout()}}},[s("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-800"}),t._v(" Logout")])])])])])])])},Na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop",type:"button"}},[a("i",{staticClass:"fas fa-bars"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)",role:"button","data-toggle":"modal","data-target":"#mdl_change_pass"}},[a("i",{staticClass:"fa fa-key fa-sm fa-fw mr-2 text-gray-800"}),t._v(" Change Password")])}];function Ea(t,e,a){var s="";if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),s="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+s+"; path=/"}function Ia(t){for(var e=t+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){var i=a[s];while(" "==i.charAt(0))i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null}var Ba={name:"header-btn",data(){return{username:"",langauge:"English"}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.username=t.username}),["Kurdish","English","Arabic"].includes(Ia("ideal_power_lang"))?this.langauge=Ia("ideal_power_lang"):Ea("ideal_power_lang","English",30)},methods:{logout(){this.$http.post("/logout").then(()=>{window.location.href="/login"})}},watch:{langauge(t){Ea("ideal_power_lang",t,30),L.$emit("languageChanged",t)}}},Ta=Ba,ja=Object(d["a"])(Ta,$a,Na,!1,null,null,null),Ma=ja.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",attrs:{id:"mdl_change_pass"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control text-center mb-3",attrs:{type:"text",placeholder:"New Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.password.length<6},on:{click:function(e){return t.change_pass()}}},[a("i",{staticClass:"fa fa-save"}),t._v(" Save ")])])])])])},Oa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])}],za={name:"changePass",data(){return{password:"",user_id:null}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user_id=t.user_id})},methods:{change_pass(){this.password.length>=6&&null!=this.user_id?this.$http.patch("/user/updatePassword/"+this.user_id,{password:this.password}).then(()=>{this.$alert("Success","Success","success"),this.password=""}):this.$alert("Password must be more than 6 chatacter","Minimum 6 character","warning")}}},Fa=za,Qa=Object(d["a"])(Fa,Pa,Oa,!1,null,null,null),Ha=Qa.exports,Ra=a("f309");s["a"].use(Ra["a"]);var Ya=new Ra["a"]({});s["a"].config.productionTip=!1,l.a.defaults.withCredentials=!0,s["a"].prototype.$http=l.a,s["a"].use(i["a"]),s["a"].use(o["a"]),s["a"].component("navbar",Da),s["a"].component("header-btn",Ma),s["a"].component("change-pass",Ha),new s["a"]({router:xa,vuetify:Ya,render:t=>t(f)}).$mount("#app")},"57b2":function(t,e,a){},5929:function(t,e,a){},"5a54":function(t,e,a){},6894:function(t,e,a){},"6bc8":function(t,e,a){},"70f2":function(t,e,a){t.exports=a.p+"img/Ideal power logo.9f1406b9.png"},"7e2b3":function(t,e,a){"use strict";a("a6fb")},"813e":function(t,e,a){"use strict";a("2a6b")},8149:function(t,e,a){"use strict";a("5a54")},"820b":function(t,e,a){},8776:function(t,e,a){},"8bd5":function(t,e,a){"use strict";a("820b")},"91cd":function(t,e,a){"use strict";a("5929")},"9dff":function(t,e,a){"use strict";a("8776")},"9ffe":function(t,e,a){},a408:function(t,e,a){},a6fb:function(t,e,a){},b13c:function(t,e,a){},c1e4:function(t,e,a){"use strict";a("4f33")},c6da:function(t,e,a){"use strict";a("cabf")},cabf:function(t,e,a){},cbe5:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.cf01e118.png"},d0c0:function(t,e,a){},d9a5:function(t,e,a){t.exports=a.p+"img/footer.d2ad0bc0.png"},db2b:function(t,e,a){"use strict";a("57b2")},de56:function(t,e,a){"use strict";a("d0c0")},ef2e:function(t,e,a){},f23f:function(t,e,a){},f8a7:function(t,e,a){"use strict";a("09e4")},f971:function(t,e,a){"use strict";a("6894")},faaa:function(t,e,a){"use strict";a("4ac3")}});
//# sourceMappingURL=app.971eba77.js.map