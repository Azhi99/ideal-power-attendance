(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f65757"],{"68d0":function(t,e,a){},ac98:function(t,e,a){"use strict";a("68d0")},e83e:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"wrapper"}},[o("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),o("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important","background-color":"white"},attrs:{id:"content-wrapper"}},[o("div",{attrs:{id:"content"}},[o("header-btn",{staticClass:"no-print"}),o("div",{staticClass:"container-fluid text-dark"},[o("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[o("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.changeZeroLoading},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[o("option",{attrs:{value:"1"}},[t._v("1")]),o("option",{attrs:{value:"2"}},[t._v("2")]),o("option",{attrs:{value:"3"}},[t._v("3")]),o("option",{attrs:{value:"4"}},[t._v("4")]),o("option",{attrs:{value:"5"}},[t._v("5")]),o("option",{attrs:{value:"6"}},[t._v("6")]),o("option",{attrs:{value:"7"}},[t._v("7")]),o("option",{attrs:{value:"8"}},[t._v("8")]),o("option",{attrs:{value:"9"}},[t._v("9")]),o("option",{attrs:{value:"10"}},[t._v("10")]),o("option",{attrs:{value:"11"}},[t._v("11")]),o("option",{attrs:{value:"12"}},[t._v("12")])]),o("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020",disabled:t.changeZeroLoading},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),o("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",attrs:{disabled:t.changeZeroLoading},on:{click:function(e){return t.search()}}},[t._v(" Search "),o("i",{staticClass:"fa fa-search"})]),t.user.en_id&&"A"!=t.user.role&&"K"!=t.user.role?t._e():o("a",{staticClass:"btn btn-primary col-xl-2 col-md-4 mx-2 mb-2 text-white",attrs:{"data-toggle":"modal","data-target":"#mdlTotalSelection"}},[t._v(" Total ")]),o("hr"),t.user.en_id&&"A"!=t.user.role?t._e():o("a",{staticClass:"btn btn-warning col-xl-1 col-md-4 mx-2 mb-2 text-white",attrs:{href:"/zeroList/"}},[t._v(" Zeros ")]),o("hr")]),t.user.en_id||"A"!=t.user.role?t._e():o("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[o("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" 1$ = ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number"},domProps:{value:t.dollar_price},on:{input:function(e){e.target.composing||(t.dollar_price=e.target.value)}}}),t.user.en_id||"A"!=t.user.role?t._e():o("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdlAstopaki"}},[t._v(" Astopaki ")]),t.user.en_id||"A"!=t.user.role?t._e():o("button",{staticClass:"btn btn-primary col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.printEmployees()}}},[t._v(" Print Employees ")])]),t.user.en_id||"A"!=t.user.role?t._e():o("div",{staticClass:"row py-3 mb-1 no-print",attrs:{dir:"rtl"}},[o("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" بەڕێوبەر ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.manager},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.manager=e.target.value)}}}),o("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ب.دارایی ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.kargeri},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.kargeri=e.target.value)}}}),o("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" سەرپەرشتیاری ستاف ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.supervisor,expression:"supervisor"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.supervisor},on:{input:function(e){e.target.composing||(t.supervisor=e.target.value)}}}),o("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ژمێریار ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.accountant},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.accountant=e.target.value)}}})]),o("hr",{staticClass:"no-print"}),t._m(0),o("div",{staticClass:"collapse",attrs:{id:"staffs"}},[o("div",{staticClass:"row no-print"},[o("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",attrs:{disabled:t.changeZeroLoading},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[o("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return"E"==t.user.role||e.special_staff==t.showSpecialStaffs})),(function(e){return o("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),t.user.en_id||"A"!=t.user.role&&"K"!=t.user.role?t._e():o("span",{staticClass:"col-1"},[o("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(e){t.showSpecialStaffs=e},expression:"showSpecialStaffs"}})],1)]),t.user.en_id?t._e():o("hr"),t.user.en_id||"A"!=t.user.role?t._e():o("div",{staticClass:"row no-print"},[o("button",{staticClass:"col-3 btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdlEmployees"}},[t._v(" Employees ")])]),t._m(1),t.user.en_id||"A"!=t.user.role?t._e():o("div",{staticClass:"row no-print"},[t.getZerolLoading?[o("v-progress-circular",{staticClass:"mx-auto",attrs:{indeterminate:"",color:"primary"}})]:t._l(t.employees,(function(e){return o("div",{key:e.emp_id,staticClass:"col-3"},[o("v-checkbox",{attrs:{label:e.full_name,disabled:t.changeZeroLoading,value:e.emp_id},on:{click:function(a){return t.checkZeroOrNot(e.emp_id)}},model:{value:t.employees_to_zero,callback:function(e){t.employees_to_zero=e},expression:"employees_to_zero"}})],1)}))],2)]),o("v-dialog",{attrs:{"max-width":"700"},model:{value:t.dialogNoteZeroList,callback:function(e){t.dialogNoteZeroList=e},expression:"dialogNoteZeroList"}},[o("v-card",[o("v-card-title",{staticClass:"pb-0 pt-3"},[t._v(" Note ")]),o("v-divider",{staticClass:"mt-1"}),o("v-card-text",[o("v-textarea",{attrs:{rows:"4",outlined:"",dense:""},model:{value:t.note_zero_list,callback:function(e){t.note_zero_list=e},expression:"note_zero_list"}}),o("v-btn",{attrs:{color:"primary",block:"",loading:t.loadingSaveNote},on:{click:function(e){return t.saveNoteZeroList()}}},[t._v(" Save ")])],1)],1)],1),"A"==t.user.role||"E"==t.user.role||"K"==t.user.role&&!t.is_print?o("div",[o("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:a("70f2")}}),o("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[t._v(" Ideal Power Co. ")])]):t._e(),o("hr",{staticClass:"my-0"}),"A"==t.user.role||"E"==t.user.role||"K"==t.user.role&&!t.is_print?o("div",{staticClass:"mt-3",staticStyle:{color:"black"}},["true"==t.showSpecialStaffs?o("h4",[t._v(" Special Staffs ")]):t._e(),o("span",{staticClass:"float-start"},[o("div",[t._v(" Salary List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]),o("div",[t._v(" Date: "+t._s(t.moment().format("DD/MM/YYYY"))+" ")])]),o("span",{staticClass:"float-end"},[o("div",[t._v("Salary List For "+t._s(t.month)+"/"+t._s(t.year))])])]):t._e(),o("br"),"A"==t.user.role||"E"==t.user.role||"K"==t.user.role&&!t.is_print?o("div",{staticClass:"table-responsive mt-5",staticStyle:{"page-break-inside":"always"}},[o("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(2),o("tbody",[t._l(t.sortEmployees(t.filtered_data.filter((function(t){return"Monthly"==t.salary_type}))),(function(e){return o("tr",{key:e.emp_id,staticClass:"main-tr",style:"true"==e.office?"background-color: #f294b3 !important;":t.astopakies.includes(e.emp_id)?"background-color: #f0d27f !important;":t.employees_to_zero.includes(e.emp_id)?"background-color: #96e6f2 !important;":"background-color: white !important;"},[o("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.employee_full_name)+" ")]),o("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(t._f("country_filter")(e.country))+" "+t._s(e.country&&e.job?" - ":"")+" "+t._s(e.job)+" ")]),o("td",{class:{"text-danger":t.getSuitableSalary(e)<0},staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(t.getSuitableSalary(e).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.count_present)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number(e.count_present))+" ")]),o("td",{class:{"text-danger":e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.total_hour)+" ")]),o("td",{class:{"text-danger":t.getSuitableSalary(e)*Number(e.count_present)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((t.getSuitableSalary(e)*Number(e.count_present)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":e.monthly_salary/26/8*e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number((e.monthly_salary/26/8*e.total_hour).toFixed(2)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.food_money)+Number(e.total_food)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.food_money)+Number(e.total_food)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.transport_money)+Number(e.total_transport)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.transport_money)+Number(e.total_transport)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":e.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.cabina_money.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.expense_money)+Number(e.total_expense)+Number(e.expense_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.expense_money)+Number(e.total_expense)+Number(e.expense_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":e.fine_money-e.total_fine+Number(e.fine_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.fine_money-e.total_fine+Number(e.fine_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number(e.guarantee)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number(e.guarantee).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":e.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_expense.toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":Number((t.getSuitableSalary(e)*Number(e.count_present)+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus)*t.dollar_price)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(Number((t.getSuitableSalary(e)*Number(e.count_present)+Number(e.monthly_salary/26/8*e.total_hour)+Number(e.food_money)+Number(e.transport_money)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+Number(e.cabina_money)+Number(e.expense_money)+Number(e.expense_by_accomodation)+Number(e.fine_money)-Number(e.total_fine)+Number(e.fine_by_accomodation)+Number(e.loan_money)+Number(e.accomodation_money)+Number(e.guarantee)+Number(e.other_expense)+Number(e.other_minus))*t.dollar_price)).toLocaleString())+" ")]),o("td",{class:{"text-danger":t.getSuitableSalary(e)*Number(e.count_present)+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(Number((t.getSuitableSalary(e)*Number(e.count_present)+Number(e.monthly_salary/26/8*e.total_hour)+Number(e.food_money)+Number(e.transport_money)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+Number(e.cabina_money)+Number(e.expense_money)+Number(e.expense_by_accomodation)+Number(e.fine_money)-Number(e.total_fine)+Number(e.fine_by_accomodation)+Number(e.loan_money)+Number(e.accomodation_money)+Number(e.guarantee)+Number(e.other_expense)+Number(e.other_minus)).toFixed(2))).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")])])})),o("tr",[o("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dollar ")]),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticClass:"para",class:{"text-danger":t.getTotalDollar()<0},staticStyle:{"font-size":"13pt !important","font-weight":"600"}},[t._v(" "+t._s(Math.round(t.getTotalDollar()).toLocaleString())+" $ ")])]),t._l(t.sortEmployees(t.filtered_data.filter((function(t){return"Daily"==t.salary_type}))),(function(e){return o("tr",{key:e.emp_id,staticClass:"main-tr",style:"true"==e.office?"background-color: #f294b3 !important;":t.astopakies.includes(e.emp_id)?"background-color: #f0d27f !important;":t.employees_to_zero.includes(e.emp_id)?"background-color: #96e6f2 !important;":"background-color: white !important;"},[o("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.employee_full_name)+" ")]),o("td",{staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(t._f("country_filter")(e.country))+" "+t._s(e.country&&e.job?" - ":"")+" "+t._s(e.job)+" ")]),o("td",{class:{"text-danger":e.daily_salary<0},staticStyle:{"font-size":"9pt !important"}},[t._v(" "+t._s(e.daily_salary.toLocaleString()))]),o("td",{class:{"text-danger":Number(e.count_present)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number(e.count_present))+" ")]),o("td",{class:{"text-danger":e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.total_hour)+" ")]),o("td",{class:{"text-danger":e.daily_salary*Number(e.count_present)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.daily_salary*Number(e.count_present)).toLocaleString()))]),o("td",{class:{"text-danger":e.daily_salary/8*e.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.daily_salary/8*e.total_hour).toLocaleString()))]),o("td",{class:{"text-danger":Number(e.food_money)+Number(e.total_food)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.food_money)+Number(e.total_food)).toLocaleString()))]),o("td",{class:{"text-danger":Number(e.transport_money)+Number(e.total_transport)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.transport_money)+Number(e.total_transport)).toLocaleString()))]),o("td",{class:{"text-danger":e.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.cabina_money.toLocaleString()))]),o("td",{class:{"text-danger":Number(e.expense_money)+Number(e.total_expense)+Number(e.expense_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.expense_money)+Number(e.total_expense)+Number(e.expense_by_accomodation)).toLocaleString()))]),o("td",{class:{"text-danger":e.fine_money-e.total_fine+Number(e.fine_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((e.fine_money-e.total_fine+Number(e.fine_by_accomodation)).toLocaleString()))]),o("td",{class:{"text-danger":Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.loan_money)+Number(e.total_loan)+Number(e.loan_by_accomodation)).toLocaleString()))]),o("td",{class:{"text-danger":Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s((Number(e.accomodation_money)+Number(e.total_accomodation)+Number(e.accomodation_by_accomodation)).toLocaleString()))]),o("td",{class:{"text-danger":Number(e.guarantee)<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Number(e.guarantee).toLocaleString()))]),o("td",{class:{"text-danger":e.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(e.other_expense.toLocaleString()))]),o("td",{class:{"text-danger":e.daily_salary*Number(e.count_present)+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.fine_by_accomodation)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round(Math.round(e.daily_salary*Number(e.count_present))+Math.round(e.daily_salary/8*e.total_hour)+e.food_money-e.total_fine+e.transport_money+Number(e.fine_by_accomodation)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus).toLocaleString())+" "+t._s("Monthly"==e.salary_type?"$":"")+" ")]),o("td",{class:{"text-danger":(e.daily_salary*Number(e.count_present)+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.fine_by_accomodation)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus)/t.dollar_price<0},staticStyle:{"font-size":"11pt !important"}},[t._v(" "+t._s(Math.round((e.daily_salary*Number(e.count_present)+e.daily_salary/8*e.total_hour+e.food_money-e.total_fine+e.transport_money+Number(e.fine_by_accomodation)+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus)/t.dollar_price).toLocaleString())+" $ ")])])})),o("tr",[o("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dinar ")]),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticClass:"para",class:{"text-danger":t.getTotalDinar()<0},staticStyle:{"font-size":"13pt !important","font-weight":"600"}},[t._v(" "+t._s(Math.round(t.getTotalDinar()).toLocaleString())+" ")]),o("td",{staticStyle:{"font-size":"11pt !important"}})]),o("tr",[o("td",{staticClass:"para-total",staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Dinar and Dollar ")]),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticStyle:{"font-size":"11pt !important"}}),o("td",{staticClass:"para-total",class:{"text-danger":t.lastTotalDinar()<0},staticStyle:{"font-size":"12pt !important"}},[t._v(" "+t._s(Math.round(t.lastTotalDinar()).toLocaleString())+" ")]),o("td",{staticClass:"para-total",class:{"text-danger":t.lastTotalDollar()<0},staticStyle:{"font-size":"12pt !important"}},[t._v(" "+t._s(Math.round(t.lastTotalDollar()).toLocaleString())+" $ ")])])],2)]),o("span",{staticClass:"float-right"},[t._v(" 1 $ = "+t._s(Number(t.dollar_price||0).toLocaleString())+" IQD")])]):t._e(),"A"==t.user.role||"K"==t.user.role?o("export-excel",{attrs:{data:t.excel_data}},[o("v-btn",{staticClass:"mt-2 no-print",attrs:{color:"success",small:""}},[o("v-icon",{staticClass:"mr-3"},[t._v(" mdi-microsoft-excel ")]),t._v(" Download Excel ")],1)],1):t._e(),o("br"),o("br"),"A"==t.user.role||"E"==t.user.role||"K"==t.user.role&&!t.is_print?o("div",{staticClass:"d-flex px-5 mt-11",staticStyle:{"justify-content":"space-between",color:"black"}},[o("div",{staticClass:"justify-content-center text-center"},[o("span",[t._v(" بەڕێوبەر ")]),o("br"),o("span",[t._v(" "+t._s(t.manager)+" ")])]),o("div",{staticClass:"justify-content-center text-center"},[o("span",[t._v(" ب.دارایی ")]),o("br"),o("span",[t._v(" "+t._s(t.kargeri)+" ")])]),o("div",{staticClass:"justify-content-center text-center"},[o("span",[t._v(" سەرپەرشتیاری ستاف ")]),o("br"),o("span",[t._v(" "+t._s(t.staff_id?t.engineers.find((function(e){return e.en_id==t.staffs.find((function(e){return e.st_id===t.staff_id})).en_id})).first_name+" "+t.engineers.find((function(e){return e.en_id==t.staffs.find((function(e){return e.st_id===t.staff_id})).en_id})).last_name:"")+" ")])]),o("div",{staticClass:"justify-content-center text-center"},[o("span",[t._v(" ب.پڕۆژەکان ")]),o("br"),o("span",[t._v(" محمد عمر محمد ")]),o("br"),o("span",[t._v(" "+t._s(t.moment().format("DD/MM/YYYY"))+" ")]),o("br"),o("span",[t._v(" "+t._s(t.currentTime)+" ")])]),o("div",{staticClass:"justify-content-center text-center"},[o("div",[o("span",[t._v(" ژمێریار ")]),o("br"),o("span",[t._v(" "+t._s(t.accountant)+" ")]),o("br"),o("span",[t._v(" "+t._s(t.moment().format("DD/MM/YYYY"))+" ")]),o("br"),o("span",[t._v(" "+t._s(t.currentTime)+" ")])])])]):t._e(),o("div",{staticClass:"mt-7"},[o("hr"),t.work_projects.length>0?o("div",{staticStyle:{color:"black"}},[o("span",{staticClass:"float-start"},[t._v(" Projects: "+t._s(t.work_projects.map((function(t){return t.work_project_name})).join(", "))+" ")])]):t._e()])],1)],1)]),o("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlDaydAndOvertime"}},[o("div",{staticClass:"modal-dialog modal-lg",staticStyle:{"margin-inline-end":"5%"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"mt-2"},[t._v(" Added Days and Overtime ")]),o("button",{staticClass:"btn btn-primary",attrs:{disabled:t.loading_save_added_days},on:{click:function(e){return t.saveAllAddedDaysAndAddedOvertime()}}},[o("i",{staticClass:"fa fa-save"})])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-bordered table-striped text-center"},[t._m(3),o("tbody",t._l(t.filtered_data,(function(e){return o("tr",{key:e.emp_id},[o("td",[t._v(" "+t._s(e.employee_full_name)+" ")]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.added_days,expression:"item.added_days"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number"},domProps:{value:e.added_days},on:{input:function(a){a.target.composing||t.$set(e,"added_days",a.target.value)}}})]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.added_overtime,expression:"item.added_overtime"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number"},domProps:{value:e.added_overtime},on:{input:function(a){a.target.composing||t.$set(e,"added_overtime",a.target.value)}}})])])})),0)])])])])])]),o("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlAstopaki"}},[o("div",{staticClass:"modal-dialog modal-md"},[o("div",{staticClass:"modal-content"},[t._m(4),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-bordered table-striped text-center"},[t._m(5),o("tbody",t._l(t.filtered_data,(function(e){return o("tr",{key:e.emp_id},[o("td",[t._v(" "+t._s(e.employee_full_name)+" ")]),o("td",{staticClass:"text-center"},[o("v-checkbox",{staticClass:"mt-n1 centered-checkbox",attrs:{value:e.emp_id,"hide-details":!0},nativeOn:{"!click":function(a){return a.preventDefault(),a.stopPropagation(),t.checkAstopaki(e.emp_id)}},model:{value:t.astopakies,callback:function(e){t.astopakies=e},expression:"astopakies"}})],1)])})),0)])])])])])]),o("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlEmployees"}},[o("div",{staticClass:"modal-dialog modal-md"},[o("div",{staticClass:"modal-content"},[t._m(6),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-bordered table-striped text-center"},[t._m(7),o("tbody",t._l(t.employees,(function(e){return o("tr",{key:e.emp_id},[o("td",[t._v(" "+t._s(e.full_name)+" ")]),o("td",{staticClass:"text-center"},[o("v-checkbox",{staticClass:"mt-n1 centered-checkbox",attrs:{value:e.emp_id,"hide-details":!0},nativeOn:{"!click":function(a){return a.preventDefault(),a.stopPropagation(),t.checkEmployeesFilter(e.emp_id)}},model:{value:t.employeesFilter,callback:function(e){t.employeesFilter=e},expression:"employeesFilter"}})],1)])})),0)])])])])])]),o("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlTotalSelection"}},[o("div",{staticClass:"modal-dialog modal-md"},[o("div",{staticClass:"modal-content"},[t._m(8),o("div",{staticClass:"modal-body"},[o("a",{staticClass:"btn btn-primary btn-block text-white",attrs:{href:"/total_salary_list/"+t.month+"/"+t.year+"/"+t.dollar_price+"/normals"}},[t._v(" Total ")]),o("a",{staticClass:"btn btn-primary btn-block text-white",attrs:{href:"/total_salary_list/"+t.month+"/"+t.year+"/"+t.dollar_price+"/specials"}},[t._v(" Total Specials ")])])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" Staffs "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row no-print ps-3 mt-2"},[a("span",{staticStyle:{"background-color":"#f294b3",width:"20px","border-radius":"25px"}}),a("span",{staticClass:"ms-2"},[t._v("Office")]),a("span",{staticClass:"ms-6",staticStyle:{"background-color":"#f0d27f",width:"20px","border-radius":"25px"}}),a("span",{staticClass:"ms-2"},[t._v("Astopaki")]),a("span",{staticClass:"ms-6",staticStyle:{"background-color":"#96e6f2",width:"20px","border-radius":"25px"}}),a("span",{staticClass:"ms-2"},[t._v("Zero List")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Name ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Job ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Daily ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Days ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total Salary ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Overtime Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Food ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Transport ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Cabina ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Expense ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Fine ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Loan ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Accomodation ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Guarantee ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Salary per Month ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total (Dinar) ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Total (Dollar) ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Name ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" Added Days ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" Overtime Hours ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" Astopaki ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Name ")]),a("th",[t._v(" Astopaki ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" Employee ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Name ")]),a("th",[t._v(" Show ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" Totals ")])])}],n=(a("13d5"),a("c1df")),r=a.n(n),i=a("1ab6"),l={name:"Salary_List",data(){return{moment:r.a,month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,salary_list:[],staffs:[],dollar_price:0,user:{username:"",role:"",en_id:null},manager:"",kargeri:"",supervisor:"",accountant:"",employees:[],emp_id:null,employees_to_zero:[],currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),is_print:!1,getZerolLoading:!1,changeZeroLoading:!1,dialogNoteZeroList:!1,note_zero_list:null,loadingSaveNote:!1,selected_emp_id:null,showSpecialStaffs:"false",h_signature:a("2302"),astopakies:[],employeesFilter:[],loading_save_added_days:!1,engineers:[],work_projects:[],acs_number:{}}},beforeCreate(){Object(i["a"])("salaryList")},created(){this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant}),this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)}),this.$http.get("/index/getEnginners").then(({data:t})=>{this.engineers=t})})},mounted(){setInterval(()=>{this.currentTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},6e4),window.matchMedia("print").addListener(t=>{t.matches?this.is_print=!0:this.is_print=!1})},methods:{printEmployees(){const t={staffs:this.staffs,staff_id:this.staff_id,month:this.month,year:this.year,showSpecialStaffs:this.showSpecialStaffs,rows:this.filtered_data,employees_to_zero:this.employees_to_zero,astopakies:this.astopakies,manager:this.manager,kargeri:this.kargeri,accountant:this.accountant,supervisor:this.supervisor,dollar_price:this.dollar_price};localStorage.setItem("salary_list_to_print",JSON.stringify(t)),window.open("/print_salary_list","_blank")},search_staff(){this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(([t])=>{this.employees_btn.full_name=t.full_name})},search(){this.month&&this.year&&this.staff_id&&(this.getZerolLoading=!0,this.salary_list=[],this.employees_to_zero=[],this.$http.post("/employee/getSalaryListByMonthAndYear",{month:this.month,year:this.year,staff_id:this.staff_id}).then(({data:t})=>{this.astopakies=t.astopaki.map(t=>t.emp_id),this.salary_list=t.salary_list.filter((t,e,a)=>e===a.findIndex(e=>e.emp_id===t.emp_id)),this.employees_to_zero=t.zeros.map(t=>t.emp_id),this.work_projects=t.work_projects,this.acs_number=t.acs_number,this.getZerolLoading=!1,this.overWorkDayToOvertime()}))},getSuitableSalary(t){const e=this.getDaysAndFridays(this.month,this.year).days,a=this.getDaysAndFridays(this.month,this.year).fridays,o=e-a;return"Monthly"==t.salary_type?(t.daily_salary=Number(t.monthly_salary/o).toFixed(2),Number(Number(t.monthly_salary/o).toFixed(2))):t.daily_salary},getDaysAndFridays(t,e){const a=new Date(e,t,0).getDate();let o=0;for(let s=1;s<=a;s++){const a=new Date(e,t-1,s);5===a.getDay()&&o++}return{days:a,fridays:o}},fridays(t,e){var a,o,s;a=1,o=0,s=new Date(t,e,a);while(s.getMonth()===e)5===s.getDay()&&(o+=1),a+=1,s=new Date(t,e,a);return o},getTotalDinar(){return this.filtered_data.filter(t=>"Daily"==t.salary_type).reduce((t,e)=>t+(this.getSuitableSalary(e)*Number(e.count_present)-Number(e.total_fine)+Number(e.fine_by_accomodation)+this.getSuitableSalary(e)/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus),0)},getTotalDollar(){return this.filtered_data.filter(t=>"Monthly"==t.salary_type).reduce((t,e)=>t+(this.getSuitableSalary(e)*Number(e.count_present)-Number(e.total_fine)+Number(e.fine_by_accomodation)+e.monthly_salary/26/8*e.total_hour+e.food_money+e.transport_money+Number(e.total_expense)+Number(e.total_transport)+Number(e.total_food)+Number(e.total_loan)+Number(e.total_accomodation)+Number(e.loan_by_accomodation)+Number(e.accomodation_by_accomodation)+e.cabina_money+e.expense_money+e.expense_by_accomodation+e.fine_money+e.loan_money+e.accomodation_money+e.guarantee+e.other_expense+e.other_minus),0)},lastTotalDollar(){return this.getTotalDollar()+this.getTotalDinar()/(this.dollar_price||0)},lastTotalDinar(){return this.getTotalDinar()+this.getTotalDollar()*(this.dollar_price||0)},changeNames(){this.$http.post("/setNames",{manager:this.manager,kargeri:this.kargeri,accountant:this.accountant}).then(()=>{})},overWorkDayToOvertime(){for(let a=0;a<this.salary_list.length;a++){this.salary_list[a].count_present=Number(this.salary_list[a].count_present)+Number(this.salary_list[a].added_days),this.salary_list[a].total_hour=Number(this.salary_list[a].total_hour)+Number(this.salary_list[a].added_overtime);var t=Number(this.salary_list[a].count_present);const o=this.getDaysAndFridays(this.month,this.year).days,s=this.getDaysAndFridays(this.month,this.year).fridays,n=o-s;if(t>n){var e=t-n;this.salary_list[a].total_hour+=8*e,this.salary_list[a].count_present=n}}},changeAddedDays(t,e){this.$http.post("/gived_salary/changeAddedDays",{gs_id:t.gs_id,added_days:e}).then(()=>{let a=this.salary_list.findIndex(e=>e.gs_id==t.gs_id);this.salary_list[a].added_days=e})},changeAddedOvertime(t,e){this.$http.post("/gived_salary/changeAddedOvertime",{gs_id:t.gs_id,added_overtime:e}).then(()=>{let a=this.salary_list.findIndex(e=>e.gs_id==t.gs_id);this.salary_list[a].added_overtime=e})},sortEmployees(t){return t.sort((t,e)=>t.sort_code-e.sort_code)},checkZeroOrNot(t){const e=this.employees_to_zero.includes(t);e?(this.changeZeroLoading=!0,this.$http.post("/employee/addZeroList",{list:[{st_id:this.staff_id,month:this.month,year:this.year,emp_id:t}]}).then(()=>{this.employees_to_zero.push(t),this.changeZeroLoading=!1,this.note_zero_list=null,this.selected_emp_id=t,this.dialogNoteZeroList=!0})):(this.changeZeroLoading=!0,this.$http.delete("/employee/deleteZeroList/"+this.year+"/"+this.month+"/"+this.staff_id+"/"+t).then(()=>{this.changeZeroLoading=!1}))},saveNoteZeroList(){this.loadingSaveNote=!0,this.$http.post("/employee/saveNoteZeroList/"+this.month+"/"+this.year+"/"+this.staff_id+"/"+this.selected_emp_id,{note:this.note_zero_list}).then(()=>{this.$alert("Note Saved","Success","success"),this.dialogNoteZeroList=!1,this.selected_emp_id=null}).finally(()=>{this.loadingSaveNote=!1})},checkAstopaki(t){this.astopakies.includes(t)?this.$http.delete("/employee/deleteAstopaki/"+t+"/"+this.staff_id+"/"+this.month+"/"+this.year).then(()=>{this.astopakies=this.astopakies.filter(e=>e!=t)}):this.$http.post("/employee/addAstopaki",{emp_id:t,st_id:this.staff_id,month:this.month,year:this.year}).then(()=>{this.astopakies.push(t)})},checkEmployeesFilter(t){this.employeesFilter.includes(t)?this.employeesFilter=this.employeesFilter.filter(e=>e!=t):this.employeesFilter.push(t)},saveAllAddedDaysAndAddedOvertime(){this.loading_save_added_days=!0;const t=this.filtered_data;this.$http.post("/gived_salary/saveAddedDaysAndOvertime",{list:t}).then(()=>{this.search()}).finally(()=>{this.loading_save_added_days=!1})}},computed:{filtered_data(){let t=[];return t=this.employeesFilter.length>0?this.salary_list.filter(t=>this.employeesFilter.includes(t.emp_id)):this.salary_list,t.sort((t,e)=>t.sort_code-e.sort_code)},excel_data(){const t=[];return t.push(...this.salary_list.filter(t=>"Monthly"==t.salary_type).sort((t,e)=>t.sort_code-e.sort_code).map(t=>({Name:t.employee_full_name,Job:(t.country?this.$options.filters.country_filter(t.country):"")+(t.country&&t.job?" - ":"")+(t.job||""),Daily:("Monthly"==t.salary_type?"$":"")+this.getSuitableSalary(t),Days:Number(t.count_present),Hours:t.total_hour,"Total Salary":("Monthly"==t.salary_type?"$":"")+this.getSuitableSalary(t)*Number(t.count_present),"Overtime Hours":("Monthly"==t.salary_type?"$":"")+Number((t.monthly_salary/26/8*t.total_hour).toFixed(2)),Food:("Monthly"==t.salary_type?"$":"")+(Number(t.food_money)+Number(t.total_food)),Transport:("Monthly"==t.salary_type?"$":"")+(Number(t.transport_money)+Number(t.total_transport)),Cabina:("Monthly"==t.salary_type?"$":"")+t.cabina_money,Expense:("Monthly"==t.salary_type?"$":"")+(Number(t.expense_money)+Number(t.total_expense)+Number(t.expense_by_accomodation)),Fine:("Monthly"==t.salary_type?"$":"")+(t.fine_money-t.total_fine+Number(t.fine_by_accomodation)),Loan:("Monthly"==t.salary_type?"$":"")+(Number(t.loan_money)+Number(t.total_loan)+Number(t.loan_by_accomodation)),Accomodation:("Monthly"==t.salary_type?"$":"")+(Number(t.accomodation_money)+Number(t.total_accomodation)+Number(t.accomodation_by_accomodation)),Guarantee:("Monthly"==t.salary_type?"$":"")+Number(t.guarantee),"Salary per Month":("Monthly"==t.salary_type?"$":"")+t.other_expense,"Total (Dinar)":Math.round(Number((this.getSuitableSalary(t)*Number(t.count_present)+Number(t.monthly_salary/26/8*t.total_hour)+Number(t.food_money)+Number(t.transport_money)+Number(t.fine_by_accomodation)+Number(t.total_expense)+Number(t.total_transport)+Number(t.total_food)+Number(t.total_loan)+Number(t.total_accomodation)+Number(t.loan_by_accomodation)+Number(t.accomodation_by_accomodation)+Number(t.cabina_money)+Number(t.expense_money)+Number(t.expense_by_accomodation)+Number(t.fine_money)-Number(t.total_fine)+Number(t.loan_money)+Number(t.accomodation_money)+Number(t.guarantee)+Number(t.other_expense)+Number(t.other_minus))*this.dollar_price)).toLocaleString(),"Total (Dollar)":("Monthly"==t.salary_type?"$":"")+Number((this.getSuitableSalary(t)*Number(t.count_present)+Number(t.monthly_salary/26/8*t.total_hour)+Number(t.food_money)+Number(t.fine_by_accomodation)+Number(t.transport_money)+Number(t.total_expense)+Number(t.total_transport)+Number(t.total_food)+Number(t.total_loan)+Number(t.total_accomodation)+Number(t.loan_by_accomodation)+Number(t.accomodation_by_accomodation)+Number(t.cabina_money)+Number(t.expense_money)+Number(t.expense_by_accomodation)+Number(t.fine_money)-Number(t.total_fine)+Number(t.loan_money)+Number(t.accomodation_money)+Number(t.guarantee)+Number(t.other_expense)+Number(t.other_minus)).toFixed(2))}))),t.push({Name:"Total Dollar",Job:"",Daily:"",Days:"",Hours:"","Total Salary":"","Overtime Hours":"",Food:"",Transport:"",Cabina:"",Expense:"",Fine:"",Loan:"",Accomodation:"",Guarantee:"","Salary per Month":"","Total (Dinar)":"","Total (Dollar)":"$"+Math.round(this.getTotalDollar())}),t.push(...this.salary_list.filter(t=>"Daily"==t.salary_type).sort((t,e)=>t.sort_code-e.sort_code).map(t=>({Name:t.employee_full_name,Job:(t.country?this.$options.filters.country_filter(t.country):"")+(t.country&&t.job?" - ":"")+(t.job||""),Daily:Number(t.daily_salary).toLocaleString(),Days:Number(t.count_present),Hours:t.total_hour,"Total Salary":Number(t.daily_salary*Number(t.count_present)).toLocaleString(),"Overtime Hours":Number(t.daily_salary/8*t.total_hour).toLocaleString(),Food:(Number(t.food_money)+Number(t.total_food)).toLocaleString(),Transport:(Number(t.transport_money)+Number(t.total_transport)).toLocaleString(),Cabina:Number(t.cabina_money).toLocaleString(),Expense:(Number(t.expense_money)+Number(t.total_expense)+Number(t.expense_by_accomodation)).toLocaleString(),Fine:Number(t.fine_money-t.total_fine+Number(t.fine_by_accomodation)).toLocaleString(),Loan:Number(Number(t.loan_money)+Number(t.total_loan)+Number(t.loan_by_accomodation)).toLocaleString(),Accomodation:Number(Number(t.accomodation_money)+Number(t.total_accomodation)+Number(t.accomodation_by_accomodation)).toLocaleString(),Guarantee:Number(t.guarantee).toLocaleString(),"Salary per Month":Number(t.other_expense).toLocaleString(),"Total (Dinar)":Math.round(Math.round(t.daily_salary*Number(t.count_present))+Math.round(t.daily_salary/8*t.total_hour)+t.food_money-t.total_fine+t.transport_money+Number(t.fine_by_accomodation)+Number(t.total_expense)+Number(t.total_transport)+Number(t.total_food)+Number(t.total_loan)+Number(t.total_accomodation)+Number(t.loan_by_accomodation)+Number(t.accomodation_by_accomodation)+t.cabina_money+t.expense_money+t.expense_by_accomodation+t.fine_money+t.loan_money+t.accomodation_money+t.guarantee+t.other_expense+t.other_minus).toLocaleString(),"Total (Dollar)":"$"+Math.round((t.daily_salary*Number(t.count_present)+t.daily_salary/8*t.total_hour+t.food_money-t.total_fine+t.transport_money+Number(t.fine_by_accomodation)+Number(t.total_expense)+Number(t.total_transport)+Number(t.total_food)+Number(t.total_loan)+Number(t.total_accomodation)+Number(t.loan_by_accomodation)+Number(t.accomodation_by_accomodation)+t.cabina_money+t.expense_money+t.expense_by_accomodation+t.fine_money+t.loan_money+t.accomodation_money+t.guarantee+t.other_expense+t.other_minus)/this.dollar_price)}))),t.push({Name:"Total Dinar",Job:"",Daily:"",Days:"",Hours:"","Total Salary":"","Overtime Hours":"",Food:"",Transport:"",Cabina:"",Expense:"",Fine:"",Loan:"",Accomodation:"",Guarantee:"","Salary per Month":"","Total (Dinar)":Math.round(this.getTotalDinar()).toLocaleString(),"Total (Dollar)":""}),t.push({Name:"Total Dinar and Dollar",Daily:"",Job:"",Days:"",Hours:"","Total Salary":"","Overtime Hours":"",Food:"",Transport:"",Cabina:"",Expense:"",Fine:"",Loan:"",Accomodation:"",Guarantee:"","Salary per Month":"","Total (Dinar)":Math.round(this.lastTotalDinar()).toLocaleString(),"Total (Dollar)":"$"+Math.round(this.lastTotalDollar())}),t}},watch:{staff_id(t){this.search(),this.employees=[],this.emp_id=null,t?(this.supervisor=this.staffs.find(e=>e.st_id==t).staff_name,this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t})):this.employees=[]},month(){this.search()},year(){this.search()},employees_to_zero(){for(let t=0;t<this.salary_list.length;t++)this.employees_to_zero.includes(this.salary_list[t].emp_id)&&(this.salary_list[t].daily_salary=0,this.salary_list[t].monthly_salary=0,this.salary_list[t].total_o=0,this.salary_list[t].total_hour=0,this.salary_list[t].total_fine=0,this.salary_list[t].fine_by_accomodation=0,this.salary_list[t].count_present=0,this.salary_list[t].added_days=0,this.salary_list[t].added_overtime=0,this.salary_list[t].food_money=0,this.salary_list[t].total_food=0,this.salary_list[t].total_transport=0,this.salary_list[t].total_loan=0,this.salary_list[t].total_expense=0,this.salary_list[t].total_accomodation=0,this.salary_list[t].transport_money=0,this.salary_list[t].cabina_money=0,this.salary_list[t].expense_money=0,this.salary_list[t].expense_by_accomodation=0,this.salary_list[t].fine_money=0,this.salary_list[t].loan_money=0,this.salary_list[t].loan_by_accomodation=0,this.salary_list[t].accomodation_money=0,this.salary_list[t].guarantee=0,this.salary_list[t].accomodation_by_accomodation=0,this.salary_list[t].other_expense=0,this.salary_list[t].other_minus=0)}},filters:{country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]}}},m=l,_=(a("ac98"),a("2877")),c=a("6544"),d=a.n(c),p=a("8336"),y=a("b0af"),u=a("99d9"),b=a("ac7c"),h=a("169a"),f=a("ce7e"),v=a("132d"),N=a("490a"),g=a("a844"),S=Object(_["a"])(m,o,s,!1,null,"2281d01a",null);e["default"]=S.exports;d()(S,{VBtn:p["a"],VCard:y["a"],VCardText:u["a"],VCardTitle:u["b"],VCheckbox:b["a"],VDialog:h["a"],VDivider:f["a"],VIcon:v["a"],VProgressCircular:N["a"],VTextarea:g["a"]})}}]);
//# sourceMappingURL=chunk-34f65757.35268679.js.map