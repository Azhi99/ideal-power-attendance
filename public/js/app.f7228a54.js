(function(t){function e(e){for(var s,l,o=e[0],r=e[1],c=e[2],d=0,u=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&u.push(n[l][0]),n[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);_&&_(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(s=!1)}s&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},n={app:0},i=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var _=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"095a":function(t,e,a){"use strict";var s=a("c5aa"),n=a.n(s);n.a},"18d5":function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACFQTFRF5+fn2tra29rb6Ojo6+vr6enp6urq3Nvc/v7+////3dzdt9Y8UgAAC8FJREFUeNrt3b+OG8kRBvBK/QAKpPRgHcTsjEvIVMGBzGT7YJChE2E2thZYvkGHEv9c92bikhxwntKU4LVhwL6d6f6qWNVTHRxwiYD+8evqmtmZHupGO9rv/6Vu5MMBHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHOD3x4/HX/+Svo/Nr39tJyMDmLz/PvXwn/9uFpPRALTv/z335xHj9f83v4wC4Nv0/3v2zyPcgkAa4HC+TvR/z/+ag5B2h7oBjsv0/2b/nIKf1/UCXNMf0wsjCq8DSYBJ88LP/xyCu0mVAPcv//zPIditKwQ49/r5/xWC/bo2gOvy7z//q4BYIRACaJtB8/9eCGoCaJcxDRwxfawIYD54/t8EFtUA3GfM/yogshdIAJwHrn/RvUAA4D5z/leB3aQGgOz5XwUe7QO0y/z5XwU+mgeYx4L5C2wF3AD3RfP/thVMbAOkUAbAXgaYAZrS+V8F7gwDnGPx/Ln7IdK9APgXASvAHDH/q8DCKMDbCJl/jLs3JgEOS0wArhH4YBLgUwTNP8XNxCJAQgWAtQ7yAVxw878KGASIwPmn+GgOYB6QCeDrB7kAjtAAXCOwNwbQBCwAWzdEFioAZxVgArigA8C2EZCRALBFgAfgIeATkMLaDMBhmTjGBzMAP0SO+cfNGysATWBJQFgZATiyBICpGeIAuPAEgGcnZABomQJwjcBvJgBOiW3sTQA0gQ2A4YKAASDyJYChG8QDPPAFgKMbxAM0iXOs1AMcI+f88a0AmVoBDGsADrBMvONOO0DknT98HyBbKwC/BsjUHsCwD4AB2sg9f/T1ABjgxB4A9PUAGSsB8CJA1koAughgAY6Rf/7gZpCsrQD0GsACLJPEuFML0EaJ+WM3QijAWSQAaacWQKQEgIsAFGAukwDoI/RQgKkQwEwpgEwNBFdBJMBJKADQywGyVwOxVRAJ0EglAHk5AAQ4RKn5x886EyAWAOSNQSDAWQwA2QuSwRoIrYJAgLlcAoC9IBBgKggwUwjQRrn5A3tBHMBRMABxqxDgSRAgbRQCvAuCAGGiD+AimYCkMAGNKMBKH0CUnD+uGYYBtKIBSL+pAzjKAmzVATzJAmzUAVyCKEBQB/Agm4C01gYwFwZYaAOYCgPMtAFE2fnDGgEYgHAAkjaAgzTAZ0+ALoCjNMBWGcCTNMBGGYBwI4hrBWEA0glIygBeiwNMdAG8EwdY+xJQBTAXB1joAmjEAVYO4ACaAKbiADNdAFF6/qgbAigA8QAkB3AAB3AAB3AAB3AAB3AAvxbwq0EN9wOk/y7gN0QcwO8K+98F/C9DowaY+BLQBTD25wNG/4SI9DNCUdszQv6coDTAF0+AMoDRPyssfUNA3dPic+FGYKEN4MHmpYC/M+RvjaH+IdlWMOp7b3D0b46O/t1hoeM0wbdEoecHiG4DnT6A12M/QWL0Z4iI7oMaT5EZ/TlCoz9JSvR6cKERYPSnyZ3kAgA8VdXkiZJJ54mSgmeKftGZALmrgTudAKM/V1jsVFXk+fp+tjjw3xr96fJiveBCK8DovzBxMtcH+ldmwN8ZknledKUXYPRfmhr9t8ZELgc0f23OvzcocDmw6zQDjP6bo+xFIKK/vOzfHQYDjP7L0+zN4Eo7wOi/Ps/bDILbQA4A1n0gwlcAAwDrGoCvAAYAzn0AvgewADC+RhwWFgBOiU1g11kA4LseQF8HMAHwPTAXOhsAXK0AvglgAuiWPBEIKysAr1giEHcTKwBfpyxd4E+dFQCebhDfBfIBMHSDkaELZARg2AlDZwkAHwGmALABwC8IGC4DWAHOEVwBtp0tAPTTIlwB4AOAVgGuLYAVALoRhM4eQAe8LRAeLQJ8irirgLVFgK9TVATCT51FgO5tRAVgYhMA1Q2Fu84oAKYOMlZAdoD7CGgBOBcANwCiH2TrAUUAyhcB7wLgByi9KOJsAUQAuiYWFQD0I0HyAG3RXhi4588PUFQGuAuADMA5WyDs1zUAdPeZAmHHP38RgMytIErMXwag+0NWAmZdJQCHc8xaA7NJHQBtk1cDYtpXUQP+Mc1uhcLmF/sA51TQCgb2RpAboH1fdjUU08+mrwVyl79gIWAFaJeAu4LM7RCx/v6Qu6K8DTEp//3ZM0Daf3/uDJD63585A6T/9+fNABn4/VkzQBZ+f84M8ABcGB4VDYYekzuzPCrLc4OUA+A+BYYnRWNMH40AcL0xEpMJgHbJ9sYMx11CPMCc8a2xsNUPcM/65mj4qB3gmFjfHY7QY7QYAA5L5vMD4I9LgAEu7EdooPshLMAfBc4RCn/WC9AuBU6SAu+FUIBG5DC1oPY0ubdCR2qGv+sEOEyFDpSMm4lKgIvYwcpB5cnSZ8HvCwCvjGEAh6Xg6frAdggG8En0O0Phb+oAkuhXdnC3Bqx+d1jbFyePwl/cxD1DDQKYB+kEoN6kxAC8FQ8ArB+EAHydBnmAuHmjBuDVDQJwjcAHLQA3CQAqAgiATzcJAKgbQgCkcBsASDcEALjcaP6YbggAENPNRtAAcLsAQCJAlgOAiEAxwEO4JUD5AXtU3AOkm47iXqAU4FW8LUBxO0ilAQi3BShuB8l2AMojUAiwDLcGiLtbAhxvHoDiW0NlAPNwe4DCW0NkPQClESgCuAQNAGX9cAlAqyIAhWdtlgD8kHQkIP3pRgBN0JGAogOXCwDOSlZA2R+LyX4AyiJQAKAmAEW3BfIBHoIegILbAvkAy6Ro7OQBjlETQH43mA1wCZoA8rvBXIBWVQAKusFcgFPSlYDsLzCR+SagsBUg+01AWStA9puAslaAKmgCiloBqqAJKGoFqJIVkL0G8gCapHDs5QA0roDcNUC1rIDcNUCV7AHZ+wBVswIy1wBVswIy1wDVsgfk7gNUzwrIWwNUzwrIWwNUzR6QuQ8MB2ijXoCM+0LDAU5J8VgJADRB7/wz7gtRTSsgZw1QVSsgYw1QPZtg3kZI1bSBmc0gVVUCMooA1VUChhcBqmgTzNoIqa4VMHwNDAQ4J/XjjhXgIWif/9CNcCDAUn8CdpwA+kvA4CJAtZWAoUWAKisBg4sA1VYChhYBqq0EDC0CVF0JGFgEqLYSMLQIUHUlYGARoOpKwMAiQPWVgGFFgKorAQOLwBCAuZUEbJkAplYANjwAVmrgsCo4AOCUzIwVC4CVGjisCg4AaOwkYM8BYKcEDCoC/QGOydBYMAA8WQKYMQDYqYGDqmB/gKWlBOzwAJZq4JAqSFXWwAFVkKqsgQOqINVYA4dUQaqwDxzUC/YFOERbAGGCTkAyNtAJOFsDuAMD2KqBA6pgX4C5tQRswQBTawAbLEAbrQH0bYapykZ4QDNMVTbCA5phqnMT6L8NUKWbQO9tgCrdBHpvA1TpJtB7G6BaN4G+2wDVugn03Qb6AbwL9uYfvwABLhYT8AgEaCwC7IEA0SJAwAG0yeRYwwCONgEWMIAnmwAzGMDrYHH+8TMM4GIzAY8wgLlNgC0MYGoTYIMCOESbAL3+OtQrAcnoQCXgaBVgAQJ4sgowAwHYbAN6NgJUbxvQrxGgetuAfo0A1dsG9GsE+gBEqwABA3BIZscEkwC7AJgEHO0CLCAAT3YBZhCAS7A6/z4f3ugB8NpuAj5jEmAXAJOAuV2ALQRgahdgAwGIdgECAsBwI9inFaSaG8E+rSDV3Aj2aQVfBjhZBlgBAJ4sA8wAAHY74V698MsA7ywn4IsDAJaAZQDEEphbBtgCABrLRXAPAJhaTsAGABAtAwQAQDI9ygEOtgEmxQCtbYC1L4FSgKNtgEUxwMk2wMoBSgGebAPMigEs3w7oc0OAqr4Y7HE56ABV3w/pcUfEARzAa0DFd8R63BN7EaCxDbB3gBfGPwH8NUHnja3onQAAAABJRU5ErkJggg=="},2407:function(t,e,a){},2500:function(t,e,a){"use strict";var s=a("3ba3"),n=a.n(s);n.a},"277e":function(t,e,a){},"3ba3":function(t,e,a){},4919:function(t,e,a){"use strict";var s=a("819a"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=a("683f"),i=(a("77ed"),a("bc3a")),l=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],c=(a("034f"),a("2877")),_={},d=Object(c["a"])(_,o,r,!1,null,null,null),u=d.exports,m=a("9483");Object(m["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var f=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-xl-4 mb-4"},[a("div",{staticClass:"card shadow border-left-primary py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[t._m(1),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0"},[a("span",[t._v(" "+t._s(t.noOfEmployees)+" ")])])]),t._m(2)])])])]),a("div",{staticClass:"col-md-6 col-xl-4 mb-4"},[a("div",{staticClass:"card shadow border-left-success py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[t._m(3),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0"},[a("span",[t._v(" "+t._s(t.engineers.length)+" ")])])]),t._m(4)])])])]),a("div",{staticClass:"col-md-6 col-xl-4 mb-4"},[a("div",{staticClass:"card shadow border-left-info py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[t._m(5),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3"},[a("span",[t._v(" "+t._s(t.staffs.length)+" ")])])])])]),t._m(6)])])])])]),a("hr"),a("div",{staticClass:"row mb-2"},[t._m(7),t._m(8),t._m(9),t._m(10),["A","U"].includes(t.user.type)?a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staff_list"}},[t._v(" Add staff lists for rest days ")])]):t._e()]),a("div",{staticClass:"row"},[a("table",{staticClass:"table table-bordered table-striped text-dark text-center col-xl-8"},[t._m(11),a("tbody",t._l(t.daily_list,(function(e){return a("tr",{key:e.dsl_id},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.user)+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.note)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_list_detail"},on:{click:function(a){return t.get_list_details(e.dsl_id,e.st_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_jobs"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_job()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Jobs ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" ID: ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_job.job_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Job Title: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_job.job_title,expression:"single_job.job_title"}],staticClass:"col-sm-9 form-control",attrs:{type:"text",placeholder:"Enter job title"},domProps:{value:t.single_job.job_title},on:{input:function(e){e.target.composing||t.$set(t.single_job,"job_title",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=t.single_job.job_id,"col-sm-12":null==t.single_job.job_id}},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_job()}}},[t._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]),null!=t.single_job.job_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_job"},on:{click:function(e){return t.update_job()}}},[t._v(" Save Changes "),a("i",{staticClass:"fa fa-save"})])]):t._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.job_search,expression:"job_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.job_search},on:{input:function(e){e.target.composing||(t.job_search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(12),a("tbody",t._l(t.filtered_jobs,(function(e){return a("tr",{key:e.job_id},[a("td",[t._v(" "+t._s(e.job_id)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return t.get_job(e.job_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_job(e.job_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staffs"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_staff()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Staffs ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" ID: ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_staff.st_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Engineer: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.en_id,expression:"single_staff.en_id"}],staticClass:"col-sm-9 form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_staff,"en_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.engineers,(function(e){return a("option",{key:e.en_id,domProps:{value:e.en_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Staff name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.staff_name,expression:"single_staff.staff_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text",placeholder:"Enter name of the staff"},domProps:{value:t.single_staff.staff_name},on:{input:function(e){e.target.composing||t.$set(t.single_staff,"staff_name",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=t.single_staff.st_id,"col-sm-12":null==t.single_staff.st_id}},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_staff()}}},[t._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]),null!=t.single_staff.st_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_staff"},on:{click:function(e){return t.update_staff()}}},[t._v(" Save Changes "),a("i",{staticClass:"fa fa-save"})])]):t._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_search,expression:"staff_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.staff_search},on:{input:function(e){e.target.composing||(t.staff_search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(13),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.st_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return t.get_staff(e.st_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_staff(e.st_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_staff_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(14),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_log_search_value,expression:"staff_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.staff_log_search_value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_staff_log()},input:function(e){e.target.composing||(t.staff_log_search_value=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(e){return t.get_limited_data_staff_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[t._m(15),a("tbody",t._l(t.staff_change_log,(function(e){return a("tr",{key:e.sle_id},[a("td",[t._v(" "+t._s(e.sle_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.old_staff)+" ")]),a("td",[t._v(" "+t._s(e.new_staff)+" ")]),a("td",[t._v(" "+t._s(e.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.delete_staff_log(e.sle_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("hr"),a("div",{attrs:{id:"pagination_staff_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previous_pagination_staff_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfStaffLog/20),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns-staff-log",class:"pg-staff-log-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data_staff_log(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_staff_log()}}},[t._v(" > ")])],2)])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_active_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(16),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active_log_search_value,expression:"active_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.active_log_search_value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.active_log_search()},input:function(e){e.target.composing||(t.active_log_search_value=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(e){return t.get_limited_data_active_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[t._m(17),a("tbody",t._l(t.active_change_log,(function(e){return a("tr",{key:e.ale_id},[a("td",[t._v(" "+t._s(e.ale_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",{class:{"alert-success":"Set to Active"==e.change_type,"alert-danger":"Set to Deactive"==e.change_type}},[t._v(" "+t._s(e.change_type)+" ")]),a("td",[t._v(" "+t._s(e.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.delete_active_log(e.ale_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("div",{attrs:{id:"pagination_active_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previous_pagination_active_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfActiveLog/20),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns-active-log",class:"pg-active-log-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data_active_log(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_active_log()}}},[t._v(" > ")])],2)])])])]),["A","U"].includes(t.user.type)?a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff_list"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(18),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.list_rest_days.work_date,expression:"list_rest_days.work_date"}],staticClass:"form-control mb-2",attrs:{type:"date"},domProps:{value:t.list_rest_days.work_date},on:{input:function(e){e.target.composing||t.$set(t.list_rest_days,"work_date",e.target.value)}}}),a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_rest_day"},on:{click:function(e){return t.create_list_rest_day()}}},[t._v(" Create List for all staffs "),a("i",{staticClass:"fa fa-plus"})]),a("hr"),a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[t._v(" Waiting ... ")])])])])]):t._e(),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_list_detail"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(19),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-dark"},[t._m(20),a("tbody",t._l(t.filtered_list_detail,(function(e){return a("tr",{key:e.at_id,class:{"bg-warning text-white":e.st_id!=t.st_id}},[a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(t._f("absent_filter")(e.status))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")])])})),0)])])])])])],1)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[t._v("Home Page")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase text-primary font-weight-bold text-xs mb-1"},[a("span",{staticClass:"text-capitalize"},[t._v("Number of Employees")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-user-tie fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase text-success font-weight-bold text-xs mb-1"},[a("span",{staticClass:"text-capitalize"},[t._v("Number of Enginners")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-user-nurse fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1"},[a("span",{staticClass:"text-capitalize"},[t._v("Number of staffs")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-users fa-2x text-gray-600"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_jobs"}},[t._v(" Jobs ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staffs"}},[t._v(" Satffs ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_staff_history"}},[t._v(" Employee staff history ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_active_history"}},[t._v(" Employee Active history ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"9%"}},[t._v(" List ID ")]),a("th",[t._v(" Staff ")]),a("th",[t._v(" User ")]),a("th",[t._v(" Location ")]),a("th",[t._v(" Note ")]),a("th",[t._v("Detail")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"6%"}},[t._v(" ID ")]),a("th",[t._v(" Job title ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" Actions ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"6%"}},[t._v(" ID ")]),a("th",[t._v(" Staff name ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" Actions ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Employee staff changes history ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"8%"}},[t._v(" ID ")]),a("th",[t._v(" Employee ")]),a("th",[t._v(" Old Staff ")]),a("th",[t._v(" New Staff ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" Change Date ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" Delete ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Employee active changes history ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"10%"}},[t._v(" ID ")]),a("th",[t._v(" Employee ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" Change Type ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" Change Date ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" Delete ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" List Detail ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" Employee ")]),a("th",[t._v(" Status ")]),a("th",[t._v(" Location ")])])}],v=(a("4de4"),a("c740"),a("caad"),a("a9e3"),a("d3b7"),a("ac1f"),a("466d"),a("1276"),a("3835")),g=function(t){422==t.response.status?n["a"].alert(t.response.data.error[0].msg,"","error"):n["a"].alert(t.response.data.message,"","error")};l.a.defaults.withCredentials=!0;var y=function(t){var e=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport"],a=["index","attendance","staffReport"];l.a.post("/isLogged").then((function(){l.a.post("/getLoggedInfo").then((function(s){var i=s.data;"U"==i.type&&!e.includes(t)||"E"==i.type&&!a.includes(t)?n["a"].alert("You are not authorized to use this part","Sorry","warning").then((function(){window.location.href="/"})):(document.getElementById("content-wrapper").style.display="block",document.getElementById("nav").style.display="")}))})).catch((function(){window.location.href="/login"}))},b=["",null],C={name:"Index",data:function(){return{noOfEmployees:0,noOfStaffLog:0,noOfActiveLog:0,max_pagination_btns_staff_change:0,current_pagination_btns_staff_change:1,max_pagination_btns_active_change:0,current_pagination_btns_active_change:1,jobs:[],staffs:[],single_job:{job_id:null,job_title:""},job_search:"",engineers:[],single_staff:{st_id:null,en_id:null,staff_name:""},staff_search:"",staff_change_log:[],active_change_log:[],staff_log_search_value:"",active_log_search_value:"",daily_list:[],list_details:[],dsl_id:null,st_id:null,list_rest_days:{work_date:(new Date).toISOString().split("T")[0]},user:{type:"",username:""}}},beforeCreate:function(){y("index")},created:function(){var t=this;this.$http.post("/getLoggedInfo").then((function(e){var a=e.data;t.user.username=a.username,t.user.type=a.type})),this.$http.post("/index/").then((function(e){var a=e.data;t.noOfEmployees=a.noOfEmployees,t.noOfStaffLog=a.noOfStaffLog,t.noOfActiveLog=a.noOfActiveLog})),this.$http.post("/job/getData").then((function(e){var a=e.data;t.jobs=a})),this.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a})),this.$http.post("/engineer/getNames").then((function(e){var a=e.data;t.engineers=a})),this.$http.post("/daily_staff_list/getDailyList").then((function(e){var a=e.data;t.daily_list=a.lists,t.list_details=a.list_details})),this.get_limited_data_active_log(1),this.get_limited_data_staff_log(1)},mounted:function(){var t=this,e=setInterval((function(){var a=document.getElementsByClassName("pagination-btns-staff-log");if(a.length>0){for(var s=0;s<a.length;s++)a[s].style.display="inline";t.max_pagination_btns_staff_change=Number(a[a.length-1].classList[4].split("-")[4]),clearInterval(e)}}),750),a=setInterval((function(){var e=document.getElementsByClassName("pagination-btns-active-log");if(e.length>0){for(var s=0;s<e.length;s++)e[s].style.display="inline";t.max_pagination_btns_active_change=Number(e[e.length-1].classList[4].split("-")[4]),clearInterval(a)}}),750)},methods:{previous_pagination_staff_log:function(){if(this.max_pagination_btns_staff_change>1){for(var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change),e=0;e<t.length;e++)t[e].style.display="none";--this.current_pagination_btns_staff_change;for(var a=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change),s=0;s<a.length;s++)a[s].style.display="inline"}},next_pagination_staff_log:function(){if(this.max_pagination_btns_staff_change<this.current_pagination_btns_staff_change){for(var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change),e=0;e<t.length;e++)t[e].style.display="none";++this.current_pagination_btns_staff_change;for(var a=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change),s=0;s<a.length;s++)a[s].style.display="inline"}},previous_pagination_active_log:function(){if(this.max_pagination_btns_active_change>1){for(var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change),e=0;e<t.length;e++)t[e].style.display="none";--this.current_pagination_btns_active_change;for(var a=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change),s=0;s<a.length;s++)a[s].style.display="inline"}},next_pagination_active_log:function(){if(this.max_pagination_btns_active_change<this.current_pagination_btns_active_change){for(var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change),e=0;e<t.length;e++)t[e].style.display="none";++this.current_pagination_btns_active_change;for(var a=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change),s=0;s<a.length;s++)a[s].style.display="inline"}},get_limited_data_staff_log:function(t){var e=this,a=0;t>1&&(a=20*(t-1)),this.$http.post("/index/getStaffLogChange",{offset:a}).then((function(t){var a=t.data;e.staff_change_log=a}))},delete_staff_log:function(t){var e=this;this.$confirm("Are you sure delete this data ?","","question").then((function(){e.$http.delete("/index/deleteStaffLog/"+t).then((function(){e.staff_change_log=e.staff_change_log.filter((function(e){return e.sle_id!=t})),e.staff_log_search_value=""}))}))},get_limited_data_active_log:function(t){var e=this,a=0;t>1&&(a=20*(t-1)),this.$http.post("/index/getActiveLog",{offset:a}).then((function(t){var a=t.data;e.active_change_log=a}))},delete_active_log:function(t){var e=this;this.$confirm("Are you sure delete this data ?","","question").then((function(){e.$http.delete("/index/deleteActiveLog/"+t).then((function(){e.active_change_log=e.active_change_log.filter((function(e){return e.ale_id!=t})),e.active_log_search_value=""}))}))},get_job:function(t){var e=this.jobs.filter((function(e){return e.job_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_job.job_id=s.job_id,this.single_job.job_title=s.job_title},clear_job:function(){this.single_job.job_id=null,this.single_job.job_title=""},add_job:function(){var t=this;b.includes(this.single_job.job_title)?this.$alert("Enter a job title","Empty field","warning"):this.$http.post("/job/addJob",{job_title:this.single_job.job_title}).then((function(e){var a=e.data;t.jobs.push({job_id:a.job_id,job_title:t.single_job.job_title}),t.clear_job()})).catch((function(t){g(t)}))},delete_job:function(t){var e=this;this.$confirm("Are you sure delete this job ?","","question").then((function(){e.$http.delete("/job/deleteJob/"+t).then((function(){e.jobs=e.jobs.filter((function(e){return e.job_id!=t})),e.clear_job()})).catch((function(t){g(t)}))}))},update_job:function(){var t=this;null==this.single_job.job_id?this.$alert("Select a job","","warning"):b.includes(this.single_job.job_title)?this.$alert("Enter a job title","","warning"):this.$confirm("Are you sure to save changes ?","","question").then((function(){document.getElementById("btn_update_job").setAttribute("disabled","disabled"),t.$http.patch("/job/updateJob/"+t.single_job.job_id,{job_title:t.single_job.job_title}).then((function(){var e=t.jobs.findIndex((function(e){return e.job_id==t.single_job.job_id}));t.jobs[e].job_title=t.single_job.job_title,t.$alert("","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_job").removeAttribute("disabled")}))}))},get_staff:function(t){var e=this.staffs.filter((function(e){return e.st_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_staff.st_id=s.st_id,this.single_staff.en_id=s.en_id,this.single_staff.staff_name=s.staff_name},clear_staff:function(){this.single_staff.st_id=null,this.single_staff.en_id=null,this.single_staff.staff_name=""},add_staff:function(){var t=this;b.includes(this.single_staff.en_id)||b.includes(this.single_staff.staff_name)?this.$alert("Fill all required Fields","Empty Field","warning"):this.$http.post("/staff/addStaff",{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then((function(e){var a=e.data;t.staffs.push({st_id:a.st_id,en_id:t.single_staff.en_id,staff_name:t.single_staff.staff_name}),t.clear_staff()})).catch((function(t){g(t)}))},delete_staff:function(t){var e=this;this.$confirm("Are You sure delete this staff ?","","question").then((function(){e.$http.delete("/staff/deleteStaff/"+t).then((function(){e.staffs=e.staffs.filter((function(e){return e.st_id!=t})),e.clear_staff()})).catch((function(t){g(t)}))}))},update_staff:function(){var t=this;null==this.single_staff.st_id?this.$alert("Select a staff","","warning"):b.includes(this.single_staff.staff_name)||b.includes(this.single_staff.en_id)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_update_staff").setAttribute("disabled","disabled"),this.$http.patch("/staff/updateStaff/"+this.single_staff.st_id,{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then((function(){var e=t.staffs.findIndex((function(e){return e.st_id==t.single_staff.st_id}));t.staffs[e].staff_name=t.single_staff.staff_name,t.staffs[e].en_id=t.single_staff.en_id,t.$alert("","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_staff").removeAttribute("disabled")})))},create_list_rest_day:function(){var t=this;["A","U"].includes(this.user.type)&&(b.includes(this.list_rest_days.work_date)?this.$alert("Select a work date to create list","","warning"):this.$confirm("Are you sure create list for date "+this.list_rest_days.work_date+" ?","","question").then((function(){document.getElementById("waiting").style.display="block",document.getElementById("btn_rest_day").setAttribute("disabled","disabled"),t.$http.post("/daily_staff_list/createRestList",{work_date:t.list_rest_days.work_date,user:t.user.username}).then((function(){t.$alert("List successfully created","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("waiting").style.display="none",document.getElementById("btn_rest_day").removeAttribute("disabled")}))})))},search_staff_log:function(){var t=this;b.includes(this.staff_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchStaffLogChange",{search_value:this.staff_log_search_value}).then((function(e){var a=e.data;t.staff_change_log=a}))},active_log_search:function(){var t=this;b.includes(this.active_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchActiveLogChange",{search_value:this.active_log_search_value}).then((function(e){var a=e.data;t.active_change_log=a}))},get_list_details:function(t,e){this.dsl_id=t,this.st_id=e}},computed:{filtered_jobs:function(){var t=this;return this.jobs.filter((function(e){return e.job_id==t.job_search||e.job_title.match(t.job_search)}))},filtered_staffs:function(){var t=this;return this.staffs.filter((function(e){return e.st_id==t.staff_search||e.en_id==t.staff_search||e.staff_name.match(t.staff_search)}))},filtered_list_detail:function(){var t=this;return this.list_details.filter((function(e){return e.dsl_id==t.dsl_id}))}},filters:{absent_filter:function(t){return["Absent","Present","Off"][t]}}},w=C,x=Object(c["a"])(w,p,h,!1,null,null,null),A=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4"},[t._v("Supervisors")]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_engineer,expression:"search_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search_engineer},on:{input:function(e){e.target.composing||(t.search_engineer=e.target.value)}}}),a("button",{staticClass:"btn btn-danger float-right mb-2 mx-2",attrs:{"data-toggle":"modal","data-target":"#mdl_deactived_engineers"}},[t._v(" Deactived Supervisors ")])]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(0),a("tbody",t._l(t.filtered_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),a("td",{staticClass:"text-success"},[t._v(" "+t._s(t._f("status_filter")(e.active_status))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_engineer"},on:{click:function(a){return t.get_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-lock"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_engineer"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_engineer()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" Supervisor Information ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" First name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.first_name,expression:"single_engineer.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:t.single_engineer.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"first_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" Last name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.last_name,expression:"single_engineer.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:t.single_engineer.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" Job Title: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.job_id,expression:"single_engineer.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_engineer,"job_id",e.target.multiple?a:a[0])}}},t._l(t.jobs,(function(e){return a("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])})),0)]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" Phone 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone1,expression:"single_engineer.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first phone number"},domProps:{value:t.single_engineer.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone1",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" Phone 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone2,expression:"single_engineer.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter second phone number"},domProps:{value:t.single_engineer.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone2",e.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_engineer"},on:{click:function(e){return t.update_engineer()}}},[t._v(" Save Changes "),a("i",{staticClass:"fa fa-save"})])]),a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_engineer()}}},[t._v(" Delete "),a("i",{staticClass:"fa fa-trash"})])])])])])])])]),a("div",{staticClass:"modal",attrs:{id:"mdl_deactived_engineers"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content text-dark"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row overflow-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_deactive_engineer,expression:"search_deactive_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search_deactive_engineer},on:{input:function(e){e.target.composing||(t.search_deactive_engineer=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(2),a("tbody",t._l(t.filtered_deactived_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),a("td",{staticClass:"text-danger"},[t._v(" "+t._s(t._f("status_filter")(e.active_status))+" ")]),a("td",[a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_engineer(e.en_id)}}},[a("i",{staticClass:"fa fa-unlock"})])])])})),0)])])])])])])])],1)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" ID ")]),a("th",[t._v(" First name ")]),a("th",[t._v(" Last name ")]),a("th",[t._v(" Job Title ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" Phone 1 ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" Phone 2 ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" Registration Date ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" Status ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" Actions ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[t._v(" Deactived Supervisors List ")]),a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" ID ")]),a("th",[t._v(" First name ")]),a("th",[t._v(" Last name ")]),a("th",[t._v(" Job Title ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" Phone 1 ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" Phone 2 ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" Registration Date ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" Status ")]),a("th",{staticStyle:{width:"5%"}},[t._v(" Actions ")])])}],E=["",null],$={name:"Engineers",data:function(){return{jobs:[],engineers:[],single_engineer:{en_id:null,first_name:"",last_name:"",job_id:null,phone1:"",phone2:""},deactived_engineers:[],search_engineer:"",search_deactive_engineer:""}},beforeCreate:function(){y("engineers")},created:function(){var t=this;this.$http.post("/job/getData").then((function(e){var a=e.data;t.jobs=a})),this.$http.post("/engineer/getData").then((function(e){var a=e.data;t.engineers=a})),this.$http.post("/engineer/getDeactived").then((function(e){var a=e.data;t.deactived_engineers=a}))},methods:{get_engineer:function(t){var e=this.engineers.filter((function(e){return e.en_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_engineer.en_id=s.en_id,this.single_engineer.first_name=s.first_name,this.single_engineer.last_name=s.last_name,this.single_engineer.job_id=this.jobs.filter((function(t){return t.job_title==s.job_title}))[0].job_id,this.single_engineer.phone1=s.phone1,this.single_engineer.phone2=s.phone2},clear_engineer:function(){this.single_engineer.en_id=null,this.single_engineer.first_name="",this.single_engineer.last_name="",this.single_engineer.job_id=null,this.single_engineer.phone1="",this.single_engineer.phone2=""},deactive_engineer:function(t){var e=this;this.$confirm("Are you sure deactive this engineer ?","","question").then((function(){e.$http.patch("/engineer/deactiveEngineer/"+t).then((function(){e.$alert("Engineer Deactived","Success","success");var a=e.engineers.filter((function(e){return e.en_id==t})),s=Object(v["a"])(a,1),n=s[0];n.active_status="0",e.deactived_engineers.push(n),e.engineers=e.engineers.filter((function(e){return e.en_id!=t}))})).catch((function(t){g(t)}))}))},active_engineer:function(t){var e=this;this.$confirm("Are you sure active this engineer ?","","question").then((function(){e.$http.patch("/engineer/activeEngineer/"+t).then((function(){e.$alert("Engineer Actived","Success","success");var a=e.deactived_engineers.filter((function(e){return e.en_id==t})),s=Object(v["a"])(a,1),n=s[0];n.active_status="1",e.engineers.push(n),e.deactived_engineers=e.deactived_engineers.filter((function(e){return e.en_id!=t}))})).catch((function(t){g(t)}))}))},delete_engineer:function(){var t=this;null!=this.single_engineer.en_id?this.$confirm("Are you sure delete this engineer ?","","question").then((function(){t.$http.delete("/engineer/deleteEngineer/"+t.single_engineer.en_id).then((function(){t.$alert("Engineer deleted","Success","success"),t.engineers=t.engineers.filter((function(e){return e.en_id!=t.single_engineer.en_id})),t.clear_engineer()})).catch((function(t){g(t)}))})):this.$alert("Select an Engineer","","warning")},update_engineer:function(){var t=this;null==this.single_engineer.en_id?this.$alert("Select an engineer","","warning"):E.includes(this.single_engineer.first_name)||E.includes(this.single_engineer.last_name)||E.includes(this.single_engineer.job_id)||E.includes(this.single_engineer.phone1)?this.$alert("Fill all required fields","Empty Field","warning"):this.$confirm("Are you sure save changes ?","","question").then((function(){document.getElementById("btn_update_engineer").setAttribute("disabled","disabled"),t.$http.patch("/engineer/updateEngineer/"+t.single_engineer.en_id,{first_name:t.single_engineer.first_name,last_name:t.single_engineer.last_name,job_id:t.single_engineer.job_id,phone1:t.single_engineer.phone1,phone2:t.single_engineer.phone2}).then((function(){var e=t.engineers.findIndex((function(e){return e.en_id==t.single_engineer.en_id}));t.engineers[e].first_name=t.single_engineer.first_name,t.engineers[e].last_name=t.single_engineer.last_name,t.engineers[e].job_id=t.single_engineer.job_id,t.engineers[e].phone1=t.single_engineer.phone1,t.engineers[e].phone2=t.single_engineer.phone2,t.$alert("Successfully change saved","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_engineer").removeAttribute("disabled")}))}))}},computed:{filtered_engineers:function(){var t=this;return this.engineers.filter((function(e){return e.en_id==t.search_engineer||e.first_name.match(t.search_engineer)||e.last_name.match(t.search_engineer)||e.reg_date.match(t.search_engineer)||e.phone1.match(t.search_engineer)||e.phone2.match(t.search_engineer)}))},filtered_deactived_engineers:function(){var t=this;return this.deactived_engineers.filter((function(e){return e.en_id==t.search_deactive_engineer||e.first_name.match(t.search_deactive_engineer)||e.last_name.match(t.search_deactive_engineer)||e.reg_date.match(t.search_deactive_engineer)||e.phone1.match(t.search_deactive_engineer)||e.phone2.match(t.search_deactive_engineer)}))}},filters:{status_filter:function(t){return["Deactive","Active"][t]}}},B=$,I=Object(c["a"])(B,k,S,!1,null,null,null),j=I.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4"},[t._v("Employees")]),a("hr"),a("div",{staticClass:"row"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_employee()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-1 mb-2",on:{click:function(e){return t.search_employee()}}},[a("i",{staticClass:"fa fa-search"})]),a("button",{staticClass:"btn btn-primary mx-1 mb-2",on:{click:function(e){return t.refresh()}}},[a("i",{staticClass:"fa fa-redo"})])]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),a("tbody",t._l(t.employees,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(t._s(e.emp_id))]),a("td",[t._v(t._s(e.first_name))]),a("td",[t._v(t._s(e.last_name))]),a("td",[t._v(t._s(e.staff_name))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.reg_date.slice(0,10)))]),a("td",[t._v(t._s(e.salary_type))]),a("td",[a("span",{class:{"text-danger":0==e.active_status,"text-success":1==e.active_status}},[t._v(t._s(t._f("employees_status_filter")(e.active_status)))])]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return t.get_single_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-edit"})]),1==e.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-lock"})]):0==e.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):t._e()])])})),0)]),a("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previos_pagination_btn()}}},[t._v("<")]),t._l(Math.ceil(t.noOfEmployees/15),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_btn()}}},[t._v(">")])],2)])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_employee()}}},[t._v("×")]),a("h5",{staticClass:"mt-2"},[t._v("Employee Information")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[null!=t.single_employee.personal_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:t.single_employee.personal_image_path,alt:"No Image"}}):t._e(),null!=t.single_employee.identification_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:t.single_employee.identification_image_path,alt:"No Image"}}):t._e()]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("First name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.first_name,expression:"single_employee.first_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:t.single_employee.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"first_name",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Last name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.last_name,expression:"single_employee.last_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:t.single_employee.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Staff:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.st_id,expression:"single_employee.st_id"}],staticClass:"form-control col-xl-4 mx-3",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee,"st_id",e.target.multiple?a:a[0])}}},t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(t._s(e.staff_name))])})),0),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Phone:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.phone,expression:"single_employee.phone"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",placeholder:"Enter phone number",maxlength:"11"},domProps:{value:t.single_employee.phone},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"phone",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Birth date:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.birth_date,expression:"single_employee.birth_date"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:t.single_employee.birth_date},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"birth_date",e.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Salary Type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.salary_type,expression:"single_employee.salary_type"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee,"salary_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Monthly"}},[t._v("Monthly")]),a("option",{attrs:{value:"Daily"}},[t._v("Daily")])])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("ID Image:")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(e){return t.process_file(e)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v("Personal Image:")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(e){return t.process_file_personal(e)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v("Monthly Salary:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.monthly_salary,expression:"single_employee.monthly_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Daily"==t.single_employee.salary_type},domProps:{value:t.single_employee.monthly_salary},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"monthly_salary",e.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v("Daily Salary:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.daily_salary,expression:"single_employee.daily_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Monthly"==t.single_employee.salary_type},domProps:{value:t.single_employee.daily_salary},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"daily_salary",e.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[t._v("Hour Salary:")]),a("label",{staticClass:"form-control col-xl-2 text-center",staticStyle:{"background-color":"rgba(128, 128, 128, 0.171)"}},[t._v(" "+t._s(t.single_employee.hour_salary)+" ")])]),a("hr"),a("div",{staticClass:"row mb-3"},[null==t.single_employee.emp_id?a("div",{staticClass:"col-xl-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_employee()}}},[t._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_employee"},on:{click:function(e){return t.update_employee()}}},[t._v(" Save Changes "),a("i",{staticClass:"fa fa-save"})])]):t._e(),null!=this.single_employee.identification_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_identification_image()}}},[t._v(" Delete ID Image "),a("i",{staticClass:"fa fa-image"})])]):t._e(),null!=this.single_employee.personal_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_personal_image()}}},[t._v(" Delete Personal Image "),a("i",{staticClass:"fa fa-image"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_id_image"},on:{click:function(e){return t.update_identification_image()}}},[t._v(" Re-new ID Image "),a("i",{staticClass:"fa fa-refresh"})])]):t._e(),null!=t.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_personal_image"},on:{click:function(e){return t.update_personal_image()}}},[t._v(" Re-new Personal Image "),a("i",{staticClass:"fa fa-refresh"})])]):t._e()])])])])])])],1)},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"}},[t._v(" Add Employee "),a("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("ID")]),a("th",[t._v("First name")]),a("th",[t._v("Last name")]),a("th",[t._v("Staff")]),a("th",{staticStyle:{width:"10%"}},[t._v("Phone")]),a("th",{staticStyle:{width:"14%"}},[t._v("Registration Date")]),a("th",{staticStyle:{width:"11%"}},[t._v("Salary Type")]),a("th",{staticStyle:{width:"8%"}},[t._v("Status")]),a("th",{staticStyle:{width:"12%"}},[t._v("Actions")])])}],M=(a("baa5"),a("fb6a"),a("b680"),a("25f0"),a("841c"),[null,""]),P={name:"Employees",data:function(){return{noOfEmployees:0,employees:[],single_employee:{emp_id:null,first_name:null,last_name:null,st_id:null,phone:null,birth_date:null,reg_date:null,salary_type:null,monthly_salary:null,daily_salary:null,hour_salary:null,identification_image_path:null,identification_image_file:null,personal_image_path:null,personal_image_file:null,staff_name:null},staffs:[],search:"",current_pagination:1,max_pagination:0}},beforeCreate:function(){y("employees")},created:function(){var t=this;this.$http.post("/employee/getNoOfEmployees").then((function(e){var a=e.data;t.noOfEmployees=a.noOfEmployees})).catch((function(t){g(t)})),this.get_limited_data(1),this.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a,t.employees.staff_name=a.staff_name})).catch((function(t){g(t)}))},mounted:function(){var t=this,e=setInterval((function(){var a=document.getElementsByClassName("pagination-btns");if(a.length>0){for(var s=0;s<a.length;s++)a[s].style.display="inline";t.max_pagination=Number(a[a.length-1].classList[4].split("-")[2]),clearInterval(e)}}),750)},methods:{next_pagination_btn:function(){if(this.current_pagination<this.max_pagination){for(var t=document.getElementsByClassName("pg-group-"+this.current_pagination),e=0;e<t;e++)t[e].style.display="none";++this.current_pagination;for(var a=document.getElementsByClassName("pg-group-"+this.current_pagination),s=0;s<a;s++)a[s].style.display="inline"}},previos_pagination_btn:function(){if(this.current_pagination>1){for(var t=document.getElementsByClassName("pg-group-"+this.current_pagination),e=0;e<t;e++)t[e].style.display="none";--this.current_pagination;for(var a=document.getElementsByClassName("pg-group-"+this.current_pagination),s=0;s<a;s++)a[s].style.display="inline"}},get_limited_data:function(t){var e=this,a=0;t>1&&(a=15*(t-1)),this.$http.post("/employee/getData",{offset:a}).then((function(t){var a=t.data;e.employees=a})).catch((function(t){g(t)}))},process_file:function(t){this.single_employee.identification_image_file=t.target.files[0]},process_file_personal:function(t){this.single_employee.personal_image_file=t.target.files[0]},clear_employee:function(){this.single_employee.emp_id=null,this.single_employee.first_name=null,this.single_employee.last_name=null,this.single_employee.st_id=null,this.single_employee.phone=null,this.single_employee.birth_date=null,this.single_employee.reg_date=null,this.single_employee.salary_type=null,this.single_employee.monthly_salary=null,this.single_employee.daily_salary=null,this.single_employee.hour_salary=null,this.single_employee.identification_image_path=null,this.single_employee.identification_image_file=null,this.single_employee.personal_image_path=null,this.single_employee.personal_image_file=null,this.single_employee.staff_name=null},get_single_employee:function(t){var e=this.employees.filter((function(e){return e.emp_id===t})),a=Object(v["a"])(e,1),s=a[0];this.single_employee.emp_id=s.emp_id,this.single_employee.first_name=s.first_name,this.single_employee.last_name=s.last_name,this.single_employee.st_id=s.st_id,this.single_employee.phone=s.phone,this.single_employee.birth_date=s.birth_date.slice(0,10),this.single_employee.reg_date=s.reg_date,this.single_employee.salary_type=s.salary_type,this.single_employee.monthly_salary=s.monthly_salary,this.single_employee.daily_salary=s.daily_salary,this.single_employee.hour_salary=s.hour_salary,this.single_employee.identification_image_path=s.identification_image_path,this.single_employee.personal_image_path=s.personal_image_path,this.single_employee.staff_name=s.staff_name},add_employee:function(){var t=this;if(!M.includes(this.single_employee.first_name)&&!M.includes(this.single_employee.st_id)&&!M.includes(this.single_employee.birth_date)&&!M.includes(this.single_employee.last_name)&&!M.includes(this.single_employee.phone)&&!M.includes(this.single_employee.salary_type)&&this.single_employee.monthly_salary>0&&this.single_employee.daily_salary>0){var e=new FormData;e.append("first_name",this.single_employee.first_name),e.append("last_name",this.single_employee.last_name),e.append("st_id",this.single_employee.st_id),e.append("phone",this.single_employee.phone),e.append("birth_date",this.single_employee.birth_date),e.append("reg_date",this.single_employee.reg_date),e.append("salary_type",this.single_employee.salary_type),e.append("monthly_salary",this.single_employee.monthly_salary),e.append("daily_salary",this.single_employee.daily_salary),e.append("hour_salary",this.single_employee.hour_salary),e.append("identification_image",this.single_employee.identification_image_file),e.append("personal_image",this.single_employee.personal_image_file),this.$http.post("/employee/addEmployee",e).then((function(e){var a=e.data;t.$alert("Successfully","Success","success"),t.employees.unshift({emp_id:a.emp_id,first_name:t.single_employee.first_name,last_name:t.single_employee.last_name,st_id:t.single_employee.st_id,phone:t.single_employee.phone,birth_date:t.single_employee.birth_date,reg_date:t.single_employee.reg_date,salary_type:t.single_employee.salary_type,monthly_salary:t.single_employee.monthly_salary,daily_salary:t.single_employee.daily_salary,hour_salary:t.single_employee.hour_salary,identification_image_path:a.identification_image_path,personal_image_path:a.personal_image_path,active_status:"1"}),t.clear_employee()})).catch((function(t){g(t)}))}else this.$alert("Please fill the cells with correct data !","Empty Field","warning")},update_employee:function(){var t=this;M.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for update !","","warning"):!M.includes(this.single_employee.first_name)&&!M.includes(this.single_employee.st_id)&&!M.includes(this.single_employee.birth_date)&&!M.includes(this.single_employee.last_name)&&!M.includes(this.single_employee.phone)&&!M.includes(this.single_employee.salary_type)&&this.single_employee.monthly_salary>0&&this.single_employee.daily_salary>0?(document.getElementById("btn_update_employee").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateEmployee/"+this.single_employee.emp_id,{first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,st_id:this.single_employee.st_id,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:this.single_employee.reg_date,salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary}).then((function(){var e=t.employees.findIndex((function(e){return e.emp_id===t.single_employee.emp_id}));t.employees[e].first_name=t.single_employee.first_name,t.employees[e].last_name=t.single_employee.last_name,t.employees[e].staff_name=t.single_employee.staff_name,t.employees[e].phone=t.single_employee.phone,t.employees[e].reg_date=t.single_employee.reg_date,t.employees[e].salary_type=t.single_employee.salary_type,t.employees[e].monthly_salary=t.single_employee.monthly_salary,t.employees[e].daily_salary=t.single_employee.daily_salary,t.$alert("Successfully changed","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_employee").removeAttribute("disabled")}))):this.$alert("Please fill the cells with correct data !","Empty Field","warning")},update_identification_image:function(){var t=this;if(M.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(M.includes(this.single_employee.identification_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("identification_image",this.single_employee.identification_image_file),document.getElementById("btn_update_id_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateIdentificationImage/"+this.single_employee.emp_id,e).then((function(e){var a=e.data,s=t.employees.findIndex((function(e){return e.emp_id===t.single_employee.emp_id}));t.employees[s].identification_image_path=a.identification_image_path,t.single_employee.identification_image_path=a.identification_image_path,t.$alert("Successfully changed","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_id_image").removeAttribute("disabled")}))}},update_personal_image:function(){var t=this;if(M.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(M.includes(this.single_employee.personal_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("personal_image",this.single_employee.personal_image_file),document.getElementById("btn_update_personal_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updatePersonalImage/"+this.single_employee.emp_id,e).then((function(e){var a=e.data,s=t.employees.findIndex((function(e){return e.emp_id===t.single_employee.emp_id}));t.employees[s].personal_image_path=a.personal_image_path,t.single_employee.personal_image_path=a.personal_image_path,t.$alert("Successfully changed","Success","success")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_personal_image").removeAttribute("disabled")}))}},delete_identification_image:function(){var t=this;M.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deleteIdentificationImage/"+this.single_employee.emp_id).then((function(){var e=t.employees.findIndex((function(e){return e.emp_id===t.single_employee.emp_id}));t.employees[e].identification_image_path=null,t.single_employee.identification_image_path=null,t.$alert("Successfully deleted","Success","success")})).catch((function(t){g(t)}))},delete_personal_image:function(){var t=this;M.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deletePersonalImage/"+this.single_employee.emp_id).then((function(){var e=t.employees.findIndex((function(e){return e.emp_id===t.single_employee.emp_id}));t.employees[e].personal_image_path=null,t.single_employee.personal_image_path=null,t.$alert("Successfully deleted","Success","success")})).catch((function(t){g(t)}))},active_employee:function(t){var e=this;this.$confirm("Are you sure to active this employee?","Warning","question").then((function(){e.$http.patch("/employee/activeEmployee/"+t).then((function(){var a=e.employees.findIndex((function(e){return e.emp_id===t}));e.employees[a].active_status="1",e.$alert("Employee Actived","Active","success")})).catch((function(t){g(t)}))}))},deactive_employee:function(t){var e=this;this.$confirm("are you sure to deactive this employee?","Warning","question").then((function(){e.$http.patch("/employee/deactiveEmployee/"+t).then((function(){var a=e.employees.findIndex((function(e){return e.emp_id===t}));e.employees[a].active_status="0",e.$alert("Employee Deactived","Deactive","success")})).catch((function(t){g(t)}))}))},organize_point:function(t){var e=t.toString(),a=e.substr(e.lastIndexOf(".")+1,1);return Number("0"==a?e.substring(0,e.lastIndexOf(".")):e)},search_employee:function(){var t=this;""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then((function(e){var a=e.data;t.employees=a,document.getElementById("paginations").style.display="none"}))},refresh:function(){this.get_limited_data(1),this.search="",document.getElementById("paginations").style.display="block"}},filters:{employees_status_filter:function(t){return["Deactive","Active"][t]}},watch:{"single_employee.monthly_salary":function(t){"Monthly"==this.single_employee.salary_type&&(this.single_employee.daily_salary=this.organize_point((Number(t)/30).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.daily_salary":function(t){"Daily"==this.single_employee.salary_type&&(this.single_employee.monthly_salary=this.organize_point((26*Number(t)).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))}}},O=P,L=Object(c["a"])(O,D,N,!1,null,null,null),Q=L.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4"},[t._v("Users")]),a("hr"),a("div",{staticClass:"row"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_search,expression:"user_search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.user_search},on:{input:function(e){e.target.composing||(t.user_search=e.target.value)}}})]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),a("tbody",t._l(t.filtered_users,(function(e){return a("tr",{key:e.user_id},[a("td",[t._v(" "+t._s(e.user_id)+" ")]),a("td",[t._v(" "+t._s(e.username)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(t._f("role_filter")(e.role))+" ")]),a("td",[t._v(" "+t._s(e.phone)+" ")]),a("td",{class:{"text-success":"1"==e.active_status,"text-danger":"0"==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_user"},on:{click:function(a){return t.get_user(e.user_id)}}},[a("i",{staticClass:"fa fa-edit"})]),"1"==e.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.deactive_user(e.user_id)}}},[a("i",{staticClass:"fa fa-lock"})]):t._e(),"0"==e.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return t.active_user(e.user_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):t._e(),["U","A"].includes(e.role)?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return t.delete_user(e.user_id)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()])])})),0)])])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_user"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_user()}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" User Information ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Role: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.role,expression:"single_user.role"}],staticClass:" form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"role",e.target.multiple?a:a[0])}}},[null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?a("option",{attrs:{value:"A"}},[t._v("Admin")]):t._e(),null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?a("option",{attrs:{value:"U"}},[t._v("User")]):t._e(),null==t.single_user.user_id?a("option",{attrs:{value:"E"}},[t._v("Engineer")]):t._e()])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" First name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.first_name,expression:"single_user.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:t.single_user.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"first_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Last name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.last_name,expression:"single_user.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:t.single_user.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"last_name",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Password: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.password,expression:"single_user.password"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter password"},domProps:{value:t.single_user.password},on:{input:function(e){e.target.composing||t.$set(t.single_user,"password",e.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Phone 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone1,expression:"single_user.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11",placeholder:"Enter first phone number"},domProps:{value:t.single_user.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone1",e.target.value)}}})]),"E"==t.single_user.role&&null==t.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Phone 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone2,expression:"single_user.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11",placeholder:"Enter second phone number"},domProps:{value:t.single_user.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone2",e.target.value)}}})]):t._e(),"E"==t.single_user.role&&null==t.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Job Title: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.job_id,expression:"single_user.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"job_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.jobs,(function(e){return a("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])}))],2)]):t._e(),a("hr"),a("div",{staticClass:"row mb-3"},[null==t.single_user.user_id?a("div",{staticClass:"col-sm-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_user()}}},[t._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",on:{click:function(e){return t.update_user()}}},[t._v(" Save "),a("i",{staticClass:"fa fa-save"})])]):t._e(),null!=t.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.update_password()}}},[t._v(" Update Password "),a("i",{staticClass:"fa fa-lock"})])]):t._e()])])])])])])],1)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_user"}},[t._v(" Add User "),a("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" ID ")]),a("th",[t._v(" Username ")]),a("th",[t._v(" Full name ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" Role ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" Phone ")]),a("th",{staticStyle:{width:"8%"}},[t._v(" Status ")]),a("th",{staticStyle:{width:"16%"}},[t._v(" Actions ")])])}],R=(a("96cf"),a("1da1")),U=["",null],Y={name:"Users",data:function(){return{users:[],single_user:{user_id:null,first_name:"",last_name:"",password:"",phone1:"",phone2:"",role:"U",job_id:null},jobs:[],user_search:""}},beforeCreate:function(){y("users")},created:function(){var t=this;this.$http.post("/user/getData").then((function(e){var a=e.data;t.users=a})),this.$http.post("/job/getData").then((function(e){var a=e.data;t.jobs=a}))},methods:{get_user:function(t){var e=this.users.filter((function(e){return e.user_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_user.user_id=s.user_id,this.single_user.first_name=s.full_name.split(" ")[0],this.single_user.last_name=s.full_name.split(" ")[1],this.single_user.phone1=s.username,this.single_user.phone2=s.phone,this.single_user.role=s.role},clear_user:function(){this.single_user.user_id=null,this.single_user.first_name="",this.single_user.last_name="",this.single_user.password="",this.single_user.phone1="",this.single_user.phone2="",this.single_user.role="U",this.single_user.job_id=null},add_user:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"E"==t.single_user.role?U.includes(t.single_user.first_name)||U.includes(t.single_user.last_name)||U.includes(t.single_user.phone1)||U.includes(t.single_user.phone2)||U.includes(t.single_user.job_id)?t.$alert("Fill all required fields","Empty Filed","warning"):t.single_user.password.length<6?t.$alert("Minimum password character: 6","Password","warning"):t.$http.post("/engineer/addEngineer",{first_name:t.single_user.first_name,last_name:t.single_user.last_name,job_id:t.single_user.job_id,phone1:t.single_user.phone1,phone2:t.single_user.phone2}).then((function(e){var a=e.data;t.$http.post("/user/addUser",{username:t.single_user.phone1,password:t.single_user.password,en_id:a.en_id,full_name:t.single_user.first_name+" "+t.single_user.last_name,role:t.single_user.role,phone:t.single_user.phone1}).then((function(e){var a=e.data;t.$alert("Successfully user added","Success","success"),t.users.push({user_id:a.user_id,username:t.single_user.phone1,full_name:t.single_user.first_name+" "+t.single_user.last_name,role:t.single_user.role,phone:t.single_user.phone1,active_status:"1"}),t.clear_user()}))})).catch((function(t){g(t)})):U.includes(t.single_user.phone1)||U.includes(t.single_user.first_name)||U.includes(t.single_user.last_name)?t.$alert("Fill all required fields","Empty Filed","warning"):t.single_user.password.length<6?t.$alert("Minimum password character: 6","Password","warning"):t.$http.post("/user/addUser",{username:t.single_user.phone1,password:t.single_user.password,full_name:t.single_user.first_name+" "+t.single_user.last_name,role:t.single_user.role,phone:t.single_user.phone1}).then((function(e){var a=e.data;t.$alert("Successfully user added","Success","success"),t.users.push({user_id:a.user_id,username:t.single_user.phone1,full_name:t.single_user.first_name+" "+t.single_user.last_name,role:t.single_user.role,phone:t.single_user.phone1,active_status:"1"}),t.clear_user()})).catch((function(t){g(t)}));case 1:case"end":return e.stop()}}),e)})))()},update_user:function(){var t=this;U.includes(this.single_user.phone1)||U.includes(this.single_user.first_name)||U.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.$confirm("Do you want update the informations ?","","question").then((function(){t.$http.patch("/user/updateUser/"+t.single_user.user_id,{username:t.single_user.phone1,full_name:t.single_user.first_name+" "+t.single_user.last_name,role:t.single_user.role,phone:t.single_user.phone1}).then((function(){var e=t.users.findIndex((function(e){return e.user_id==t.single_user.user_id}));t.users[e].username=t.single_user.phone1,t.users[e].full_name=t.single_user.first_name+" "+t.single_user.last_name,t.users[e].role=t.single_user.role,t.users[e].phone=t.single_user.phone1,t.$alert("Informations successfully updated","Success","success")})).catch((function(t){g(t)}))}))},update_password:function(){var t=this;this.single_user.password.length>=6?this.$confirm("Are you sure update password for this user account ?","","question").then((function(){t.$http.patch("/user/updatePassword/"+t.single_user.user_id,{password:t.single_user.password}).then((function(){t.$alert("Password successfully updated","Success","success"),t.single_user.password=""}))})):this.$alert("Minimum password character: 6","Password","warning")},deactive_user:function(t){var e=this;this.$confirm("Are you sure deactive this user account ?","","question").then((function(){e.$http.patch("/user/deactiveUser/"+t).then((function(){var a=e.users.findIndex((function(e){return e.user_id==t}));e.users[a].active_status="0",e.$alert("User successfully deactived","Success","success")})).catch((function(t){g(t)}))}))},active_user:function(t){var e=this;this.$confirm("Are you sure active this user account ?","","question").then((function(){e.$http.patch("/user/activeUser/"+t).then((function(){var a=e.users.findIndex((function(e){return e.user_id==t}));e.users[a].active_status="1",e.$alert("User successfully actived","Success","success")})).catch((function(t){g(t)}))}))},delete_user:function(t){var e=this;this.$confirm("Are you sure delete this user account ?","","question").then((function(){e.$http.delete("/user/deleteUser/"+t).then((function(){e.$alert("User successfully deleted","Success","success"),e.users=e.users.filter((function(e){return e.user_id!=t}))})).catch((function(t){g(t)}))}))}},computed:{filtered_users:function(){var t=this;return this.users.filter((function(e){return e.user_id==t.user_search||e.username.match(t.user_search)||e.full_name.match(t.user_search)||e.phone.match(t.user_search)||e.role.toLowerCase().match(t.user_search)}))}},filters:{status_filter:function(t){return["Deactive","Active"][t]},role_filter:function(t){return"A"==t?"Admin":"U"==t?"User":"Engineer"}}},T=Y,G=Object(c["a"])(T,F,H,!1,null,null,null),J=G.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4"},[t._v("Daily Staff lists and Employee attendance")]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 text-dark",staticStyle:{"border-right":"1px solid"}},[t._m(0),a("div",{staticClass:"collapse",attrs:{id:"list_info"}},[a("label",{staticClass:"mt-2 px-2"},[t._v(" List ID: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.dsl_id,expression:"dsl_list.dsl_id"}],staticClass:"form-control text-center",attrs:{type:"number",readonly:""},domProps:{value:t.dsl_list.dsl_id},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"dsl_id",e.target.value)}}}),a("label",{staticClass:"mt-2 px-2"},[t._v(" Work Date: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date"},domProps:{value:t.dsl_list.work_date},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"work_date",e.target.value)}}}),a("label",{staticClass:"mt-2 px-2"},[t._v(" Staff: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.st_id,expression:"dsl_list.st_id"}],staticClass:"form-control text-center",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dsl_list,"st_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("label",{staticClass:"mt-2 px-2"},[t._v(" Location: ")]),t._l(t.dsl_list.location,(function(e,s){return a("div",{key:s,staticClass:"row mt-2 float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.location[s],expression:"dsl_list.location[index]"}],staticClass:"form-control text-center col-sm-9 ml-3 mb-1 locations",attrs:{type:"text",readonly:1==t.dsl_list.location.length&&t.employees.length>0||0==t.is_edit},domProps:{value:t.dsl_list.location[s]},on:{change:function(e){return t.update_list_location(t.dsl_list.location[s],s)},input:function(e){e.target.composing||t.$set(t.dsl_list.location,s,e.target.value)}}}),t.dsl_list.location.length>1&&t.is_edit?a("button",{staticClass:"btn btn-danger btn-sm mx-2 mb-1",on:{click:function(e){return t.delete_location(t.dsl_list.location[s])}}},[a("i",{staticClass:"fa fa-minus"})]):t._e()])})),t.is_edit?a("button",{staticClass:"btn btn-success btn-sm mx-2",on:{click:function(e){return t.dsl_list.location.push("")}}},[a("i",{staticClass:"fa fa-plus"})]):t._e(),a("br"),a("label",{staticClass:"mt-2 px-2"},[t._v(" Note: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.note,expression:"dsl_list.note"}],staticClass:"form-control mb-3",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"5"},domProps:{value:t.dsl_list.note},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"note",e.target.value)}}}),null==t.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_list()}}},[t._v(" Add List "),a("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",on:{click:function(e){return t.update_list()}}},[t._v(" Save changes "),a("i",{staticClass:"fa fa-save"})])]):t._e(),a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-info btn-block",on:{click:function(e){return t.clear_list()}}},[t._v(" Clear "),a("i",{staticClass:"fa fa-trash"})])])],2)]),a("div",{staticClass:"col-xl-9",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[t._v("Employee")]),a("th",{staticStyle:{width:"11%"}},[t._v("(+) Time")]),a("th",{staticStyle:{width:"9%"}},[t._v("Worked(h)")]),t.is_edit?a("th",[t._v("Status")]):t._e(),a("th",[t._v(" Location ")]),t.is_edit?a("th",{staticStyle:{width:"16%"}},[t._v("Actions")]):t._e()]),a("tbody",t._l(t.employees,(function(e){return a("tr",{key:e.at_id},[a("td",{class:{"bg-success text-white":e.st_id!=t.dsl_list.st_id}},[t._v(" "+t._s(e.full_name)+" ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.overtime,expression:"employee.overtime",modifiers:{lazy:!0}}],staticClass:"form-control text-center",attrs:{type:"number",min:"0",readonly:0==t.is_edit||0!=e.absent},domProps:{value:e.overtime},on:{change:[function(a){return t.$set(e,"overtime",a.target.value)},function(a){return t.set_overtime(e.overtime,e.at_id)}]}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.worked_hours,expression:"employee.worked_hours",modifiers:{lazy:!0}}],staticClass:"form-control text-center",attrs:{type:"number",min:"0",readonly:0==t.is_edit||0!=e.absent},domProps:{value:e.worked_hours},on:{change:[function(a){return t.$set(e,"worked_hours",a.target.value)},function(a){return t.set_worked_hours(e.worked_hours,e.at_id)}]}})]),t.is_edit?a("td",[a("button",{staticClass:"btn btn-danger btn-block mx-1 mb-1",attrs:{disabled:1==e.absent},on:{click:function(a){return t.set_to_absent(e.at_id)}}},[t._v(" Absent ")]),a("button",{staticClass:"btn btn-success btn-block mx-1 mb-1",attrs:{disabled:0==e.absent},on:{click:function(a){return t.set_to_present(e.at_id)}}},[t._v(" Present ")]),"Monthly"==e.salary_type?a("button",{staticClass:"btn btn-warning btn-block mx-1 mb-1",attrs:{disabled:2==e.absent},on:{click:function(a){return t.set_to_off(e.at_id)}}},[t._v(" Off ")]):t._e()]):t._e(),a("td",t._l(t.dsl_list.location.filter((function(t){return t.length>0})),(function(s,n){return a("button",{key:n,staticClass:"btn m-1",class:{"btn-secondary":s!=e.location,"btn-success":s==e.location},attrs:{disabled:s==e.location||0==t.is_edit},on:{click:function(a){return t.set_location(s,e.at_id)}}},[t._v(" "+t._s(s)+" ")])})),0),t.is_edit?a("td",[a("button",{staticClass:"btn btn-primary mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_fine"},on:{click:function(a){return t.get_attendance(e.at_id)}}},[a("i",{staticClass:"fa fa-edit"})]),e.st_id!=t.dsl_list.st_id?a("button",{staticClass:"btn btn-danger mx-1 mb-1",on:{click:function(a){return t.return_employee(e.at_id,e.st_id)}}},[a("i",{staticClass:"fa fa-trash"})]):a("button",{staticClass:"btn btn-success mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_change_staff"},on:{click:function(a){return t.get_employee_staff(e.at_id)}}},[a("i",{staticClass:"fa fa-paper-plane"})])]):t._e()])})),0)])])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_fine"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee}},[t._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[t._v(" Fine Informations ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Fine: (IQD.) ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.fine,expression:"single_employee.fine"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.fine},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"fine",e.target.value)}}})]),t._m(1),a("hr"),a("div",{staticClass:"row mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_attendance"},on:{click:function(e){return t.update_attendance()}}},[t._v(" Save "),a("i",{staticClass:"fa fa-save"})])])])])])])]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_change_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee_staff}},[t._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[t._v(" Send employee to another staff ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v(" New staff: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee_staff.new_dsl_id,expression:"single_employee_staff.new_dsl_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee_staff,"new_dsl_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(t.filtered_other_staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.dsl_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.send_employee()}}},[t._v(" Send "),a("i",{staticClass:"fa fa-paper-plane"})])])])])])])],1)},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-info btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#list_info"}},[t._v(" List Info "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[t._v(" Fine reason: ")]),a("textarea",{staticClass:"form-control col-sm-8",staticStyle:{resize:"none"},attrs:{rows:"5"}})])}],V=(a("4160"),a("a15b"),a("2532"),a("159b"),["",null]),K={name:"Attendance",data:function(){return{employees:[],staffs:[],single_employee:{at_id:null,fine:0,fine_reason:""},single_employee_staff:{at_id:null,new_dsl_id:null},dsl_list:{dsl_id:null,st_id:null,work_date:(new Date).toISOString().split("T")[0],location:[""],note:""},other:{staffs:[]},user:{useranme:"",role:"",en_id:null}}},beforeCreate:function(){y("attendance")},created:function(){var t=this;this.$http.post("/getLoggedInfo").then((function(e){var a=e.data;t.user.username=a.username,t.user.role=a.type,t.user.en_id=a.en_id||null,null!=t.user.en_id?t.$http.post("/staff/getByEngineer/"+t.user.en_id).then((function(e){var a=e.data;t.staffs=a})):t.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a}))})),this.$http.post("/daily_staff_list/getStaffs",{work_date:this.dsl_list.work_date}).then((function(e){var a=e.data;t.other.staffs=a}))},methods:{get_attendance:function(t){var e=this.employees.filter((function(e){return e.at_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_employee.at_id=t,this.single_employee.fine=s.fine,this.single_employee.fine_reason=s.fine_reason,this.single_employee.salary_type=s.salary_type},get_list:function(t,e){var a=this;this.$http.post("/daily_staff_list/getListAndAttendance",{st_id:t,work_date:e}).then((function(t){var e=t.data;if(a.employees=e.employees,null!=e.dsl_list){a.dsl_list.dsl_id=e.dsl_list.dsl_id;var s=e.dsl_list.location;a.dsl_list.location=s.split(","),a.dsl_list.note=e.dsl_list.note}else a.dsl_list.dsl_id=null,a.dsl_list.location=[""],a.dsl_list.note=""})).catch((function(t){g(t)}))},clear_list:function(){this.dsl_list.dsl_id=null,this.dsl_list.st_id=null,this.dsl_list.work_date=(new Date).toISOString().split("T")[0],this.dsl_list.location=[""],this.dsl_list.note="",this.employees=[]},clear_single_employee:function(){this.single_employee.at_id=null,this.single_employee.fine=0,this.single_employee.fine_reason=""},clear_single_employee_staff:function(){this.single_employee_staff.at_id=null,this.single_employee_staff.new_dsl_id=null},add_list:function(){var t=this;this.dsl_list.location=this.dsl_list.location.filter((function(t){return t.length>0})),V.includes(this.dsl_list.st_id)||V.includes(this.dsl_list.work)||V.includes(this.dsl_list.st_id)||this.dsl_list.location.includes("")?this.$alert("Fill all required fields","Empty Field","warning"):(this.dsl_list.location=this.dsl_list.location.filter((function(t){return t.length>0})),this.$http.post("/daily_staff_list/addList",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date,user:this.user.username,location:this.dsl_list.location.join(","),note:this.dsl_list.note||null}).then((function(e){var a=e.data;t.dsl_list.dsl_id=a.dsl_id,t.employees=a.employees,t.other.staffs.push({dsl_id:a.dsl_id,st_id:t.dsl_list.st_id,staff_name:t.staffs.filter((function(e){return e.st_id==t.dsl_list.st_id}))[0].staff_name}),t.$alert("List Created","Successfull","success")})).catch((function(t){g(t)})))},set_to_absent:function(t){var e=this;this.$confirm("Are you sure this employee is absent ?","","question").then((function(){e.$http.patch("/attendance/setAbsent/"+t).then((function(){var a=e.employees.findIndex((function(e){return e.at_id==t}));e.employees[a].absent="1",e.employees[a].worked_hours=0,e.employees[a].overtime=0,e.$alert("Employee absented","Successfull","success")}))}))},set_to_present:function(t){var e=this;this.$confirm("Are you sure this employee is present ?","","question").then((function(){e.$http.patch("/attendance/cancelAbsent/"+t).then((function(){var a=e.employees.findIndex((function(e){return e.at_id==t}));e.employees[a].absent="0",e.employees[a].worked_hours=8,e.$alert("Employee presented","Successfull","success")}))}))},set_to_off:function(t){var e=this;this.$confirm("Are you sure this employee is iff ?","","question").then((function(){e.$http.patch("/attendance/setOff/"+t).then((function(){var a=e.employees.findIndex((function(e){return e.at_id==t}));e.employees[a].absent="2",e.employees[a].worked_hours=0,e.employees[a].overtime=0,e.$alert("Employee set to Off","Successfull","success")}))}))},set_worked_hours:function(t,e){this.is_edit&&this.$http.patch("/attendance/setWorkedHours/"+e,{worked_hours:t}).then((function(){})).catch((function(t){g(t)}))},set_overtime:function(t,e){this.is_edit&&this.$http.patch("/attendance/setOvertime/"+e,{overtime:t}).then((function(){})).catch((function(t){g(t)}))},set_location:function(t,e){var a=this;this.$http.patch("/attendance/setLocation/"+e,{location:t}).then((function(){var s=a.employees.findIndex((function(t){return t.at_id==e}));a.employees[s].location=t}))},get_employee_staff:function(t){this.single_employee_staff.at_id=t},send_employee:function(){var t=this;V.includes(this.single_employee_staff.new_dsl_id)?this.$alert("Select new staff","Empty staff","warning"):this.$confirm("Are you sure send this employee to choosed staff ? ","","question").then((function(){t.$http.patch("/attendance/changeStaff/"+t.single_employee_staff.at_id+"/"+t.single_employee_staff.new_dsl_id).then((function(){t.$alert("Employee sended","Success","success"),t.employees=t.employees.filter((function(e){return e.at_id!=t.single_employee_staff.at_id}))}))}))},return_employee:function(t,e){var a=this;this.$confirm("Are you sure return this employee to own staff ?","","question").then((function(){a.$http.patch("/attendance/returnEmployee/"+t+"/"+e,{work_date:a.dsl_list.work_date}).then((function(){a.employees=a.employees.filter((function(e){return e.at_id!=t}))})).catch((function(t){g(t)}))}))},update_list:function(){var t=this;null!=this.dsl_list.dsl_id&&(V.includes(this.dsl_list.location)?this.$alert("Write a location","Empty Field","warning"):this.$confirm("Are you sure update the list informations ? ","","question").then((function(){t.dsl_list.location=t.dsl_list.location.filter((function(t){return t.length>0})),t.$http.patch("/daily_staff_list/updateList/"+t.dsl_list.dsl_id,{location:t.dsl_list.location.join(","),note:t.dsl_list.note||null}).then((function(){t.$alert("List Updated","Success","success")}))})))},update_list_location:function(t,e){var a=this;V.includes(this.dsl_list.location.join(","))?this.$alert("Enter location","Empty location","warning"):(this.dsl_list.location=this.dsl_list.location.filter((function(t){return t.length>0})),this.dsl_list.location.filter((function(e){return e==t})).length>1?(this.$alert("Duplicate location","Warning","warning"),this.dsl_list.location[e]=""):this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null}).then((function(){var e=[];a.employees.forEach((function(t){a.dsl_list.location.includes(t.location)||e.push(t.at_id)})),e.length>0&&a.$http.patch("/attendance/updateAttendancesLocation",{emps:e,location:t}).then((function(){e.forEach((function(e){var s=a.employees.findIndex((function(t){return t.at_id==e}));a.employees[s].location=t}))}))})))},delete_location:function(t){this.employees.filter((function(e){return e.location==t})).length>0?this.$alert("One of the employees in this location","You can't delete this location","error"):(this.dsl_list.location=this.dsl_list.location.filter((function(e){return e!=t})),this.update_list_location(t,0))},update_attendance:function(){var t=this;null!=this.single_employee.at_id&&(this.single_employee.fine<0?this.$alert("You can't set this fine","Warning","warning"):(document.getElementById("btn_update_attendance").setAttribute("disabled","disabled"),this.$http.patch("/attendance/updateAttendance/"+this.single_employee.at_id,{fine:this.single_employee.fine,fine_reason:this.single_employee.fine_reason}).then((function(){t.$alert("Update Successfull","Success","success");var e=t.employees.findIndex((function(e){return e.at_id==t.single_employee.at_id}));t.employees[e].fine_reason=t.single_employee.fine_reason,t.employees[e].fine=t.single_employee.fine})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_update_attendance").removeAttribute("disabled")}))))}},filters:{absent_filter:function(t){return["Present","Absent"][t]}},watch:{"dsl_list.work_date":function(t){var e=this;V.includes(t)||V.includes(this.dsl_list.st_id)||this.get_list(this.dsl_list.st_id,t),this.$http.post("/daily_staff_list/getStaffs",{work_date:this.dsl_list.work_date}).then((function(t){var a=t.data;e.other.staffs=a}))},"dsl_list.st_id":function(t){V.includes(t)||V.includes(this.dsl_list.work_date)||this.get_list(t,this.dsl_list.work_date)}},computed:{is_edit:function(){var t=new Date(this.dsl_list.work_date),e=new Date,a=t.getTime()-e.getTime(),s=Math.ceil(a/864e5);return!(s<=-2&&"E"==this.user.role)},filtered_other_staffs:function(){var t=this;return this.other.staffs.filter((function(e){return e.st_id!=t.dsl_list.st_id}))}}},W=K,Z=(a("8c2d"),Object(c["a"])(W,q,z,!1,null,"4c59469e",null)),X=Z.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"mt-1 col-xl-2 mb-2"},[t._v(" Phone Number: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text",maxlength:"11"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr"),t._m(0),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),a("div",{staticClass:"row no-print"},t._l(t.employees,(function(e){return a("div",{key:e.phone,staticClass:"col-sm-2 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){t.phone=e.phone}}},[t._v(" "+t._s(e.full_name)+" ")])])})),0)]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"no-print row"},[a("label",{staticClass:"mt-1 mx-2"},[t._v(" 1 $ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 text-center",attrs:{type:"number",min:"0",readonly:null!=t.gs_id},domProps:{value:t.dollar_price},on:{input:function(e){e.target.composing||(t.dollar_price=e.target.value)}}}),a("label",{staticClass:"mt-1 mx-2"},[t._v(" IQD ")])]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"row px-1 py-1 mb-2",attrs:{id:"report",dir:"rtl"}},[a("div",{staticClass:"col-12 text-right py-1",staticStyle:{border:"1px solid","overflow-x":"auto"}},[a("img",{staticClass:"mb-3 float-left",staticStyle:{border:"1px solid"},attrs:{src:t.employee.personal_image,width:"12%"}}),null!=t.gs_id?a("button",{staticClass:"btn btn-success float-left ml-1 no-print",attrs:{"data-toggle":"modal","data-target":"#mdl_give_detail"}},[t._v(" پێدانی مووچە "),a("i",{staticClass:"fa fa-check-circle"})]):a("button",{staticClass:"btn btn-primary float-left ml-1 no-print",on:{click:function(e){return t.create_monthly_receipt()}}},[t._v(" دروستکردنی وەصڵی مانگانە "),a("i",{staticClass:"fa fa-plus"})]),a("span",[t._v(" ڕاپـۆرتـی: "+t._s(t.month+"/"+t.year)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[t._v(" کــۆد: "+t._s(t.employee.emp_id)+" ")]),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[t._v(" ژمارە تەلەفۆن: "+t._s(t.phone)+" ")]),a("br"),a("br"),a("span",[t._v(" نــاو: "+t._s(t.employee.full_name)+" ")]),a("br"),a("br"),a("span",[t._v(" ســتــاف: "+t._s(t.employee.staff_name)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"21%",display:"inline-block"}},[t._v(" جـۆری مـووچە: "+t._s(t._f("salary_type_filter")(t.employee.salary_type))+" ")]),"Monthly"==t.employee.salary_type?a("span",{staticStyle:{width:"25%",display:"inline-block"}},[t._v(" مووچەی مانگانە: "),a("span",[t._v(" "+t._s(t.employee.monthly_salary)+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]):t._e(),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[t._v(" مووچەی ڕۆژانە: "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.daily_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"29%",display:"inline-block"}},[t._v("مووچەی کاتژمێر/کاتی زیادە: "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.hour_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("hr"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" کـۆی کارکردن (کاتژمێر) : "),a("span",[t._v(" "+t._s(t.employee.total_worked_hour)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" کـۆی کــاتـی زیـادە (کـاتژمـێر) : "),a("span",[t._v(" "+t._s(t.employee.total_overtime)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" کـۆی کارنەکردن (کاتژمێر) : "),a("span",[t._v(" "+t._s(t.employee.total_h_not_work)+" ")])]),a("br"),a("br"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" ڕۆژانی ئـامـادەبـوو : "),a("span",[t._v(" "+t._s(t.employee.total_present)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" ڕۆژانی ئۆف (پـشـوو) : "),a("span",[t._v(" "+t._s(t.employee.total_off)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[t._v(" ڕۆژانــی نــەهـاتوو : "),a("span",[t._v(" "+t._s(t.employee.total_absent)+" ")])]),a("hr"),a("div",{staticStyle:{width:"70%",display:"inline-block"}},[a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" نرخی 1 دۆلار : "),a("span",[t._v(" "+t._s(t.dollar_price)+" ")]),a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" کـۆی بـڕی سـەرپێچـی : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_fine))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" کـۆی بـڕی کاتی کارنەکردن : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_not_work_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" کـۆی بـڕی ڕۆژانی نەهاتن : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_apsen_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" کـۆی بـڕی کاتی زیادە : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_o_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[t._v(" IQD "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" بـڕی مـووچەی هەژمارکراو تا کۆتایی مانگ : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_final_s))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" بـڕی مـووچەی هەژمارکراو بەپێی سیستم تا ئێستا : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.total_s_by_h_work))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" بـڕی مـووچەی وەرگیراو تا ئێستا : "),a("span",[t._v(" "+t._s(t._f("money_filter")(t.employee.gived_salary))+" ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" بـڕی مـووچەی مـاوە تا کۆتایی مانگ : "),(Number(t.employee.total_final_s)-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(t._f("money_filter")((Number(t.employee.total_final_s)-Number(t.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[t._v(" 0 ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[t._v(" بڕی مووچەی ماوە تا ئێستا : "),(Number(t.employee.total_s_by_h_work)-Number(t.employee.gived_salary)).toFixed(3)>0?a("span",[t._v(" "+t._s(t._f("money_filter")((Number(t.employee.total_s_by_h_work)-Number(t.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[t._v(" 0 ")]),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])])]),a("div",{staticClass:"float-left",staticStyle:{width:"30%",display:"inline"}},[a("table",{staticClass:"table table-bordered text-dark text-center"},[t._m(1),a("tbody",t._l(t.each_give_salary,(function(e){return a("tr",{key:e.gsd_id},[a("td",[t._v(" "+t._s(e.gived_salary)+" "),"Monthly"==t.employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(e.gived_date.slice(0,10))+" ")])])})),0)])]),a("hr"),a("table",{staticClass:"table table-bordered text-center text-dark"},[t._m(2),a("tbody",t._l(t.each_days,(function(e){return a("tr",{key:e.dsl_id,class:{"bg-danger text-white":1==e.absent}},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.work_date.slice(0,10))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[t._v(" "+t._s(e.worked_hours)+" ")]),a("td",[t._v(" "+t._s(e.overtime)+" ")]),a("td",[t._v(" "+t._s(e.fine_reason)+" ")]),a("td",[t._v(" "+t._s(e.fine)+" ")]),a("td",[t._v(" "+t._s(t._f("absent_filter")(e.absent))+" ")])])})),0)]),a("div",{staticClass:"alert alert-primary text-center"},[t._v(" ناو : "+t._s(t.employee.full_name)+" ")])])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_give_detail"}},[a("div",{staticClass:"modal-dialog text-dark"},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[t.employee.gived_salary>=t.employee.monthly_salary?a("div",{staticClass:"alert alert-primary text-center"},[t._v(" ئەم کارمەندە هەموو بڕە پارەی مانگەکەی وەرگرتووە ")]):a("div",{staticClass:"container-fluid",attrs:{dir:"rtl"}},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2 text-center"},[t._v(" بەروار: ")]),a("label",{staticClass:"form-control col-sm-8 text-center"},[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2 text-center"},[t._v(" مووچە: ")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.salary,expression:"salary",modifiers:{lazy:!0}}],staticClass:"form-control col-sm-8 text-center",attrs:{type:"number"},domProps:{value:t.salary},on:{change:function(e){t.salary=e.target.value}}}),"Monthly"==t.employee.salary_type?a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" $ ")]):a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" IQD ")])]),a("div",{staticClass:"alert alert-warning text-center"},[t._v(" زۆرترین بڕی پێدانی مووچە : "+t._s(((Number(t.employee.total_final_s)-Number(t.employee.gived_salary)).toFixed(3)-Number(t.salary)).toFixed(3))+" "),"Monthly"==t.employee.salary_type?a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" $ ")]):a("label",{staticClass:"col-sm-1 mt-2"},[t._v(" IQD ")])]),t._m(4),a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_give_salary"},on:{click:function(e){return t.give_salary()}}},[t._v(" وەرگرتنی مووچە "),a("i",{staticClass:"fa fa-dollar-sign fa-sm"})])])])])])])],1)},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" Staffs "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("بڕی مووچە")]),a("th",[t._v("بەرواری وەرگرتن")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"10%"}},[t._v(" ژ.لـیست ")]),a("th",[t._v(" ســتــاف ")]),a("th",{staticStyle:{width:"16%"}},[t._v(" بـەرواری کارکردن ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" شوێن ")]),a("th",{staticStyle:{width:"14%"}},[t._v(" کارکردن (کاتژمێر) ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" زیادە (کاتژمێر) ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" هۆی سەرپێچی ")]),a("th",{staticStyle:{width:"13%"}},[t._v(" بـڕی سەرپێچی ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" ئامادەبوون ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" وەرگرتنی مووچە ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-primary text-right"},[t._v(" - بۆ ڕێککردنەوەی مووچە : "),a("br"),t._v(" تا 1 دۆلار ڕێگەپێدراوە بۆ کارمەندی مانگانە "),a("br"),t._v(" تا 1000 دینار ڕێگەپێدراوە بۆ کارمەندی ڕۆژانە ")])}],at=(a("99af"),a("c975"),{name:"employeeProfile",data:function(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),phone:"",gs_id:null,salary:0,employee:{emp_id:null,full_name:null,staff_name:null,salary_type:null,monthly_salary:0,daily_salary:0,hour_salary:0,total_worked_hour:0,total_not_work_s:0,total_overtime:0,total_o_s:0,total_apsen_s:0,total_absent:0,total_present:0,total_fine:0,total_s_by_h_work:0,total_final_s:0,gived_salary:0,personal_image:null},each_days:[],each_give_salary:[],dollar_price:0,employees_btn:{full_name:null},staff_id:"",staffs:[],employees:[]}},beforeCreate:function(){y("give_salary")},created:function(){var t=this;this.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a}))},methods:{search:function(){var t=this;this.$http.post("/employee/getEmployeeInfo/"+this.phone+"/"+this.month+"/"+this.year).then((function(e){var a=e.data;t.gs_id=a.gs_id,t.employee.emp_id=a.employee.emp_id,t.employee.full_name=a.employee.full_name,t.employee.staff_name=a.employee.staff_name,t.employee.salary_type=a.employee.salary_type,t.employee.personal_image=a.employee.personal_image_path,t.employee.total_worked_hour=a.employee.total_h,t.employee.total_overtime=a.employee.total_o,t.employee.total_fine=a.employee.total_fine,t.employee.total_present=a.employee.count_present,t.employee.total_absent=a.employee.total_apsent,t.employee.hour_salary=a.employee.hour_salary,t.employee.daily_salary=a.employee.daily_salary,t.employee.monthly_salary=a.employee.monthly_salary,t.employee.total_off=a.employee.count_off,t.employee.total_h_not_work=a.employee.total_h_not_work,t.employee.total_o_s=a.employee.total_o_s,t.employee.total_not_work_s=a.employee.total_not_work_s,t.employee.total_apsen_s=a.employee.total_apsen_s,t.employee.total_off_s=a.employee.total_off_s,t.employee.total_final_s=a.employee.total_final_s-a.employee.total_fine,t.employee.gived_salary=a.employee.gived_salary,t.employee.total_s_by_h_work=(a.employee.total_s_by_h_work+a.employee.total_o_s+a.employee.total_off_s-a.employee.total_fine).toFixed(3),t.dollar_price=a.employee.dollar_price||t.dollar_price,t.each_days=a.each_days,t.each_give_salary=a.each_give_salary}))},create_monthly_receipt:function(){var t=this;11==this.phone.length?this.dollar_price<=0&&"Monthly"==this.employee.salary_type?this.$alert("Enter Dollar price","","warning"):this.$confirm("دڵنیای لە دروست کردنی وەصڵی مانگی ".concat(this.month,"/").concat(this.year),"","question").then((function(){t.$http.post("/gived_salary/addGiveSalary",{emp_id:t.employee.emp_id,salary_month:t.month,salary_year:t.year,monthly_salary:t.employee.monthly_salary,daily_salary:t.employee.daily_salary,hour_salary:t.employee.hour_salary,dollar_price:t.dollar_price}).then((function(e){var a=e.data;t.gs_id=a.gs_id,t.$alert("","Success","success"),t.$http.post("/employee/getEmployeeInfo/"+t.phone+"/"+t.month+"/"+t.year).then((function(e){var a=e.data;t.employee.total_fine=a.employee.total_fine,t.employee.total_final_s=a.employee.total_final_s-a.employee.total_fine,t.employee.total_s_by_h_work=(a.employee.total_s_by_h_work+a.employee.total_o_s+a.employee.total_off_s-a.employee.total_fine).toFixed(3)}))})).catch((function(t){g(t)}))})):this.$alert("Enter valid phone number","Invalid phone number","warning")},give_salary:function(){var t=this;this.valid_give_salary?this.salary>0?this.$confirm("دڵنیای لە پێدانی ئەم بڕە پارەیە بۆ کارمەند ؟","","question").then((function(){document.getElementById("btn_give_salary").style.display="none",t.$http.post("/gived_salary/addGivedDetail",{gs_id:t.gs_id,gived_salary:t.salary}).then((function(){t.each_give_salary.push({gived_salary:t.salary,gived_date:(new Date).toISOString().split("T")[0]}),t.employee.gived_salary+=Number(t.salary),t.salary=0,t.$alert("Salary gived","Success","success")})).catch((function(t){g(t)})).finally((function(){var t=document.getElementById("btn_give_salary");t&&(t.style.display="")}))})):this.$alert("بڕی مووچە ئەبێت گەورەتربێت لە 0","","warning"):this.$alert("بڕی مووچە زۆرترە لە ڕادەی دیاریکراو","","warning")},search_staff:function(){var t=this;this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id).then((function(e){var a=Object(v["a"])(e,1),s=a[0];t.employees_btn.full_name=s.full_name}))}},filters:{gived_status_filter:function(t){return 1==t?"بـەڵێ":"نـەخـێـر"},absent_filter:function(t){return 0==t?"ئامادەبوو":1==t?"غــیـاب":"پـشـوو"},salary_type_filter:function(t){return"Monthly"==t?"مانگانە":"ڕۆژانە"},money_filter:function(t){var e=[],a="";t=t.toString(),t.includes(".")?(a=t.substring(t.indexOf(".")),e=t.toString().substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();for(var s=[],n=0;n<e.length;n++)s.unshift(e[n]),(n+1)%3==0&&s.unshift(",");".000"==a&&(a="");var i=s.join("")+a;return","==i.charAt(0)?i.slice(1):i}},watch:{phone:function(t){11==t.length&&this.search()},month:function(){11==this.phone.length&&this.search()},year:function(){11==this.phone.length&&this.search()},staff_id:function(t){var e=this;null!=t?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id).then((function(t){var a=t.data;e.employees=a})):this.employees=[]}},computed:{valid_give_salary:function(){return"Daily"==this.employee.salary_type?this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1e3):this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1)}}}),st=at,nt=(a("4919"),Object(c["a"])(st,tt,et,!1,null,"7f243dcf",null)),it=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6 col-xl-6"},[a("div",{staticClass:"card shadow-lg o-hidden border-0 my-5 animate__animated animate__fadeInDown"},[a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"p-5"},[t._m(0),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-user",attrs:{type:"text",id:"exampleInputEmail",placeholder:"Enter Phone Number...",name:"email"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-user",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-success btn-block text-white btn-user",attrs:{id:"btn_login",disabled:0==t.username.length||t.password.length<6},on:{click:function(e){return t.login()}}},[t._v("Login")]),a("hr"),t._m(1)])])])])])])},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h4",{staticClass:"text-dark mb-4"},[t._v(" Ideal Power Company ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[t._v(" Developed by: "),a("a",{attrs:{href:"https://www.facebook.com/SulyTech19",target:"_blank"}},[t._v(" Suly Tech ")]),t._v(" - "),a("a",{attrs:{href:"tel:07705800707"}},[t._v(" 0770 580 0707 ")])])}],rt={name:"Login",data:function(){return{username:"",password:""}},beforeCreate:function(){this.$http.post("/isLogged").then((function(){return window.location.href="/"}))},methods:{login:function(){document.getElementById("btn_login").setAttribute("disabled","disabled"),this.$http.post("/login",{username:this.username,password:this.password}).then((function(t){var e=t.data;1==e&&(window.location.href="/")})).catch((function(t){g(t)})).finally((function(){document.getElementById("btn_login").removeAttribute("disabled")}))}}},ct=rt,_t=Object(c["a"])(ct,lt,ot,!1,null,null,null),dt=_t.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"alert alert-danger text-center m-4"},[a("h1",[t._v(" Error 404! This page not found ")]),a("hr"),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v(" Home Page "),a("i",{staticClass:"fa fa-home"})])],1)])},mt=[],ft={},pt=Object(c["a"])(ft,ut,mt,!1,null,null,null),ht=pt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark text-right"},[t._v(" ســتــافـەکـان ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control text-center",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._m(0),a("table",{staticClass:"table table-bordered table-striped text-dark text-center",attrs:{dir:"rtl"}},[t._m(1),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.st_id)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.engineer)+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employees"},on:{click:function(a){t.st_id=e.st_id}}},[t._v(" بینینی کارمەندان ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employees"}},[a("div",{staticClass:"modal-dialog text-dark"},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-striped table-bordered text-center text-dark",attrs:{dir:"rtl"}},[t._m(3),t._l(t.filtered_employees,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name+" "+e.last_name)+" ")]),a("td",[t._v(" "+t._s(t._f("salary_type_filter")(e.salary_type))+" ")])])}))],2)])])])])],1)},gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[t._v(" Print "),a("i",{staticClass:"fa fa-print"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"15%"}},[t._v(" کـۆد ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" نـاوی سـتـاف ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" سـەرپـەرشـتـیـار ")]),a("th",{staticClass:"no-print",staticStyle:{width:"25%"}},[t._v(" کارمەندان ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-1"},[t._v(" کارمەندەکان ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" کۆد ")]),a("th",[t._v(" نـاو ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" جۆری مووچە ")])])}],yt={name:"staffReport",data:function(){return{staffs:[],employees:[],user:{en_id:null},search:"",st_id:null}},beforeCreate:function(){y("staffReport")},created:function(){var t=this;this.$http.post("/getLoggedInfo").then((function(e){var a=e.data;t.user.username=a.username,t.user.role=a.type,t.user.en_id=a.en_id||null,t.$http.post("/staff/getStaffReport",{en_id:t.user.en_id}).then((function(e){var a=e.data;t.staffs=a.staffs,t.employees=a.employees}))}))},computed:{filtered_staffs:function(){var t=this;return this.staffs.filter((function(e){return e.st_id==t.search||e.staff_name.match(t.search)||e.engineer.match(t.search)}))},filtered_employees:function(){var t=this;return this.employees.filter((function(e){return e.st_id==t.st_id}))}},filters:{salary_type_filter:function(t){return"Monthly"==t?"مانگانە":"ڕۆژانە"}}},bt=yt,Ct=(a("b926"),Object(c["a"])(bt,vt,gt,!1,null,"29879a38",null)),wt=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark text-right"},[t._v(" سـەرپـەرشـتـیـارەکان ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control text-center",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("button",{staticClass:"btn btn-success mb-2 mx-1",on:{click:function(e){return t.get_actived()}}},[t._v(" Actived ")]),a("button",{staticClass:"btn btn-danger mb-2 mx-1",on:{click:function(e){return t.get_deactived()}}},[t._v(" Deactived ")]),t._m(0),a("button",{staticClass:"btn btn-primary mb-2 mx-1",on:{click:function(e){return t.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center",attrs:{dir:"rtl"}},[t._m(1),a("tbody",t._l(t.filtered_engineers,(function(e){return a("tr",{key:e.en_id},[a("td",[t._v(" "+t._s(e.en_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.job_title)+" ")]),a("td",[t._v(" "+t._s(e.phone1)+" ")]),a("td",[t._v(" "+t._s(e.phone2)+" ")]),a("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),a("td",{class:{"text-success":1==e.active_status,"text-danger":0==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_staff"},on:{click:function(a){t.en_id=e.en_id}}},[t._v(" بینینی ستافەکان ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content text-dark"},[t._m(2),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-center"},[t._m(3),a("tbody",t._l(t.filtered_staffs,(function(e){return a("tr",{key:e.st_id},[a("td",[t._v(" "+t._s(e.staff_name)+" ")])])})),0)])])])])])],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[t._v(" Print "),a("i",{staticClass:"fa fa-print"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"8%"}},[t._v(" کـۆد ")]),a("th",[t._v(" نـاوی یـەکەم ")]),a("th",[t._v(" نـاوی دووەم ")]),a("th",[t._v(" کــار ")]),a("th",{staticStyle:{width:"9%"}},[t._v(" ژ.تـەلەفۆن 1 ")]),a("th",{staticStyle:{width:"9%"}},[t._v(" ژ.تـەلەفۆن 2")]),a("th",{staticStyle:{width:"14%"}},[t._v(" بـەرواری تـۆمارکـردن ")]),a("th",{staticStyle:{width:"7%"}},[t._v(" بـاری ئێستا ")]),a("th",[t._v(" ستافەکان ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" ستافەکان ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" ستـاف ")])])}],kt={name:"staffReport",data:function(){return{engineers:[],search:"",staffs:[],en_id:null}},beforeCreate:function(){y("engineerReport")},created:function(){var t=this;this.$http.post("/engineer/getEngineerReport").then((function(e){var a=e.data;t.engineers=a})),this.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a}))},methods:{get_actived:function(){var t=this;this.$http.post("/engineer/getActived").then((function(e){var a=e.data;t.engineers=a}))},get_deactived:function(){var t=this;this.$http.post("/engineer/getDeactived").then((function(e){var a=e.data;t.engineers=a}))},refresh:function(){var t=this;this.$http.post("/engineer/getEngineerReport").then((function(e){var a=e.data;t.engineers=a}))}},computed:{filtered_engineers:function(){var t=this;return this.engineers.filter((function(e){return e.en_id==t.search||e.first_name.match(t.search)||e.last_name.match(t.search)||e.job_title.match(t.search)||e.phone1.match(t.search)||e.phone2.match(t.search)||e.reg_date.match(t.search)}))},filtered_staffs:function(){var t=this;return this.staffs.filter((function(e){return e.en_id==t.en_id}))}},filters:{status_filter:function(t){return["Deactive","Active"][t]}}},St=kt,Et=(a("095a"),Object(c["a"])(St,xt,At,!1,null,"57ec3ef4",null)),$t=Et.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark text-right"},[t._v(" کــارمـەنـدەکـان ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control text-center",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_employee(e)},input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("button",{staticClass:"btn btn-success mb-2 mx-1",on:{click:function(e){return t.search_employee()}}},[a("i",{staticClass:"fa fa-search"})]),a("button",{staticClass:"btn btn-primary mb-2 mx-1",on:{click:function(e){return t.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),a("button",{staticClass:"btn btn-success mb-2 mx-1",on:{click:function(e){return t.get_all()}}},[t._v(" All Employees ")]),a("button",{staticClass:"btn btn-success mb-2 mx-1",on:{click:function(e){return t.get_actived()}}},[t._v(" Actived ")]),a("button",{staticClass:"btn btn-danger mb-2 mx-1",on:{click:function(e){return t.get_deactived()}}},[t._v(" Deactived ")]),t._m(0),a("table",{staticClass:"table table-bordered table-striped text-dark text-center",attrs:{dir:"rtl"}},[t._m(1),a("tbody",t._l(t.employees,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.first_name)+" ")]),a("td",[t._v(" "+t._s(e.last_name)+" ")]),a("td",[t._v(" "+t._s(e.staff_name)+" ")]),a("td",[t._v(" "+t._s(e.phone)+" ")]),a("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),a("td",[t._v(" "+t._s(t._f("salary_type_filter")(e.salary_type))+" ")]),a("td",{attrs:{dir:"ltr"}},["Monthly"==e.salary_type?a("span",[t._v(" "+t._s(t._f("money_filter")(e.monthly_salary))+" ")]):a("span",[t._v(" "+t._s(t._f("money_filter")(e.daily_salary))+" ")]),t._v(" "),"Monthly"==e.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("td",{class:{"text-success":1==e.active_status,"text-danger":0==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status))+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return t.get_employee(e.emp_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)]),a("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.previos_pagination_btn()}}},[t._v("<")]),t._l(Math.ceil(t.noOfEmployees/15),(function(e){return a("button",{key:e,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(e/5),staticStyle:{display:"none"},on:{click:function(a){return t.get_limited_data(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.next_pagination_btn()}}},[t._v(">")])],2)])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body ",attrs:{dir:"rtl"}},[a("div",{staticClass:"container-fluid"},[t._m(3),a("hr"),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" کــۆد : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.emp_id)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" ناوی یەکەم : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.first_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" ناوی دووەم : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.last_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" سـتـاف : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.staff_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" ژمارە تەلەفۆن : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.phone)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" بـەرواری تـۆمـارکـردن : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t.single_employee.reg_date.slice(0,10))+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" جۆری مووچە : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[t._v(" "+t._s(t._f("salary_type_filter")(t.single_employee.salary_type))+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" بڕی مووچە : ")]),"Monthly"==t.single_employee.salary_type?a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s(t._f("money_filter")(t.single_employee.monthly_salary))+" $ ")]):a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s(t._f("money_filter")(t.single_employee.daily_salary))+" IQD ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[t._v(" مووچە (کاتژمێر) : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[t._v(" "+t._s(t.single_employee.hour_salary)+" "),"Monthly"==t.single_employee.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])])])])])])])])],1)},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[t._v(" Print "),a("i",{staticClass:"fa fa-print"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("کـۆد")]),a("th",[t._v("ناوی یەکەم")]),a("th",[t._v("ناوی دووەم")]),a("th",[t._v("سـتـاف")]),a("th",{staticStyle:{width:"10%"}},[t._v("ژ.تـەلەفـۆن")]),a("th",{staticStyle:{width:"14%"}},[t._v("بـەرواری تـۆمـارکـردن")]),a("th",{staticStyle:{width:"10%"}},[t._v("جـۆری مـووچە")]),a("th",{staticStyle:{width:"13%"}},[t._v("بـڕی مووچە")]),a("th",{staticStyle:{width:"8%"}},[t._v("باری ئێستا")]),a("th",{staticClass:"no-print",staticStyle:{width:"6%"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" زانیاری کارمەند ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("img",{staticClass:"col-sm-5 mb-2",attrs:{src:a("18d5"),alt:"No image"}}),s("img",{staticClass:"col-sm-5 mb-2",attrs:{src:a("18d5"),alt:"No image"}})])}],jt={name:"employeeReport",data:function(){return{noOfEmployees:0,employees:[],single_employee:{emp_id:null,first_name:null,last_name:null,staff_name:null,phone:null,reg_date:"",salary_type:null,monthly_salary:0,daily_salary:0,hour_salary:0,active_status:null,personal_image_path:null,identification_image_path:null},search:"",current_pagination:1,max_pagination:0}},beforeCreate:function(){y("employeeReport")},created:function(){var t=this;this.$http.post("/employee/getNoOfEmployees").then((function(e){var a=e.data;t.noOfEmployees=a.noOfEmployees})).catch((function(t){g(t)})),this.get_limited_data(1)},mounted:function(){var t=this,e=setInterval((function(){var a=document.getElementsByClassName("pagination-btns");if(a.length>0){for(var s=0;s<a.length;s++)a[s].style.display="inline";t.max_pagination=Number(a[a.length-1].classList[4].split("-")[2]),clearInterval(e)}}),750)},methods:{next_pagination_btn:function(){if(this.current_pagination<this.max_pagination){for(var t=document.getElementsByClassName("pg-group-"+this.current_pagination),e=0;e<t;e++)t[e].style.display="none";++this.current_pagination;for(var a=document.getElementsByClassName("pg-group-"+this.current_pagination),s=0;s<a;s++)a[s].style.display="inline"}},previos_pagination_btn:function(){if(this.current_pagination>1){for(var t=document.getElementsByClassName("pg-group-"+this.current_pagination),e=0;e<t;e++)t[e].style.display="none";--this.current_pagination;for(var a=document.getElementsByClassName("pg-group-"+this.current_pagination),s=0;s<a;s++)a[s].style.display="inline"}},get_limited_data:function(t){var e=this,a=0;t>1&&(a=15*(t-1)),this.$http.post("/employee/getData",{offset:a}).then((function(t){var a=t.data;e.employees=a})).catch((function(t){g(t)}))},get_employee:function(t){var e=this.employees.filter((function(e){return e.emp_id==t})),a=Object(v["a"])(e,1),s=a[0];this.single_employee.emp_id=s.emp_id,this.single_employee.first_name=s.first_name,this.single_employee.last_name=s.last_name,this.single_employee.staff_name=s.staff_name,this.single_employee.phone=s.phone,this.single_employee.reg_date=s.reg_date,this.single_employee.salary_type=s.salary_type,this.single_employee.monthly_salary=s.monthly_salary,this.single_employee.daily_salary=s.daily_salary,this.single_employee.hour_salary=s.hour_salary,this.single_employee.active_status=s.active_status,this.single_employee.personal_image_path=s.personal_image_path,this.single_employee.identification_image_path=s.identification_image_path},get_all:function(){var t=this;this.$http.post("/employee/getAll").then((function(e){var a=e.data;t.employees=a,document.getElementById("paginations").style.display="none"}))},get_actived:function(){var t=this;this.$http.post("/employee/getActived").then((function(e){var a=e.data;t.employees=a,document.getElementById("paginations").style.display="none"}))},get_deactived:function(){var t=this;this.$http.post("/employee/getDeactived").then((function(e){var a=e.data;t.employees=a,document.getElementById("paginations").style.display="none"}))},search_employee:function(){var t=this;""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then((function(e){var a=e.data;t.employees=a,document.getElementById("paginations").style.display="none"}))},refresh:function(){this.get_limited_data(1),this.search="",document.getElementById("paginations").style.display="block"}},filters:{status_filter:function(t){return["Deactive","Active"][t]},money_filter:function(t){for(var e=t.toString().split("").reverse(),a=[],s=0;s<e.length;s++)a.unshift(e[s]),(s+1)%3==0&&a.unshift(",");var n=a.join("");return","==n.charAt(0)?n.slice(1):n},salary_type_filter:function(t){return"Monthly"==t?"مـانگانە":"ڕۆژانـە"}}},Dt=jt,Nt=(a("7107"),Object(c["a"])(Dt,Bt,It,!1,null,"607881d9",null)),Mt=Nt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark text-right nrt"},[t._v(" لـیـستی مووچەی وەرگیراوی کارمەندان ")]),a("hr"),a("div",{staticClass:"row nrt",staticStyle:{"overflow-x":"auto"},attrs:{dir:"rtl"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" مانگ : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" ســاڵ : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" گـەڕان "),a("i",{staticClass:"fa fa-search"})]),t._l(t.staffs,(function(e){return a("div",{key:e.st_id,staticClass:"col-xl-12 col-md-12 col-sm-12"},[a("label",{staticClass:"float-right my-3"},[t._v(" ناوی ســتـاف : "+t._s(e.staff_name)+" ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[t._m(0,!0),a("tbody",t._l(t.employees.filter((function(t){return t.staff_name==e.staff_name})),(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(t._f("fine_filter")(e.total_fine))+" "),a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(t._f("money_filter")(e.total_overtime))+" "),"Monthly"==e.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])]),a("td",[t._v(" "+t._s(t._f("money_filter")(e.gived_salary))+" "),"Monthly"==e.salary_type?a("span",[t._v(" $ ")]):a("span",[t._v(" IQD ")])])])})),0),a("caption",{staticClass:"alert alert-primary text-center"},[t._v(" کۆی بڕی دۆلار : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dollar:0}).total_gived_dollar))+" $ "),a("hr"),t._v(" کۆی بڕی دینار : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dinar:0}).total_gived_dinar))+" IQD ")])]),a("hr")])}))],2)])],1)])],1)},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" کــۆد ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" نــاو ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" کۆی بڕی سەرپێچی ")]),a("th",{staticStyle:{width:"18%"}},[t._v(" کۆی بڕی کاتی زیادە ")]),a("th",{staticStyle:{width:"18%"}},[t._v(" بڕی مووچەی وەرگیراو ")])])}],Lt={name:"givedSalaryReport",data:function(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],gived_salary_staffs:[]}},beforeCreate:function(){y("givedSalaryReport")},created:function(){var t=this;this.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a}))},methods:{search:function(){var t=this;this.$http.post("/gived_salary/getGivedSalary/"+this.month+"/"+this.year).then((function(e){var a=e.data;t.employees=a.employees,t.gived_salary_staffs=a.gived_salary_staffs}))}},filters:{money_filter:function(t){var e=[],a="";t=t.toString(),t.toString().includes(".")?(a=t.substring(t.indexOf(".")),e=t.toString().substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();for(var s=[],n=0;n<e.length;n++)s.unshift(e[n]),(n+1)%3==0&&s.unshift(",");".000"==a&&(a="");var i=s.join("")+a;return","==i.charAt(0)?i.slice(1):i},fine_filter:function(t){return"0.00"==t?0:t}}},Qt=Lt,Ft=(a("2500"),Object(c["a"])(Qt,Pt,Ot,!1,null,"85216ba0",null)),Ht=Ft.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark text-right nrt"},[t._v(" داتای کارمەندان بۆ : غیابات - کاتی زیادە - سەرپێچی ")]),a("hr"),a("div",{staticClass:"row nrt",staticStyle:{"overflow-x":"auto"},attrs:{dir:"rtl"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" مانگ : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print mb-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" ســاڵ : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print mb-1",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" گـەڕان "),a("i",{staticClass:"fa fa-search"})])]),a("div",{staticClass:"row nrt",staticStyle:{"overflow-x":"auto"},attrs:{dir:"rtl"}},[a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-success w-100 text-right"},[t._v(" کاتی زیادە : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[t._m(0),a("tbody",t._l(t.top_overtime,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_o)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-danger w-100 text-right"},[t._v(" ئامادە نەبوون : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[t._m(1),a("tbody",t._l(t.top_absent,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_apsent)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-primary w-100 text-right"},[t._v(" بڕی سەرپێچی : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[t._m(2),a("tbody",t._l(t.top_fine,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.total_f)+" ")])])})),0)])])])])],1)])],1)},Ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" کــۆد ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" نــاو ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" کاتی زیادە ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" کــۆد ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" نــاو ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" ڕۆژی نەهـاتوو ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(" کــۆد ")]),a("th",{staticStyle:{width:"50%"}},[t._v(" نــاو ")]),a("th",{staticStyle:{width:"30%"}},[t._v(" سەرپـێـچـی (IQD) ")])])}],Yt={name:"topEmployees",data:function(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),top_overtime:[],top_absent:[],top_fine:[]}},beforeCreate:function(){y("topEmployeeReport")},methods:{search:function(){var t=this;this.$http.post("/employee/topOvertime/"+this.month+"/"+this.year).then((function(e){var a=e.data;t.top_overtime=a.top_overtime,t.top_absent=a.top_absent,t.top_fine=a.top_fine}))}},filters:{money_filter:function(t){for(var e=t.toString().split("").reverse(),a=[],s=0;s<e.length;s++)a.unshift(e[s]),(s+1)%3==0&&a.unshift(",");var n=a.join("");return","==n.charAt(0)?n.slice(1):n},fine_filter:function(t){return"0.00"==t?0:t}}},Tt=Yt,Gt=(a("827f"),Object(c["a"])(Tt,Rt,Ut,!1,null,"d9cca0da",null)),Jt=Gt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark text-right nrt"},[t._v(" لیستی کارکردنی ڕۆژانەی ستافەکان ")]),a("hr"),a("div",{staticClass:"row nrt",staticStyle:{"overflow-x":"auto"},attrs:{dir:"rtl"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" مانگ : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" ســاڵ : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" ستاف : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" گـەڕان "),a("i",{staticClass:"fa fa-search"})]),a("label",{staticClass:"float-right my-3"}),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[t._m(0),a("tbody",t._l(t.lists,(function(e){return a("tr",{key:e.dsl_id,class:{"bg-warning":"rest"==e.location.toLowerCase()}},[a("td",[t._v(" "+t._s(e.dsl_id)+" ")]),a("td",[t._v(" "+t._s(e.work_date.slice(0,10))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_attendance"},on:{click:function(a){return t.get_attendance(e.dsl_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_attendance"}},[a("div",{staticClass:"modal-dialog modal-xl nrt"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.attendances=[]}}},[t._v(" × ")]),a("h5",{staticClass:"mt-2"},[t._v(" ناوەڕۆکی لیست ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting",dir:"rtl"}},[t._v(" تکایە چاوەڕوانبە... ")]),a("table",{staticClass:"table table-striped table-bordered text-center text-dark",attrs:{dir:"rtl"}},[t._m(1),a("tbody",t._l(t.attendances,(function(e){return a("tr",{key:e.emp_id},[a("td",[t._v(" "+t._s(e.emp_id)+" ")]),a("td",[t._v(" "+t._s(e.full_name)+" ")]),a("td",[t._v(" "+t._s(e.overtime)+" ")]),a("td",[t._v(" "+t._s(e.worked_hours)+" ")]),a("td",[t._v(" "+t._s(e.fine)+" ")]),a("td",[t._v(" "+t._s(e.fine_reason)+" ")]),a("td",{class:{"text-success":0==e.absent,"text-danger":1==e.absent,"text-warning":2==e.absent}},[t._v(" "+t._s(t._f("absent_filter")(e.absent))+" ")]),a("td",[t._v(" "+t._s(e.location)+" ")])])})),0)])])])])])],1)},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"25%"}},[t._v(" ژ.لیست ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" بەروار ")]),a("th",{staticStyle:{width:"35%"}},[t._v(" شـوێـن ")]),a("th",[t._v(" بینین ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{width:"7%"}},[t._v(" کۆد ")]),a("th",[t._v(" ناو ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" کاتی زیادە ")]),a("th",{staticStyle:{width:"12%"}},[t._v(" کاتی کارکردن ")]),a("th",{staticStyle:{width:"15%"}},[t._v(" بڕی سەرپێچی ")]),a("th",{staticStyle:{width:"25%"}},[t._v(" هۆی سەرپێچی ")]),a("th",{staticStyle:{width:"10%"}},[t._v(" ئامادەبوون ")]),a("th",[t._v(" شوێن ")])])}],Vt={name:"staffList",data:function(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),staffs:[],st_id:null,user:{en_id:null},lists:[],attendances:[]}},beforeCreate:function(){y("staffListReport")},created:function(){var t=this;this.$http.post("/getLoggedInfo").then((function(e){var a=e.data;t.user.username=a.username,t.user.role=a.type,t.user.en_id=a.en_id||null,null==t.user.en_id?t.$http.post("/staff/getData").then((function(e){var a=e.data;t.staffs=a})):t.$http.post("/staff/getByEngineer/"+t.user.en_id).then((function(e){var a=e.data;t.staffs=a}))}))},methods:{search:function(){var t=this;this.st_id&&this.year&&this.month?this.$http.post("/daily_staff_list/dslReport/"+this.month+"/"+this.year+"/"+this.st_id).then((function(e){var a=e.data;t.lists=a})):this.$alert("Fill all required fields","Empty Field","warning")},get_attendance:function(t){var e=this;document.getElementById("waiting").style.display="block",this.$http.post("/daily_staff_list/dslEachAttendance/"+t).then((function(t){var a=t.data;e.attendances=a,document.getElementById("waiting").style.display="none"}))}},filters:{money_filter:function(t){for(var e=t.toString().split("").reverse(),a=[],s=0;s<e.length;s++)a.unshift(e[s]),(s+1)%3==0&&a.unshift(",");var n=a.join("");return","==n.charAt(0)?n.slice(1):n},absent_filter:function(t){return 0==t?"ئامادەبوو":1==t?"نەهاتوو":"ئۆف/پشوو"}}},Kt=Vt,Wt=(a("5caf"),Object(c["a"])(Kt,qt,zt,!1,null,"1ecf9262",null)),Zt=Wt.exports;s["a"].use(f["a"]);var Xt=[{path:"/",component:A},{path:"/engineers",component:j},{path:"/employees",component:Q},{path:"/users",component:J},{path:"/attendance",component:X},{path:"/give_salary",component:it},{path:"/login",component:dt},{path:"/reports/staff",component:wt},{path:"/reports/engineer",component:$t},{path:"/reports/employee",component:Mt},{path:"/reports/givedSalary",component:Ht},{path:"/reports/topEmployees",component:Jt},{path:"/reports/staffList",component:Zt},{path:"*",component:ht}],te=new f["a"]({mode:"history",base:"/",routes:Xt}),ee=te,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 active"},[a("div",{staticClass:"container-fluid d-flex flex-column p-0"},[t._m(0),a("hr",{staticClass:"sidebar-divider my-0"}),a("ul",{staticClass:"nav navbar-nav text-light",attrs:{id:"accordionSidebar"}},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-home"}),t._v(" "),a("span",[t._v("Home")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/users"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v("Users")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/engineers"}},[a("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),a("span",[t._v("Supervisors")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/employees"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v("Employees")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/attendance"}},[a("i",{staticClass:"fas fa-hourglass"}),t._v(" "),a("span",[t._v("Attendance")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/give_salary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),a("span",[t._v("Give Salary")])])],1),a("li",{staticClass:"nav-item dropdown-submenu dropdown-toggle",attrs:{"data-toggle":"dropdown",role:"button"}},[t._m(1),a("ul",{staticClass:"dropdown-menu bg-primary"},[a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/staff"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v("Staff")])])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/engineer"}},[a("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),a("span",[t._v("Supervisors")])])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/employee"}},[a("i",{staticClass:"fas fa-users"}),t._v(" "),a("span",[t._v("Employees")])])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/givedSalary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),a("span",[t._v("Gived Salary")])])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/topEmployees"}},[a("i",{staticClass:"fas fa-chevron-up"}),t._v(" "),a("span",[t._v("Top Employees")])])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/reports/staffList"}},[a("i",{staticClass:"fas fa-list"}),t._v(" "),a("span",[t._v("Staff List reports")])])],1)])])]),t._m(2)])])},se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",attrs:{href:"#"}},[a("div",{staticClass:"sidebar-brand-icon"},[a("i",{staticClass:"material-icons"},[t._v("power")])]),a("div",{staticClass:"sidebar-brand-text mx-3"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"nav-link"},[a("i",{staticClass:"fa fa-file"}),t._v(" Reports ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"btn rounded-circle border-0",attrs:{id:"sidebarToggle",type:"button"}})])}],ne=a("1157"),ie=a.n(ne);ie()(document).ready((function(){ie()("#sidebarToggle, #sidebarToggleTop").on("click",(function(){ie()("nav").toggleClass("active")}))}));var le={name:"navbar",data:function(){return{isActive:!0}},mounted:function(){document.getElementById("sidebarToggleTop").classList.remove("d-md-none"),document.getElementById("sidebarToggleTop").style.display="inline-block !important"}},oe=le,re=(a("a4f1"),Object(c["a"])(oe,ae,se,!1,null,"1af6d57a",null)),ce=re.exports,_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top"},[s("div",{staticClass:"container-fluid"},[t._m(0),s("ul",{staticClass:"nav navbar-nav flex-nowrap ml-auto"},[s("div",{staticClass:"d-none d-sm-block topbar-divider"}),s("li",{staticClass:"nav-item dropdown no-arrow"},[s("div",{staticClass:"nav-item dropdown no-arrow"},[s("a",{staticClass:"dropdown-toggle nav-link",attrs:{"data-toggle":"dropdown","aria-expanded":"false",href:"#"}},[s("span",{staticClass:"d-none d-lg-inline mr-2 text-gray-600 small"},[t._v(" "+t._s(t.username)+" ")]),s("img",{staticClass:"border rounded-circle img-profile",attrs:{src:a("18d5")}})]),s("div",{staticClass:"dropdown-menu shadow dropdown-menu-right animated--grow-in"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}}),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.logout()}}},[s("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-800"}),t._v(" Logout")])])])])])])])},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop",type:"button"}},[a("i",{staticClass:"fas fa-bars"})])}],ue={name:"header-btn",data:function(){return{username:""}},created:function(){var t=this;this.$http.post("/getLoggedInfo").then((function(e){var a=e.data;t.username=a.username}))},methods:{logout:function(){this.$http.post("/logout").then((function(){window.location.href="/login"}))}}},me=ue,fe=Object(c["a"])(me,_e,de,!1,null,null,null),pe=fe.exports;s["a"].config.productionTip=!1,l.a.defaults.withCridentials=!0,s["a"].prototype.$http=l.a,s["a"].use(n["a"]),s["a"].component("navbar",ce),s["a"].component("header-btn",pe),new s["a"]({router:ee,render:function(t){return t(u)}}).$mount("#app")},"5caf":function(t,e,a){"use strict";var s=a("2407"),n=a.n(s);n.a},"70ff":function(t,e,a){},7107:function(t,e,a){"use strict";var s=a("c35b"),n=a.n(s);n.a},"819a":function(t,e,a){},"827f":function(t,e,a){"use strict";var s=a("70ff"),n=a.n(s);n.a},8555:function(t,e,a){},"85ec":function(t,e,a){},"8c2d":function(t,e,a){"use strict";var s=a("277e"),n=a.n(s);n.a},a4f1:function(t,e,a){"use strict";var s=a("adda"),n=a.n(s);n.a},adda:function(t,e,a){},b926:function(t,e,a){"use strict";var s=a("8555"),n=a.n(s);n.a},c35b:function(t,e,a){},c5aa:function(t,e,a){}});
//# sourceMappingURL=app.f7228a54.js.map