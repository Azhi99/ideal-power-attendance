(function(e){function t(t){for(var s,l,o=t[0],r=t[1],_=t[2],c=0,m=[];c<o.length;c++)l=o[c],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&m.push(n[l][0]),n[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,_||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(s=!1)}s&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},n={app:0},i=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var _=0;_<o.length;_++)t(o[_]);var d=r;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"09e4":function(e,t,a){},"11e6":function(e,t,a){"use strict";a("f76a")},"15c8":function(e,t,a){"use strict";a("a408")},"18d5":function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACFQTFRF5+fn2tra29rb6Ojo6+vr6enp6urq3Nvc/v7+////3dzdt9Y8UgAAC8FJREFUeNrt3b+OG8kRBvBK/QAKpPRgHcTsjEvIVMGBzGT7YJChE2E2thZYvkGHEv9c92bikhxwntKU4LVhwL6d6f6qWNVTHRxwiYD+8evqmtmZHupGO9rv/6Vu5MMBHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHOD3x4/HX/+Svo/Nr39tJyMDmLz/PvXwn/9uFpPRALTv/z335xHj9f83v4wC4Nv0/3v2zyPcgkAa4HC+TvR/z/+ag5B2h7oBjsv0/2b/nIKf1/UCXNMf0wsjCq8DSYBJ88LP/xyCu0mVAPcv//zPIditKwQ49/r5/xWC/bo2gOvy7z//q4BYIRACaJtB8/9eCGoCaJcxDRwxfawIYD54/t8EFtUA3GfM/yogshdIAJwHrn/RvUAA4D5z/leB3aQGgOz5XwUe7QO0y/z5XwU+mgeYx4L5C2wF3AD3RfP/thVMbAOkUAbAXgaYAZrS+V8F7gwDnGPx/Ln7IdK9APgXASvAHDH/q8DCKMDbCJl/jLs3JgEOS0wArhH4YBLgUwTNP8XNxCJAQgWAtQ7yAVxw878KGASIwPmn+GgOYB6QCeDrB7kAjtAAXCOwNwbQBCwAWzdEFioAZxVgArigA8C2EZCRALBFgAfgIeATkMLaDMBhmTjGBzMAP0SO+cfNGysATWBJQFgZATiyBICpGeIAuPAEgGcnZABomQJwjcBvJgBOiW3sTQA0gQ2A4YKAASDyJYChG8QDPPAFgKMbxAM0iXOs1AMcI+f88a0AmVoBDGsADrBMvONOO0DknT98HyBbKwC/BsjUHsCwD4AB2sg9f/T1ABjgxB4A9PUAGSsB8CJA1koAughgAY6Rf/7gZpCsrQD0GsACLJPEuFML0EaJ+WM3QijAWSQAaacWQKQEgIsAFGAukwDoI/RQgKkQwEwpgEwNBFdBJMBJKADQywGyVwOxVRAJ0EglAHk5AAQ4RKn5x886EyAWAOSNQSDAWQwA2QuSwRoIrYJAgLlcAoC9IBBgKggwUwjQRrn5A3tBHMBRMABxqxDgSRAgbRQCvAuCAGGiD+AimYCkMAGNKMBKH0CUnD+uGYYBtKIBSL+pAzjKAmzVATzJAmzUAVyCKEBQB/Agm4C01gYwFwZYaAOYCgPMtAFE2fnDGgEYgHAAkjaAgzTAZ0+ALoCjNMBWGcCTNMBGGYBwI4hrBWEA0glIygBeiwNMdAG8EwdY+xJQBTAXB1joAmjEAVYO4ACaAKbiADNdAFF6/qgbAigA8QAkB3AAB3AAB3AAB3AAB3AAvxbwq0EN9wOk/y7gN0QcwO8K+98F/C9DowaY+BLQBTD25wNG/4SI9DNCUdszQv6coDTAF0+AMoDRPyssfUNA3dPic+FGYKEN4MHmpYC/M+RvjaH+IdlWMOp7b3D0b46O/t1hoeM0wbdEoecHiG4DnT6A12M/QWL0Z4iI7oMaT5EZ/TlCoz9JSvR6cKERYPSnyZ3kAgA8VdXkiZJJ54mSgmeKftGZALmrgTudAKM/V1jsVFXk+fp+tjjw3xr96fJiveBCK8DovzBxMtcH+ldmwN8ZknledKUXYPRfmhr9t8ZELgc0f23OvzcocDmw6zQDjP6bo+xFIKK/vOzfHQYDjP7L0+zN4Eo7wOi/Ps/bDILbQA4A1n0gwlcAAwDrGoCvAAYAzn0AvgewADC+RhwWFgBOiU1g11kA4LseQF8HMAHwPTAXOhsAXK0AvglgAuiWPBEIKysAr1giEHcTKwBfpyxd4E+dFQCebhDfBfIBMHSDkaELZARg2AlDZwkAHwGmALABwC8IGC4DWAHOEVwBtp0tAPTTIlwB4AOAVgGuLYAVALoRhM4eQAe8LRAeLQJ8irirgLVFgK9TVATCT51FgO5tRAVgYhMA1Q2Fu84oAKYOMlZAdoD7CGgBOBcANwCiH2TrAUUAyhcB7wLgByi9KOJsAUQAuiYWFQD0I0HyAG3RXhi4588PUFQGuAuADMA5WyDs1zUAdPeZAmHHP38RgMytIErMXwag+0NWAmZdJQCHc8xaA7NJHQBtk1cDYtpXUQP+Mc1uhcLmF/sA51TQCgb2RpAboH1fdjUU08+mrwVyl79gIWAFaJeAu4LM7RCx/v6Qu6K8DTEp//3ZM0Daf3/uDJD63585A6T/9+fNABn4/VkzQBZ+f84M8ABcGB4VDYYekzuzPCrLc4OUA+A+BYYnRWNMH40AcL0xEpMJgHbJ9sYMx11CPMCc8a2xsNUPcM/65mj4qB3gmFjfHY7QY7QYAA5L5vMD4I9LgAEu7EdooPshLMAfBc4RCn/WC9AuBU6SAu+FUIBG5DC1oPY0ubdCR2qGv+sEOEyFDpSMm4lKgIvYwcpB5cnSZ8HvCwCvjGEAh6Xg6frAdggG8En0O0Phb+oAkuhXdnC3Bqx+d1jbFyePwl/cxD1DDQKYB+kEoN6kxAC8FQ8ArB+EAHydBnmAuHmjBuDVDQJwjcAHLQA3CQAqAgiATzcJAKgbQgCkcBsASDcEALjcaP6YbggAENPNRtAAcLsAQCJAlgOAiEAxwEO4JUD5AXtU3AOkm47iXqAU4FW8LUBxO0ilAQi3BShuB8l2AMojUAiwDLcGiLtbAhxvHoDiW0NlAPNwe4DCW0NkPQClESgCuAQNAGX9cAlAqyIAhWdtlgD8kHQkIP3pRgBN0JGAogOXCwDOSlZA2R+LyX4AyiJQAKAmAEW3BfIBHoIegILbAvkAy6Ro7OQBjlETQH43mA1wCZoA8rvBXIBWVQAKusFcgFPSlYDsLzCR+SagsBUg+01AWStA9puAslaAKmgCiloBqqAJKGoFqJIVkL0G8gCapHDs5QA0roDcNUC1rIDcNUCV7AHZ+wBVswIy1wBVswIy1wDVsgfk7gNUzwrIWwNUzwrIWwNUzR6QuQ8MB2ijXoCM+0LDAU5J8VgJADRB7/wz7gtRTSsgZw1QVSsgYw1QPZtg3kZI1bSBmc0gVVUCMooA1VUChhcBqmgTzNoIqa4VMHwNDAQ4J/XjjhXgIWif/9CNcCDAUn8CdpwA+kvA4CJAtZWAoUWAKisBg4sA1VYChhYBqq0EDC0CVF0JGFgEqLYSMLQIUHUlYGARoOpKwMAiQPWVgGFFgKorAQOLwBCAuZUEbJkAplYANjwAVmrgsCo4AOCUzIwVC4CVGjisCg4AaOwkYM8BYKcEDCoC/QGOydBYMAA8WQKYMQDYqYGDqmB/gKWlBOzwAJZq4JAqSFXWwAFVkKqsgQOqINVYA4dUQaqwDxzUC/YFOERbAGGCTkAyNtAJOFsDuAMD2KqBA6pgX4C5tQRswQBTawAbLEAbrQH0bYapykZ4QDNMVTbCA5phqnMT6L8NUKWbQO9tgCrdBHpvA1TpJtB7G6BaN4G+2wDVugn03Qb6AbwL9uYfvwABLhYT8AgEaCwC7IEA0SJAwAG0yeRYwwCONgEWMIAnmwAzGMDrYHH+8TMM4GIzAY8wgLlNgC0MYGoTYIMCOESbAL3+OtQrAcnoQCXgaBVgAQJ4sgowAwHYbAN6NgJUbxvQrxGgetuAfo0A1dsG9GsE+gBEqwABA3BIZscEkwC7AJgEHO0CLCAAT3YBZhCAS7A6/z4f3ugB8NpuAj5jEmAXAJOAuV2ALQRgahdgAwGIdgECAsBwI9inFaSaG8E+rSDV3Aj2aQVfBjhZBlgBAJ4sA8wAAHY74V698MsA7ywn4IsDAJaAZQDEEphbBtgCABrLRXAPAJhaTsAGABAtAwQAQDI9ygEOtgEmxQCtbYC1L4FSgKNtgEUxwMk2wMoBSgGebAPMigEs3w7oc0OAqr4Y7HE56ABV3w/pcUfEARzAa0DFd8R63BN7EaCxDbB3gBfGPwH8NUHnja3onQAAAABJRU5ErkJggg=="},"1e6b":function(e,t,a){},"22fa":function(e,t,a){},2770:function(e,t,a){"use strict";a("ef2e")},"32a9":function(e,t,a){"use strict";a("b13c")},"32d9":function(e,t,a){"use strict";a("f23f")},"3ca8":function(e,t,a){"use strict";a("cbe5")},"4f33":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),n=a("683f"),i=(a("77ed"),a("bc3a")),l=a.n(i),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("div",{attrs:{id:"app"}},[a("router-view")],1)])],1)},r=[],_=(a("8149"),a("2877")),d=a("6544"),c=a.n(d),m=a("7496"),u=a("f6c4"),p={},g=Object(_["a"])(p,o,r,!1,null,null,null),h=g.exports;c()(g,{VApp:m["a"],VMain:u["a"]});var f=a("9483");Object(f["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var y=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft rtl",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),"E"==e.user.type?a("div",{staticClass:"alert alert-info text-center m-1"},[e._v(" Sorry, you can't see this page content ")]):a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0",attrs:{id:"home_page"}},[e._v(" "+e._s(e.indexLanguage[e.language].home_page)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-primary py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-primary font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(e.indexLanguage[e.language].number_of_employees)+" ")])]),a("hr"),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[a("span",[e._v(" "+e._s(e.noOfEmployees)+" ")])])]),e._m(0)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-success py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-success font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(e.indexLanguage[e.language].number_of_engineers)+" ")])]),a("hr"),a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[a("span",[e._v(" "+e._s(e.engineers.length)+" ")])])]),e._m(1)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-info py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(e.indexLanguage[e.language].number_of_staffs)+" ")])]),a("hr"),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[a("span",[e._v(" "+e._s(e.staffs.length)+" ")])])])])]),e._m(2)])])])]),a("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[a("div",{staticClass:"card shadow border-left-danger py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center no-gutters"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(e.indexLanguage[e.language].number_of_expired_passport)+" ")])]),a("hr"),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[a("span",[e._v(" "+e._s(e.noOfExpired)+" ")])])])])]),e._m(3)])])])])]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_jobs"}},[e._v(" "+e._s(e.indexLanguage[e.language].jobs)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staffs"}},[e._v(" "+e._s(e.indexLanguage[e.language].staffs)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_staff_history"}},[e._v(" "+e._s(e.indexLanguage[e.language].employee_staff_history)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_active_history"}},[e._v(" "+e._s(e.indexLanguage[e.language].employee_active_history)+" ")])]),["A","U"].includes(e.user.type)?a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staff_list"}},[e._v(" "+e._s(e.indexLanguage[e.language].add_staff_list_for_rest_days)+" ")])]):e._e(),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_foods"}},[e._v(" "+e._s(e.indexLanguage[e.language].foods_number)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_expired_passports"}},[e._v(" "+e._s(e.indexLanguage[e.language].expired_passports)+" ")])]),a("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_transfered_employees"}},[e._v(" "+e._s(e.indexLanguage[e.language].transfered_employees)+" ")])])]),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.list_date,expression:"list_date"}],staticClass:"form-control mb-2 col-xl-8",attrs:{type:"date"},domProps:{value:e.list_date},on:{input:function(t){t.target.composing||(e.list_date=t.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-dark text-center col-xl-8"},[a("thead",[a("th",{staticStyle:{width:"9%"}},[e._v(" "+e._s(e.indexLanguage[e.language].list_id)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].staff)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].user)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].location)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].note)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].detail)+" ")])]),a("tbody",e._l(e.daily_list,(function(t){return a("tr",{key:t.dsl_id},[a("td",[e._v(" "+e._s(t.dsl_id)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.user)+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.note)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_list_detail"},on:{click:function(a){return e.get_list_details(t.dsl_id,t.st_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_jobs"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_job()}}},[e._v(" × ")]),a("h5",{staticClass:"mt-2 jobs"},[e._v(" "+e._s(e.indexLanguage[e.language].jobs)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-3"},[e._v(" "+e._s(e.indexLanguage[e.language].id)+": ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[e._v(" "+e._s(e.single_job.job_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].job_title)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_job.job_title,expression:"single_job.job_title"}],staticClass:"col-sm-9 form-control",attrs:{type:"text"},domProps:{value:e.single_job.job_title},on:{input:function(t){t.target.composing||e.$set(e.single_job,"job_title",t.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=e.single_job.job_id,"col-sm-12":null==e.single_job.job_id}},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(t){return e.add_job()}}},[e._v(" "+e._s(e.indexLanguage[e.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]),null!=e.single_job.job_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_job"},on:{click:function(t){return e.update_job()}}},[e._v(" "+e._s(e.indexLanguage[e.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):e._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.job_search,expression:"job_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:e.indexLanguage[e.language].search+"..."},domProps:{value:e.job_search},on:{input:function(t){t.target.composing||(e.job_search=t.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"6%"}},[e._v(" "+e._s(e.indexLanguage[e.language].id)+" ")]),a("th",{staticClass:"job_title"},[e._v(" "+e._s(e.indexLanguage[e.language].job_title)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.indexLanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_jobs,(function(t){return a("tr",{key:t.job_id},[a("td",[e._v(" "+e._s(t.job_id)+" ")]),a("td",[e._v(" "+e._s(t.job_title)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return e.get_job(t.job_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.delete_job(t.job_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staffs"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_staff()}}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].staffs)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].id)+": ")]),a("label",{staticClass:"col-sm-9 form-control disable mt-2"},[e._v(" "+e._s(e.single_staff.st_id)+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].supervisor)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_staff.en_id,expression:"single_staff.en_id"}],staticClass:"col-sm-9 form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_staff,"en_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._l(e.engineers,(function(t){return a("option",{key:t.en_id,domProps:{value:t.en_id}},[e._v(" "+e._s(t.full_name)+" ")])}))],2)]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].staff_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_staff.staff_name,expression:"single_staff.staff_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text",placeholder:"Enter name of the staff"},domProps:{value:e.single_staff.staff_name},on:{input:function(t){t.target.composing||e.$set(e.single_staff,"staff_name",t.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("div",{class:{"col-sm-6":null!=e.single_staff.st_id,"col-sm-12":null==e.single_staff.st_id}},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_staff"},on:{click:function(t){return e.add_staff()}}},[e._v(" "+e._s(e.indexLanguage[e.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]),null!=e.single_staff.st_id?a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_staff"},on:{click:function(t){return e.update_staff()}}},[e._v(" "+e._s(e.indexLanguage[e.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):e._e()]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.staff_search,expression:"staff_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:e.indexLanguage[e.language].search+"..."},domProps:{value:e.staff_search},on:{input:function(t){t.target.composing||(e.staff_search=t.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"6%"}},[e._v(" "+e._s(e.indexLanguage[e.language].id)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].staff_name)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.indexLanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_staffs,(function(t){return a("tr",{key:t.st_id},[a("td",[e._v(" "+e._s(t.st_id)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",on:{click:function(a){return e.get_staff(t.st_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.delete_staff(t.st_id)}}},[a("i",{staticClass:"fa fa-trash"})]),1==t.show_staff?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return e.show_off(t.st_id)}}},[a("i",{staticClass:"fa fa-eye-slash"})]):a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.show_on(t.st_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_staff_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].employee_staff_history)+" ")])]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.staff_log_search_value,expression:"staff_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:e.indexLanguage[e.language].search+"..."},domProps:{value:e.staff_log_search_value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search_staff_log()},input:function(t){t.target.composing||(e.staff_log_search_value=t.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(t){return e.get_limited_data_staff_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.indexLanguage[e.language].id)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].employee)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].old_staff)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].new_staff)+" ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.indexLanguage[e.language].change_date)+" ")]),a("th",{staticStyle:{width:"5%"}},[e._v(" "+e._s(e.indexLanguage[e.language].delete)+" ")])]),a("tbody",e._l(e.staff_change_log,(function(t){return a("tr",{key:t.sle_id},[a("td",[e._v(" "+e._s(t.sle_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.old_staff)+" ")]),a("td",[e._v(" "+e._s(t.new_staff)+" ")]),a("td",[e._v(" "+e._s(t.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return e.delete_staff_log(t.sle_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("hr"),a("div",{attrs:{id:"pagination_staff_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.previous_pagination_staff_log()}}},[e._v(" < ")]),e._l(Math.ceil(e.noOfStaffLog/20),(function(t){return a("button",{key:t,staticClass:"btn btn-outline-primary mx-1 pagination-btns-staff-log",class:"pg-staff-log-group-"+Math.ceil(t/5),staticStyle:{display:"none"},on:{click:function(a){return e.get_limited_data_staff_log(t)}}},[e._v(" "+e._s(t)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.next_pagination_staff_log()}}},[e._v(" > ")])],2)])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_active_history"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].employee_active_history)+" ")])]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_log_search_value,expression:"active_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:e.indexLanguage[e.language].search+"..."},domProps:{value:e.active_log_search_value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.active_log_search()},input:function(t){t.target.composing||(e.active_log_search_value=t.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(t){return e.get_limited_data_active_log(1)}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.indexLanguage[e.language].id)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].employee)+" ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.indexLanguage[e.language].change_type)+" ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.indexLanguage[e.language].change_date)+" ")]),a("th",{staticStyle:{width:"5%"}},[e._v(" "+e._s(e.indexLanguage[e.language].delete)+" ")])]),a("tbody",e._l(e.active_change_log,(function(t){return a("tr",{key:t.ale_id},[a("td",[e._v(" "+e._s(t.ale_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",{class:{"alert-success":"Set to Active"==t.change_type,"alert-danger":"Set to Deactive"==t.change_type}},[e._v(" "+e._s(t.change_type)+" ")]),a("td",[e._v(" "+e._s(t.change_date.slice(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return e.delete_active_log(t.ale_id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)]),a("div",{attrs:{id:"pagination_active_change"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.previous_pagination_active_log()}}},[e._v(" < ")]),e._l(Math.ceil(e.noOfActiveLog/20),(function(t){return a("button",{key:t,staticClass:"btn btn-outline-primary mx-1 pagination-btns-active-log",class:"pg-active-log-group-"+Math.ceil(t/5),staticStyle:{display:"none"},on:{click:function(a){return e.get_limited_data_active_log(t)}}},[e._v(" "+e._s(t)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.next_pagination_active_log()}}},[e._v(" > ")])],2)])])])]),["A","U"].includes(e.user.type)?a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff_list"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(4),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.list_rest_days.work_date,expression:"list_rest_days.work_date"}],staticClass:"form-control mb-2",attrs:{type:"date"},domProps:{value:e.list_rest_days.work_date},on:{input:function(t){t.target.composing||e.$set(e.list_rest_days,"work_date",t.target.value)}}}),a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_rest_day"},on:{click:function(t){return e.create_list_rest_day()}}},[e._v(" "+e._s(e.indexLanguage[e.language].create_list_for_all_staffs)+" "),a("i",{staticClass:"fa fa-plus"})]),a("hr"),a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[e._v(" "+e._s(e.indexLanguage[e.language].waiting)+" ... ")])])])])]):e._e(),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_list_detail"}},[a("div",{staticClass:"modal-dialog modal-lg text-center"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].list_detail)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",[e._v(" "+e._s(e.indexLanguage[e.language].employee)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].status)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].location)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].overtime)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].worked_hours)+" ")])]),a("tbody",e._l(e.filtered_list_detail,(function(t){return a("tr",{key:t.at_id,class:{"bg-warning text-white":t.st_id!=e.st_id}},[a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",{class:{"text-success":0==t.status,"text-danger":1==t.status,"text-warning":2==t.status}},[e._v(" "+e._s(e._f("absent_filter")(t.status,e.language))+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.overtime)+" ")]),a("td",[e._v(" "+e._s(t.worked_hours)+" ")])])})),0)])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_foods"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].foods_number)+" ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",[e._v(" "+e._s(e.indexLanguage[e.language].staff)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].location)+" ")]),a("th",{staticStyle:{width:"20%"}},[e._v(" "+e._s(e.indexLanguage[e.language].foods_number)+" ")]),a("th",{staticStyle:{width:"25%"}},[e._v(" Food Group ")]),a("th",[e._v(" Date Time ")])]),a("tbody",e._l(e.staff_foods,(function(t,s){return a("tr",{key:s,class:{"bg-warning text-white":0==t.food_number}},[a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.food_number)+" ")]),a("td",[e._v(" "+e._s(t.food_group)+" ")]),a("td",[e._v(" "+e._s(t.datetime_food?new Date(t.datetime_food).toISOString().split("T")[0]:"")+" "+e._s(t.datetime_food?new Date(t.datetime_food).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)]),a("hr"),a("table",{staticClass:"table table-bordered table-striped text-dark"},[a("thead",[a("th",{staticClass:"bg-success text-light"},[e._v(" "+e._s(e.indexLanguage[e.language].total)+" ")]),a("th",{staticClass:"bg-success text-light",staticStyle:{width:"70%"}},[e._v(" "+e._s(e.total_foods)+" ")])])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expired_passports"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].expired_passports)+" ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"40%"}},[e._v(" "+e._s(e.indexLanguage[e.language].employee)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].staff)+" ")]),a("th",{staticStyle:{width:"23.5%"}},[e._v(" "+e._s(e.indexLanguage[e.language].expire_date)+" ")])]),a("tbody",e._l(e.expired_passports,(function(t,s){return a("tr",{key:s},[a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.expire_date.slice(0,10))+" ")])])})),0)])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_transfered_employees"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].transfered_employees)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].year)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transfered_employees.year,expression:"transfered_employees.year"}],staticClass:"form-control col-sm-1",attrs:{type:"number"},domProps:{value:e.transfered_employees.year},on:{input:function(t){t.target.composing||e.$set(e.transfered_employees,"year",t.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" "+e._s(e.indexLanguage[e.language].month)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.transfered_employees.month,expression:"transfered_employees.month"}],staticClass:"form-control col-sm-1",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.transfered_employees,"month",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"col-sm-2 mt-2 ml-3"},[e._v(" "+e._s(e.indexLanguage[e.language].from_staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.transfered_employees.old_st_id,expression:"transfered_employees.old_st_id"}],staticClass:"form-control col-sm-3",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.transfered_employees,"old_st_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),a("hr"),a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.indexLanguage[e.language].employee)+" ")]),a("th",{staticStyle:{width:"23.5%"}},[e._v(" "+e._s(e.indexLanguage[e.language].new_staff)+" ")]),a("th",[e._v(" "+e._s(e.indexLanguage[e.language].work_date)+" ")])]),a("tbody",e._l(e.transfered_employees.employees,(function(t){return a("tr",{key:t.t_at_id},[a("td",[e._v(" "+e._s(t.employee)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(new Date(t.work_date).toISOString().split("T")[0])+" ")])])})),0)])])])])])],1)},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-user-tie fa-2x text-gray-600"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-user-nurse fa-2x text-gray-600"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-users fa-2x text-gray-600"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-1 float-left"},[a("i",{staticClass:"fas fa-passport fa-2x text-gray-600"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")])])}],C=function(e){422==e.response.status?n["a"].alert(e.response.data.error[0].msg,"","error"):n["a"].alert(e.response.data.message,"","error")};l.a.defaults.withCredentials=!0;var x=function(e){var t=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","foodList"],a=["index","attendance","staffReport","staffListReport","salaryList"];l.a.post("/isLogged").then(()=>{l.a.post("/getLoggedInfo").then(({data:s})=>{"U"==s.type&&!t.includes(e)||"E"==s.type&&!a.includes(e)?n["a"].alert("You are not authorized to use this part","Sorry","warning").then(()=>{window.location.href="/"}):(document.getElementById("content-wrapper").style.display="block",document.getElementById("nav").style.display="")})}).catch(()=>{window.location.href="/login"})},w=a("1157"),S=a.n(w),A={Kurdish:{home_page:"پەڕەی سەرەکی",number_of_employees:"ژمارەی کارمەندەکان",number_of_engineers:"ژمارەی سەرپەرشتیارەکان",number_of_staffs:"ژمارەی ستافەکان",number_of_expired_passport:"ژمارەی پاسپۆرتە بەسەرچووەکان",foods_number:"ژمارەی خواردنەکان",jobs:"کارەکان",staffs:"ستافەکان",employee_staff_history:"مێژووی گۆڕینی ستافی کارمەندان",employee_active_history:"مێژووی ئەکتیڤ بوونی کارمەندان",add_staff_list_for_rest_days:"دروست کردنی لیستی ستافەکان بۆ ڕۆژانی پشوو",id:"کۆد",list_id:"کۆدی لیست",staff:"ستاف",user:"بەکارهێنەر",location:"شوێن",note:"تێبینی",detail:"ناوەڕۆک",job_title:"كـار",add:"زیادکردن",save_changes:"گۆڕانی زانیاری",actions:"کردارەکان",supervisor:"سەرپەرشتیار",staff_name:"ناوی ستاف",employee:"کارمەند",old_staff:"ستافی کۆن",new_staff:"ستافی تازە",change_date:"بەرواری گۆڕین",delete:"سڕینەوە",change_type:"جۆری گۆڕانکاری",create_list_for_all_staffs:"دروست کردنی لیست بۆ هەموو ستافەکان",waiting:"چاوەڕوانبە",list_detail:"ناوەڕۆکی لیست",status:"دۆخ",present:"ئامادەبوو",absent:"نەهاتوو",off:"پشوو",search:"گـەڕان",total:"کۆی گشتی",expired_passports:"پاسپۆرتە بەسەرچووەکان",expire_date:"بەرواری بەسەرچوون",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},English:{home_page:"Home Page",number_of_employees:"Number Of Employees",number_of_engineers:"Number Of Supervisors",number_of_staffs:"Number Of Staffs",number_of_expired_passport:"Number Of Expired Passports",foods_number:"Food numbers",jobs:"Jobs",staffs:"Staffs",employee_staff_history:"Employee staff history",employee_active_history:"Employee active history",add_staff_list_for_rest_days:"Add staff lists for rest days",id:"ID",list_id:"List ID",staff:"Staff",user:"User",location:"Location",detail:"Detail",note:"Note",job_title:"Job Title",add:"Add",save_changes:"Save Changes",actions:"Actions",supervisor:"Supervisor",staff_name:"Staff name",employee:"Employee",old_staff:"Old Staff",new_staff:"New Staff",change_date:"Change Date",delete:"Delete",change_type:"Change Type",create_list_for_all_staffs:"Create List for all staffs",waiting:"Waiting",list_detail:"List Detail",status:"Status",present:"Present",absent:"Absent",off:"Off",search:"Search",total:"Total",expired_passports:"Expired passports",expire_date:"Expire date",overtime:"Overtime",worked_hours:"Worked hours",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},Arabic:{home_page:"الصفحة الرئيسية",number_of_employees:"عدد الموظفين",number_of_engineers:"عدد المشرفين",number_of_staffs:"عدد العاملین",number_of_expired_passport:"عدد جوازات السفر منتهية الصلاحية",foods_number:"عدد الوجبات الطعام",jobs:"يعمل",staffs:"العاملين",employee_staff_history:"تاريخ تغيير الموظفين",employee_active_history:"تاريخ نشاط الموظف",add_staff_list_for_rest_days:"إنشاء قائمة الموظفين للإجازات",id:"رقـم",list_id:"رقم القائمة",staff:"العاملين",user:"المستعمل",location:"موقع",note:"ملاحظة",detail:"المحتوى",job_title:"عـمل",add:"اضافة",save_changes:"تغيير المعلومات",actions:"أجراءات",supervisor:"مشرف",staff_name:"اسم العاملین",employee:"موظف",old_staff:"العاملین القدامى",new_staff:"العاملین جديد",change_date:"تاريخ التغيير",delete:"حذف",change_type:"نوع التغيير",create_list_for_all_staffs:"إنشاء قائمة لجميع العاملین",waiting:"انتظر",list_detail:"محتوى القائمة",status:"حالة",present:"كان حاضرا",absent:"غیاب",off:"يوم الاجازة",search:"بحث",total:"مجموع",expired_passports:"جوازات السفر منتهية الصلاحية",expire_date:"تاريخ إنتهاء الصلاحية",overtime:"وقت إضافي",worked_hours:"وقت العمل",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"}};const k=new s["a"],L=["",null];var E={name:"Index",data(){return{noOfEmployees:0,noOfStaffLog:0,noOfActiveLog:0,noOfExpired:0,max_pagination_btns_staff_change:0,current_pagination_btns_staff_change:1,max_pagination_btns_active_change:0,current_pagination_btns_active_change:1,list_date:(new Date).toISOString().split("T")[0],jobs:[],staffs:[],single_job:{job_id:null,job_title:""},job_search:"",engineers:[],single_staff:{st_id:null,en_id:null,staff_name:""},staff_search:"",staff_change_log:[],active_change_log:[],staff_log_search_value:"",active_log_search_value:"",daily_list:[],list_details:[],dsl_id:null,st_id:null,list_rest_days:{work_date:(new Date).toISOString().split("T")[0]},staff_foods:[],total_foods:0,expired_passports:[],user:{type:"",username:""},transfered_employees:{month:(new Date).getMonth(),year:(new Date).getFullYear(),old_st_id:null,employees:[]},indexLanguage:A,language:"English"}},beforeCreate(){x("index")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.type=e.type}),this.$http.post("/index/").then(({data:e})=>{this.noOfEmployees=e.noOfEmployees,this.noOfStaffLog=e.noOfStaffLog,this.noOfActiveLog=e.noOfActiveLog,this.noOfExpired=e.noOfExpired;var t=Math.ceil(this.noOfStaffLog/20),a=Math.ceil(t/5);this.max_pagination_btns_staff_change=a;var s=Math.ceil(this.noOfActiveLog/20),n=Math.ceil(s/5);this.max_pagination_btns_active_change=n}),this.$http.post("/job/getData").then(({data:e})=>{this.jobs=e}),this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e}),this.$http.post("/engineer/getNames").then(({data:e})=>{this.engineers=e}),this.$http.post("/daily_staff_list/getDailyList",{work_date:this.list_date}).then(({data:e})=>{this.daily_list=e.lists,this.list_details=e.list_details}),this.$http.post("/daily_staff_list/getFoods",{work_date:this.list_date}).then(({data:e})=>{this.staff_foods=e.staff_foods,this.total_foods=e.total_foods}),this.$http.post("/expirePassport/getData").then(({data:e})=>{this.expired_passports=e}),this.get_limited_data_active_log(1),this.get_limited_data_staff_log(1)},mounted(){var e=setInterval(()=>{var t=document.getElementsByClassName("pg-staff-log-group-1");if(t.length>0){for(let e=0;e<t.length;e++)t[e].style.display="inline";clearInterval(e)}},750),t=setInterval(()=>{var e=document.getElementsByClassName("pg-active-log-group-1");if(e.length>0){for(let t=0;t<e.length;t++)e[t].style.display="inline";clearInterval(t)}},750);k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{previous_pagination_staff_log(){if(this.max_pagination_btns_staff_change>1){var e=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<e.length;t++)e[t].style.display="none";--this.current_pagination_btns_staff_change;var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},next_pagination_staff_log(){if(this.max_pagination_btns_staff_change<this.current_pagination_btns_staff_change){var e=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<e.length;t++)e[t].style.display="none";++this.current_pagination_btns_staff_change;var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},previous_pagination_active_log(){if(this.max_pagination_btns_active_change>1){var e=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<e.length;t++)e[t].style.display="none";--this.current_pagination_btns_active_change;var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},next_pagination_active_log(){if(this.max_pagination_btns_active_change<this.current_pagination_btns_active_change){var e=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<e.length;t++)e[t].style.display="none";++this.current_pagination_btns_active_change;var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},get_limited_data_staff_log(e){var t=0;e>1&&(t=20*(e-1)),this.$http.post("/index/getStaffLogChange",{offset:t}).then(({data:e})=>{this.staff_change_log=e})},delete_staff_log(e){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteStaffLog/"+e).then(()=>{this.staff_change_log=this.staff_change_log.filter(t=>t.sle_id!=e),this.staff_log_search_value=""})})},get_limited_data_active_log(e){var t=0;e>1&&(t=20*(e-1)),this.$http.post("/index/getActiveLog",{offset:t}).then(({data:e})=>{this.active_change_log=e})},delete_active_log(e){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteActiveLog/"+e).then(()=>{this.active_change_log=this.active_change_log.filter(t=>t.ale_id!=e),this.active_log_search_value=""})})},get_job(e){const[t]=this.jobs.filter(t=>t.job_id==e);this.single_job.job_id=t.job_id,this.single_job.job_title=t.job_title},clear_job(){this.single_job.job_id=null,this.single_job.job_title=""},add_job(){L.includes(this.single_job.job_title)?this.$alert("Enter a job title","Empty field","warning"):this.$http.post("/job/addJob",{job_title:this.single_job.job_title}).then(({data:e})=>{this.jobs.push({job_id:e.job_id,job_title:this.single_job.job_title}),this.clear_job()}).catch(e=>{C(e)})},delete_job(e){this.$confirm("Are you sure delete this job ?","","question").then(()=>{this.$http.delete("/job/deleteJob/"+e).then(()=>{this.jobs=this.jobs.filter(t=>t.job_id!=e),this.clear_job()}).catch(e=>{C(e)})})},update_job(){null==this.single_job.job_id?this.$alert("Select a job","","warning"):L.includes(this.single_job.job_title)?this.$alert("Enter a job title","","warning"):this.$confirm("Are you sure to save changes ?","","question").then(()=>{document.getElementById("btn_update_job").setAttribute("disabled","disabled"),this.$http.patch("/job/updateJob/"+this.single_job.job_id,{job_title:this.single_job.job_title}).then(()=>{let e=this.jobs.findIndex(e=>e.job_id==this.single_job.job_id);this.jobs[e].job_title=this.single_job.job_title,this.$alert("","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_job").removeAttribute("disabled")})})},get_staff(e){const[t]=this.staffs.filter(t=>t.st_id==e);this.single_staff.st_id=t.st_id,this.single_staff.en_id=t.en_id,this.single_staff.staff_name=t.staff_name},clear_staff(){this.single_staff.st_id=null,this.single_staff.en_id=null,this.single_staff.staff_name=""},add_staff(){L.includes(this.single_staff.en_id)||L.includes(this.single_staff.staff_name)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_add_staff").setAttribute("disabled","disabled"),this.$http.post("/staff/addStaff",{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(({data:e})=>{this.staffs.push({st_id:e.st_id,en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}),this.clear_staff()}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_add_staff").removeAttribute("disabled")}))},delete_staff(e){this.$confirm("Are You sure delete this staff ?","","question").then(()=>{this.$http.delete("/staff/deleteStaff/"+e).then(()=>{this.staffs=this.staffs.filter(t=>t.st_id!=e),this.clear_staff()}).catch(e=>{C(e)})})},show_off(e){this.$http.patch("/staff/showOff/"+e).then(()=>{let t=this.staffs.findIndex(t=>t.st_id==e);this.staffs[t].show_staff=0}).catch(e=>{C(e)})},show_on(e){this.$http.patch("/staff/showOn/"+e).then(()=>{let t=this.staffs.findIndex(t=>t.st_id==e);this.staffs[t].show_staff=1}).catch(e=>{C(e)})},update_staff(){null==this.single_staff.st_id?this.$alert("Select a staff","","warning"):L.includes(this.single_staff.staff_name)||L.includes(this.single_staff.en_id)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_update_staff").setAttribute("disabled","disabled"),this.$http.patch("/staff/updateStaff/"+this.single_staff.st_id,{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(()=>{let e=this.staffs.findIndex(e=>e.st_id==this.single_staff.st_id);this.staffs[e].staff_name=this.single_staff.staff_name,this.staffs[e].en_id=this.single_staff.en_id,this.$alert("","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_staff").removeAttribute("disabled")}))},create_list_rest_day(){["A","U"].includes(this.user.type)&&(L.includes(this.list_rest_days.work_date)?this.$alert("Select a work date to create list","","warning"):this.$confirm("Are you sure create list for date "+this.list_rest_days.work_date+" ?","","question").then(()=>{document.getElementById("waiting").style.display="block",document.getElementById("btn_rest_day").setAttribute("disabled","disabled"),this.$http.post("/daily_staff_list/createRestList",{work_date:this.list_rest_days.work_date,user:this.user.username}).then(()=>{this.$alert("List successfully created","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("waiting").style.display="none",document.getElementById("btn_rest_day").removeAttribute("disabled")})}))},search_staff_log(){L.includes(this.staff_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchStaffLogChange",{search_value:this.staff_log_search_value}).then(({data:e})=>{this.staff_change_log=e})},search_transfered_employees(){this.transfered_employees.employees=[],this.transfered_employees.old_st_id?this.$http.get("/attendance/getTransferedEmployees/"+this.transfered_employees.year+"/"+this.transfered_employees.month+"/"+this.transfered_employees.old_st_id).then(({data:e})=>{this.transfered_employees.employees=e}):this.transfered_employees.employees=[]},active_log_search(){L.includes(this.active_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchActiveLogChange",{search_value:this.active_log_search_value}).then(({data:e})=>{this.active_change_log=e})},get_list_details(e,t){this.dsl_id=e,this.st_id=t}},computed:{filtered_jobs(){return this.jobs.filter(e=>e.job_id==this.job_search||e.job_title.match(this.job_search))},filtered_staffs(){return this.staffs.filter(e=>e.st_id==this.staff_search||e.en_id==this.staff_search||e.staff_name.match(this.staff_search))},filtered_list_detail(){return this.list_details.filter(e=>e.dsl_id==this.dsl_id)}},filters:{absent_filter(e,t){return[A[t].present,A[t].absent,A[t].off][e]}},watch:{list_date(e){this.$http.post("/daily_staff_list/getDailyList",{work_date:e}).then(({data:e})=>{this.daily_list=e.lists,this.list_details=e.list_details}),this.$http.post("/daily_staff_list/getFoods",{work_date:e}).then(({data:e})=>{this.staff_foods=e.staff_foods,this.total_foods=e.total_foods})},"transfered_employees.old_st_id":function(){this.search_transfered_employees()},"transfered_employees.year":function(){this.search_transfered_employees()},"transfered_employees.month":function(){this.search_transfered_employees()}}},D=E,$=(a("a2b4"),Object(_["a"])(D,v,b,!1,null,"0104be50",null)),I=$.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4 multi-language"},[e._v(e._s(e.enginnerslanguage[e.language].enginners_page))]),a("hr"),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_engineer,expression:"search_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:e.enginnerslanguage[e.language].search+"..."},domProps:{value:e.search_engineer},on:{input:function(t){t.target.composing||(e.search_engineer=t.target.value)}}}),a("button",{staticClass:"btn btn-danger float-right mb-2 mx-2",attrs:{"data-toggle":"modal","data-target":"#mdl_deactived_engineers"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].btn_deactive)+" ")])]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].ID)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].first_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].last_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].job_title)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"14%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].status)+" ")]),a("th",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_engineers,(function(t){return a("tr",{key:t.en_id},[a("td",[e._v(" "+e._s(t.en_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name)+" ")]),a("td",[e._v(" "+e._s(t.last_name)+" ")]),a("td",[e._v(" "+e._s(t.job_title)+" ")]),a("td",[e._v(" "+e._s(t.phone1)+" ")]),a("td",[e._v(" "+e._s(t.phone2)+" ")]),a("td",[e._v(" "+e._s(e._f("date_filter")(t.reg_date))+" ")]),a("td",{staticClass:"text-success"},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_engineer"},on:{click:function(a){return e.get_engineer(t.en_id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.deactive_engineer(t.en_id)}}},[a("i",{staticClass:"fa fa-lock"})])])])})),0)])])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_engineer"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_engineer()}}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.enginnerslanguage[e.language].en_info)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.enginnerslanguage[e.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_engineer.first_name,expression:"single_engineer.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:e.single_engineer.first_name},on:{input:function(t){t.target.composing||e.$set(e.single_engineer,"first_name",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.enginnerslanguage[e.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_engineer.last_name,expression:"single_engineer.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:e.single_engineer.last_name},on:{input:function(t){t.target.composing||e.$set(e.single_engineer,"last_name",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.enginnerslanguage[e.language].job_title)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_engineer.job_id,expression:"single_engineer.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_engineer,"job_id",t.target.multiple?a:a[0])}}},e._l(e.jobs,(function(t){return a("option",{key:t.job_id,domProps:{value:t.job_id}},[e._v(" "+e._s(t.job_title)+" ")])})),0)]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_engineer.phone1,expression:"single_engineer.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first phone number"},domProps:{value:e.single_engineer.phone1},on:{input:function(t){t.target.composing||e.$set(e.single_engineer,"phone1",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_engineer.phone2,expression:"single_engineer.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter second phone number"},domProps:{value:e.single_engineer.phone2},on:{input:function(t){t.target.composing||e.$set(e.single_engineer,"phone2",t.target.value)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_engineer"},on:{click:function(t){return e.update_engineer()}}},[e._v(" "+e._s(e.enginnerslanguage[e.language].btn_save)+" "),a("i",{staticClass:"fa fa-save"})])]),a("div",{staticClass:"col-xl-6 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(t){return e.delete_engineer()}}},[e._v(" "+e._s(e.enginnerslanguage[e.language].btn_delete)+" "),a("i",{staticClass:"fa fa-trash"})])])])])])])])]),a("div",{staticClass:"modal",attrs:{id:"mdl_deactived_engineers"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.enginnerslanguage[e.language].deactive_list)+" ")]),a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row overflow-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_deactive_engineer,expression:"search_deactive_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:e.enginnerslanguage[e.language].search+"..."},domProps:{value:e.search_deactive_engineer},on:{input:function(t){t.target.composing||(e.search_deactive_engineer=t.target.value)}}}),a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].ID)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].first_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].last_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].job_title)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].status)+" ")]),a("th",{staticStyle:{width:"5%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_deactived_engineers,(function(t){return a("tr",{key:t.en_id},[a("td",[e._v(" "+e._s(t.en_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name)+" ")]),a("td",[e._v(" "+e._s(t.last_name)+" ")]),a("td",[e._v(" "+e._s(t.job_title)+" ")]),a("td",[e._v(" "+e._s(t.phone1)+" ")]),a("td",[e._v(" "+e._s(t.phone2)+" ")]),a("td",[e._v(" "+e._s(t.reg_date.slice(0,10))+" ")]),a("td",{staticClass:"text-danger"},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return e.active_engineer(t.en_id)}}},[a("i",{staticClass:"fa fa-unlock"})])])])})),0)])])])])])])])],1)},B=[],j={Kurdish:{enginners_page:"سەرپەرشتیارەکان",btn_deactive:"سەرپەرشتیارە ناچالاکەکان",search:"گەڕان",ID:"کۆد",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",job_title:"جۆری کار",phone:"ژ.مۆبایل",registration_date:"بەرواری تۆمارکردن",status:"دۆخ",actions:"کردارەکان",deactive:"ناچالاک",active:"چالاک",en_info:"زانیاری سەرپەرشتیارەکان",btn_save:"گۆڕینی زانیاری",btn_delete:"سڕینەوە",deactive_list:"لیستی سەرپەرشتیارە ناچالاکەکان",btn_deactived:"ناچالاک کراوەکان",btn_actived:"چالاک کراوەکان",see_staff:"بینینی ستافەکان",staffs:"ستافەکان",staff:"ستاف"},English:{enginners_page:"Supervisors",btn_deactive:"Deactived Supervisors",search:"Search",ID:"ID",first_name:"First Name",last_name:"Last Name",job_title:"Job Title",phone:"phone",registration_date:"Registration Date",status:"Status",actions:"Actions",deactive:"Deactive",active:"Active",en_info:"Supervisors Information",btn_save:"Save Change",btn_delete:"Delete",deactive_list:"Deactived Supervisors List",btn_deactived:"Deactived",btn_actived:"Actived",see_staff:"See Staffs",staffs:"Staffs",staff:"Staff"},Arabic:{enginners_page:"المشرفين",btn_deactive:"المشرفون غير النشطين",search:"بحث",ID:"رقـم",first_name:"الاسم الاول",last_name:"الاسم الثاني",job_title:"نوع العمل",phone:"موبایل",registration_date:"تاريخ التسجيل",status:"حالة",actions:"أجراءات",deactive:"معاق",active:"نشيط",en_info:"معلومات المشرفين",btn_save:"تغيير المعلومات",btn_delete:"حذف",deactive_list:"قائمة المشرفين غير النشطين",btn_deactived:"معاق",btn_actived:"منشط",see_staff:"انظر العاملين",staffs:"العاملين",staff:"العاملين"}};const T=["",null];var M={name:"Engineers",data(){return{jobs:[],engineers:[],single_engineer:{en_id:null,first_name:"",last_name:"",job_id:null,phone1:"",phone2:""},deactived_engineers:[],search_engineer:"",search_deactive_engineer:"",enginnerslanguage:j,language:"English"}},beforeCreate(){x("engineers")},created(){this.$http.post("/job/getData").then(({data:e})=>{this.jobs=e}),this.$http.post("/engineer/getData").then(({data:e})=>{this.engineers=e}),this.$http.post("/engineer/getDeactived").then(({data:e})=>{this.deactived_engineers=e})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{get_engineer(e){const[t]=this.engineers.filter(t=>t.en_id==e);this.single_engineer.en_id=t.en_id,this.single_engineer.first_name=t.first_name,this.single_engineer.last_name=t.last_name,this.single_engineer.job_id=this.jobs.filter(e=>e.job_title==t.job_title)[0].job_id,this.single_engineer.phone1=t.phone1,this.single_engineer.phone2=t.phone2},clear_engineer(){this.single_engineer.en_id=null,this.single_engineer.first_name="",this.single_engineer.last_name="",this.single_engineer.job_id=null,this.single_engineer.phone1="",this.single_engineer.phone2=""},deactive_engineer(e){this.$confirm("Are you sure deactive this engineer ?","","question").then(()=>{this.$http.patch("/engineer/deactiveEngineer/"+e).then(()=>{this.$alert("Engineer Deactived","Success","success");const[t]=this.engineers.filter(t=>t.en_id==e);t.active_status="0",this.deactived_engineers.push(t),this.engineers=this.engineers.filter(t=>t.en_id!=e)}).catch(e=>{C(e)})})},active_engineer(e){this.$confirm("Are you sure active this engineer ?","","question").then(()=>{this.$http.patch("/engineer/activeEngineer/"+e).then(()=>{this.$alert("Engineer Actived","Success","success");const[t]=this.deactived_engineers.filter(t=>t.en_id==e);t.active_status="1",this.engineers.push(t),this.deactived_engineers=this.deactived_engineers.filter(t=>t.en_id!=e)}).catch(e=>{C(e)})})},delete_engineer(){null!=this.single_engineer.en_id?this.$confirm("Are you sure delete this engineer ?","","question").then(()=>{this.$http.delete("/engineer/deleteEngineer/"+this.single_engineer.en_id).then(()=>{this.$alert("Engineer deleted","Success","success"),this.engineers=this.engineers.filter(e=>e.en_id!=this.single_engineer.en_id),this.clear_engineer()}).catch(e=>{C(e)})}):this.$alert("Select an Engineer","","warning")},update_engineer(){null==this.single_engineer.en_id?this.$alert("Select an engineer","","warning"):T.includes(this.single_engineer.first_name)||T.includes(this.single_engineer.last_name)||T.includes(this.single_engineer.job_id)||T.includes(this.single_engineer.phone1)?this.$alert("Fill all required fields","Empty Field","warning"):this.$confirm("Are you sure save changes ?","","question").then(()=>{document.getElementById("btn_update_engineer").setAttribute("disabled","disabled"),this.$http.patch("/engineer/updateEngineer/"+this.single_engineer.en_id,{first_name:this.single_engineer.first_name,last_name:this.single_engineer.last_name,job_id:this.single_engineer.job_id,phone1:this.single_engineer.phone1,phone2:this.single_engineer.phone2}).then(()=>{let e=this.engineers.findIndex(e=>e.en_id==this.single_engineer.en_id);this.engineers[e].first_name=this.single_engineer.first_name,this.engineers[e].last_name=this.single_engineer.last_name,this.engineers[e].job_id=this.single_engineer.job_id,this.engineers[e].phone1=this.single_engineer.phone1,this.engineers[e].phone2=this.single_engineer.phone2,this.$alert("Successfully change saved","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_engineer").removeAttribute("disabled")})})}},computed:{filtered_engineers(){return this.engineers.filter(e=>e.en_id==this.search_engineer||e.first_name.match(this.search_engineer)||e.last_name.match(this.search_engineer)||e.reg_date.match(this.search_engineer)||e.phone1.match(this.search_engineer)||e.phone2.match(this.search_engineer))},filtered_deactived_engineers(){return this.deactived_engineers.filter(e=>e.en_id==this.search_deactive_engineer||e.first_name.match(this.search_deactive_engineer)||e.last_name.match(this.search_deactive_engineer)||e.reg_date.match(this.search_deactive_engineer)||e.phone1.match(this.search_deactive_engineer)||e.phone2.match(this.search_deactive_engineer))}},filters:{status_filter(e,t){return[j[t].deactive,j[t].active][e]},date_filter(e){var t=new Date(e);return t.toISOString().split("T")[0]}}},P=M,z=(a("32a9"),Object(_["a"])(P,N,B,!1,null,"b8372a4c",null)),O=z.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].employees)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"}},[e._v(" "+e._s(e.employeeLangauge[e.language].add_employee)+" "),a("i",{staticClass:"fa fa-plus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:e.employeeLangauge[e.language].search+"..."},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search_employee()},input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("button",{staticClass:"btn btn-success mx-1 mb-2",on:{click:function(t){return e.search_employee()}}},[a("i",{staticClass:"fa fa-search"})]),a("button",{staticClass:"btn btn-primary mx-1 mb-2",on:{click:function(t){return e.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),e._m(0)]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",[e._v(e._s(e.employeeLangauge[e.language].id))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].first_name))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].last_name))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].staff))]),a("th",{staticStyle:{width:"10%"}},[e._v(e._s(e.employeeLangauge[e.language].phone))]),a("th",{staticStyle:{width:"14%"}},[e._v(e._s(e.employeeLangauge[e.language].registration_date))]),a("th",{staticStyle:{width:"11%"}},[e._v(e._s(e.employeeLangauge[e.language].salary_type))]),a("th",{staticStyle:{width:"8%"}},[e._v(e._s(e.employeeLangauge[e.language].status))]),a("th",{staticStyle:{width:"12%"}},[e._v(e._s(e.employeeLangauge[e.language].actions))])]),a("tbody",e._l(e.employees,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name)+" ")]),a("td",[e._v(" "+e._s(t.last_name)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.phone)+" ")]),a("td",[e._v(" "+e._s(e.organize_date(t.reg_date))+" ")]),a("td",[e._v(" "+e._s("Monthly"==t.salary_type?e.employeeLangauge[e.language].monthly:e.employeeLangauge[e.language].daily)+" ")]),a("td",[a("span",{class:{"text-danger":0==t.active_status,"text-success":1==t.active_status}},[e._v(e._s(e._f("employees_status_filter")(t.active_status,e.language)))])]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return e.get_single_employee(t.emp_id)}}},[a("i",{staticClass:"fa fa-edit"})]),1==t.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.deactive_employee(t.emp_id)}}},[a("i",{staticClass:"fa fa-lock"})]):0==t.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return e.active_employee(t.emp_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):e._e()])])})),0)]),a("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.previos_pagination_btn()}}},[e._v("<")]),e._l(Math.ceil(e.noOfEmployees/15),(function(t){return a("button",{key:t,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(t/5),staticStyle:{display:"none"},on:{click:function(a){return e.get_limited_data(t)}}},[e._v(" "+e._s(t)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.next_pagination_btn()}}},[e._v(">")])],2)])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_employee()}}},[e._v("×")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].employee_information)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[null!=e.single_employee.personal_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:e.single_employee.personal_image_path,alt:"No Image"}}):e._e(),null!=e.single_employee.identification_image_path?a("img",{staticClass:"col-sm-6",attrs:{src:e.single_employee.identification_image_path,alt:"No Image"}}):e._e()]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].first_name)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.first_name,expression:"single_employee.first_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.first_name},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"first_name",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].last_name)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.last_name,expression:"single_employee.last_name"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.last_name},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"last_name",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].staff)+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.st_id,expression:"single_employee.st_id"}],staticClass:"form-control col-xl-4 mx-3",attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"st_id",t.target.multiple?a:a[0])}}},e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(e._s(t.staff_name))])})),0),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].phone)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.phone,expression:"single_employee.phone"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_employee.phone},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"phone",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].birth_date)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.birth_date,expression:"single_employee.birth_date"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:e.single_employee.birth_date},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"birth_date",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].salary_type)+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.salary_type,expression:"single_employee.salary_type"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"salary_type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Monthly"}},[e._v(" "+e._s(e.employeeLangauge[e.language].monthly)+" ")]),a("option",{attrs:{value:"Daily"}},[e._v(" "+e._s(e.employeeLangauge[e.language].daily)+" ")])])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].country)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.country,expression:"single_employee.country"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"country",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[e._v(" "+e._s(e.employeeLangauge[e.language].iraq)+" ")]),a("option",{attrs:{value:"2"}},[e._v(" "+e._s(e.employeeLangauge[e.language].foreign)+" ")])]),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].expire_passport)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.expiry_passport,expression:"single_employee.expiry_passport"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date",disabled:1==e.single_employee.country},domProps:{value:e.single_employee.expiry_passport},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"expiry_passport",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].food)+" ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.food_money,expression:"single_employee.food_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.food_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"food_money",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].transport)+" ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.transport_money,expression:"single_employee.transport_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.transport_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"transport_money",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Cabina ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.cabina_money,expression:"single_employee.cabina_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.cabina_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"cabina_money",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Expense ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.expense_money,expression:"single_employee.expense_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.expense_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"expense_money",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Fine ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.fine_money,expression:"single_employee.fine_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.fine_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"fine_money",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Loan ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.loan_money,expression:"single_employee.loan_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.loan_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"loan_money",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Accomodation ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.accomodation_money,expression:"single_employee.accomodation_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.accomodation_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"accomodation_money",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Other Expense ($): ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.other_expense,expression:"single_employee.other_expense"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.other_expense},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"other_expense",t.target.value)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Other Minus ($):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.other_minus,expression:"single_employee.other_minus"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.other_minus},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"other_minus",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].id_image)+":")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(t){return e.process_file(t)}}}),a("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].personal_image)+":")]),a("input",{staticClass:"form-control col-xl-4 mx-3",attrs:{type:"file"},on:{change:function(t){return e.process_file_personal(t)}}})]),a("hr"),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].monthly_salary)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.monthly_salary,expression:"single_employee.monthly_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Daily"==e.single_employee.salary_type},domProps:{value:e.single_employee.monthly_salary},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"monthly_salary",t.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].daily_salary)+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.daily_salary,expression:"single_employee.daily_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Monthly"==e.single_employee.salary_type},domProps:{value:e.single_employee.daily_salary},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"daily_salary",t.target.value)}}}),a("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].hour_salary)+":")]),a("label",{staticClass:"form-control col-xl-2 text-center",staticStyle:{"background-color":"rgba(128, 128, 128, 0.171)"}},[e._v(" "+e._s(e.single_employee.hour_salary)+" ")])]),a("hr"),a("div",{staticClass:"row mb-3"},[null==e.single_employee.emp_id?a("div",{staticClass:"col-xl-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_employee"},on:{click:function(t){return e.add_employee()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]):e._e(),null!=e.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_employee"},on:{click:function(t){return e.update_employee()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):e._e(),null!=this.single_employee.identification_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(t){return e.delete_identification_image()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].delete_id_image)+" "),a("i",{staticClass:"fa fa-image"})])]):e._e(),null!=this.single_employee.personal_image_path?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(t){return e.delete_personal_image()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].delete_personal_image)+" "),a("i",{staticClass:"fa fa-image"})])]):e._e(),null!=e.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_id_image"},on:{click:function(t){return e.update_identification_image()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].renew_id_image)+" "),a("i",{staticClass:"fa fa-refresh"})])]):e._e(),null!=e.single_employee.emp_id?a("div",{staticClass:"col-xl-4 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_personal_image"},on:{click:function(t){return e.update_personal_image()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].renew_personal_image)+" "),a("i",{staticClass:"fa fa-refresh"})])]):e._e()])])])])])]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlSearchByStaff"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.searchStaffID,expression:"searchStaffID"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchStaffID=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),a("div",{staticClass:"col-12 col-lg-6 col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.searchStaffStatus,expression:"searchStaffStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchStaffStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v(" Actived ")]),a("option",{attrs:{value:"0"}},[e._v(" Deactived ")])])])]),a("hr"),a("div",{staticClass:"row"},e._l(e.btnEmployees.filter((function(t){return t.active_status==e.searchStaffStatus})),(function(t){return a("div",{key:t.emp_id,staticClass:"col-12 col-xl-3 col-lg-3 col-md-4 mb-2"},[a("button",{staticClass:"btn btn-block",class:{"btn-primary":"1"==e.searchStaffStatus,"btn-danger":"0"==e.searchStaffStatus},on:{click:function(a){e.search=t.phone,e.search_employee()}}},[e._v(" "+e._s(t.full_name)+" ")])])})),0)])])])])])],1)},H=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-primary col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdlSearchByStaff"}},[e._v(" Search By Staff "),a("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v("×")]),a("h5",{staticClass:"mt-2"},[e._v(" Search By Staff ")])])}],Q={Kurdish:{employees:"کارمەندەکان",add_employee:"زیادکردنی کارمەند",id:"کۆد",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",staff:"ستاف",phone:"ژ.مۆبایل",registration_date:"بەرواری تۆمارکردن",salary_type:"جۆری مووچە",status:"دۆخ",actions:"کردارەکان",active:"چالاک",deactive:"ناچالاک",monthly:"مانگانە",daily:"ڕۆژانە",employee_information:"زانیاری کارمەند",birth_date:"بەرواری لەدایکبوون",country:"وڵات",iraq:"عراقی",foreign:"بیانی",expire_passport:"بەسەرچوونی پاسپۆرت",food:"خواردن",transport:"کرێی هاتووچۆ",id_image:"وێنەی تەسکەرە",personal_image:"وێنەی کەسی",monthly_salary:"مووچەی مانگانە",daily_salary:"مووچەی ڕۆژانە",hour_salary:"مووچەی کاتژمێر",add:"زیادکردن",save_changes:"گۆڕینی زانیاری",delete_id_image:"سڕینەوەی وێنەی تەسکەرە",delete_personal_image:"سڕینەوەی وێنەی کەسی",renew_id_image:"تازەکردنەوەی وێنەی تەسکەرە",renew_personal_image:"تازەکردنەوەی وێنەی کەسی",search:"گـەڕان",btn_all_em:"هەموو کارمەندەکان",iraq_em:"کارمەندە عێراقیەکان",foreign_em:"کارمەندە بیانییەکان",salary:"بڕی مووچە"},English:{employees:"Employees",add_employee:"Add Employee",id:"ID",first_name:"First name",last_name:"Last name",staff:"Staff",phone:"Phone",registration_date:"Registration Date",salary_type:"Salary Type",status:"Status",actions:"Actions",active:"Active",deactive:"Deactive",monthly:"Monthly",daily:"Daily",employee_information:"Employee Information",birth_date:"Birth Date",country:"Country",iraq:"Iraq",foreign:"Foreign",expire_passport:"Expire Passport",food:"Food",transport:"Transport",id_image:"ID Image",personal_image:"Personal Image",monthly_salary:"Monthly Salary",daily_salary:"Daily Salary",hour_salary:"Hour Salary",add:"Add",save_changes:"Save Changes",delete_id_image:"Delete ID Image",delete_personal_image:"Delete Personal Image",renew_id_image:"Re-new ID Image",renew_personal_image:"Re-new Personal Image",search:"Search",btn_all_em:"All Employees",iraq_em:"Iraq Employees",foreign_em:"Foreign Employees",salary:"Salary"},Arabic:{employees:"الموظفين",add_employee:"اضافة موظـف",id:"رقم",first_name:"الاسم الاول",last_name:"الاسم الثاني",staff:"العاملين",phone:"موبایل",registration_date:"تاريخ التسجيل",salary_type:"نوع الراتب",status:"حالة",actions:"أجراءات",active:"نشيط",deactive:"معاق",monthly:"شهريا",daily:"اليومي",employee_information:"معلومات الموظف",birth_date:"تاريخ الولادة",country:"بلد",iraq:"عراقی",foreign:"الخارجية",expire_passport:"جواز سفر انتهاء الصلاحية",food:"طـعام",transport:"تكلفة النقـل",id_image:"صورة الهوية",personal_image:"صورة الشخـصیة",monthly_salary:"راتب شهري",daily_salary:"راتب یومي",hour_salary:"راتب سـاعة",add:"اضافة",save_changes:"تغيير المعلومات",delete_id_image:"حذف صورة الهوية",delete_personal_image:"حذف صورة الشخصية",renew_id_image:"تحديث صورة الهوية",renew_personal_image:"تحديث صورة الشخصية",search:"بحث",btn_all_em:"كل الموظفين",iraq_em:"موظفين عراقيين",foreign_em:"الموظفين الأجانب",salary:"مبلغ الراتب"}};const R=[null,""];var Y={name:"Employees",data(){return{noOfEmployees:0,employees:[],btnEmployees:[],single_employee:{emp_id:null,first_name:null,last_name:null,st_id:null,phone:null,birth_date:null,reg_date:null,salary_type:null,monthly_salary:null,daily_salary:null,hour_salary:null,identification_image_path:null,identification_image_file:null,personal_image_path:null,personal_image_file:null,staff_name:null,country:"1",food_money:0,transport_money:0,cabina_money:0,fine_money:0,expense_money:0,loan_money:0,accomodation_money:0,other_expense:0,other_minus:0,expiry_passport:null},staffs:[],search:"",current_pagination:1,max_pagination:0,searchStaffID:null,searchStaffStatus:"1",employeeLangauge:Q,language:"English"}},beforeCreate(){x("employees")},created(){this.$http.post("/employee/getNoOfEmployees").then(({data:e})=>{this.noOfEmployees=e.noOfEmployees;var t=Math.ceil(this.noOfEmployees/15),a=Math.ceil(t/5);this.max_pagination=a}).catch(e=>{C(e)}),this.get_limited_data(1),this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff),this.employees.staff_name=e.staff_name}).catch(e=>{C(e)})},mounted(){var e=setInterval(()=>{var t=document.getElementsByClassName("pg-group-1");if(t.length>0){for(let e=0;e<t.length;e++)t[e].style.display="inline";clearInterval(e)}},750);k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{next_pagination_btn(){if(this.current_pagination<this.max_pagination){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";++this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},previos_pagination_btn(){if(this.current_pagination>1){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";--this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},get_limited_data(e){var t=0;e>1&&(t=15*(e-1)),this.$http.post("/employee/getData",{offset:t}).then(({data:e})=>{this.employees=e}).catch(e=>{C(e)})},process_file(e){this.single_employee.identification_image_file=e.target.files[0]},process_file_personal(e){this.single_employee.personal_image_file=e.target.files[0]},clear_employee(){this.single_employee.emp_id=null,this.single_employee.first_name=null,this.single_employee.last_name=null,this.single_employee.st_id=null,this.single_employee.phone=null,this.single_employee.birth_date=null,this.single_employee.reg_date=null,this.single_employee.salary_type=null,this.single_employee.monthly_salary=null,this.single_employee.daily_salary=null,this.single_employee.hour_salary=null,this.single_employee.identification_image_path=null,this.single_employee.identification_image_file=null,this.single_employee.personal_image_path=null,this.single_employee.personal_image_file=null,this.single_employee.staff_name=null,this.single_employee.country="1",this.single_employee.food_money=0,this.single_employee.transport_money=0,this.single_employee.cabina_money=0,this.single_employee.expense_money=0,this.single_employee.fine_money=0,this.single_employee.loan_money=0,this.single_employee.accomodation_money=0,this.single_employee.other_expense=0,this.single_employee.other_minus=0,this.single_employee.expiry_passport=null},get_single_employee(e){const[t]=this.employees.filter(t=>t.emp_id===e);this.single_employee.emp_id=t.emp_id,this.single_employee.first_name=t.first_name,this.single_employee.last_name=t.last_name,this.single_employee.st_id=this.staffs.filter(e=>e.staff_name==t.staff_name)[0].st_id,this.single_employee.phone=t.phone,this.single_employee.birth_date=t.birth_date.slice(0,10),this.single_employee.reg_date=t.reg_date,this.single_employee.salary_type=t.salary_type,this.single_employee.monthly_salary=t.monthly_salary,this.single_employee.daily_salary=t.daily_salary,this.single_employee.hour_salary=t.hour_salary,this.single_employee.identification_image_path=t.identification_image_path,this.single_employee.personal_image_path=t.personal_image_path,this.single_employee.staff_name=t.staff_name,this.single_employee.expiry_passport=this.organize_date(t.expiry_passport),this.single_employee.country=t.country,this.single_employee.food_money=t.food_money,this.single_employee.transport_money=t.transport_money,this.single_employee.cabina_money=t.cabina_money,this.single_employee.expense_money=t.expense_money,this.single_employee.fine_money=t.fine_money,this.single_employee.loan_money=t.loan_money,this.single_employee.accomodation_money=t.accomodation_money,this.single_employee.other_expense=t.other_expense,this.single_employee.other_minus=t.other_minus},add_employee(){if(!R.includes(this.single_employee.first_name)&&!R.includes(this.single_employee.st_id)&&!R.includes(this.single_employee.birth_date)&&!R.includes(this.single_employee.last_name)&&!R.includes(this.single_employee.phone)&&!R.includes(this.single_employee.salary_type)&&this.single_employee.monthly_salary>0&&this.single_employee.daily_salary>0){var e=new FormData;e.append("first_name",this.single_employee.first_name),e.append("last_name",this.single_employee.last_name),e.append("st_id",this.single_employee.st_id),e.append("phone",this.single_employee.phone),e.append("birth_date",this.single_employee.birth_date),e.append("reg_date",this.single_employee.reg_date),e.append("salary_type",this.single_employee.salary_type),e.append("monthly_salary",this.single_employee.monthly_salary),e.append("daily_salary",this.single_employee.daily_salary),e.append("hour_salary",this.single_employee.hour_salary),e.append("identification_image",this.single_employee.identification_image_file),e.append("personal_image",this.single_employee.personal_image_file),e.append("expiry_passport",this.single_employee.expiry_passport),e.append("country",this.single_employee.country),e.append("food_money",this.single_employee.food_money),e.append("transport_money",this.single_employee.transport_money),document.getElementById("btn_add_employee").setAttribute("disabled","disabled"),this.$http.post("/employee/addEmployee",e).then(({data:e})=>{this.$alert("Successfully","Success","success"),this.employees.unshift({emp_id:e.emp_id,first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,staff_name:this.staffs.filter(e=>e.st_id==this.single_employee.st_id)[0].staff_name,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:(new Date).toISOString().split("T")[0],salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,identification_image_path:e.identification_image_path,personal_image_path:e.personal_image_path,active_status:"1",country:this.single_employee.country,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport}),this.clear_employee()}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_add_employee").removeAttribute("disabled")})}else this.$alert("Please fill the cells with correct data !","Empty Field","warning")},update_employee(){R.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for update !","","warning"):!R.includes(this.single_employee.first_name)&&!R.includes(this.single_employee.st_id)&&!R.includes(this.single_employee.birth_date)&&!R.includes(this.single_employee.last_name)&&!R.includes(this.single_employee.phone)&&!R.includes(this.single_employee.salary_type)&&this.single_employee.monthly_salary>0&&this.single_employee.daily_salary>0?(document.getElementById("btn_update_employee").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateEmployee/"+this.single_employee.emp_id,{first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,st_id:this.single_employee.st_id,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:this.single_employee.reg_date,salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,country:this.single_employee.country,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport}).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].first_name=this.single_employee.first_name,this.employees[e].last_name=this.single_employee.last_name,this.employees[e].staff_name=this.staffs.filter(e=>e.st_id==this.single_employee.st_id)[0].staff_name,this.employees[e].phone=this.single_employee.phone,this.employees[e].reg_date=this.single_employee.reg_date,this.employees[e].salary_type=this.single_employee.salary_type,this.employees[e].monthly_salary=this.single_employee.monthly_salary,this.employees[e].daily_salary=this.single_employee.daily_salary,this.employees[e].country=this.single_employee.country,this.employees[e].food_money=this.single_employee.food_money,this.employees[e].transport_money=this.single_employee.transport_money,this.employees[e].cabina_money=this.single_employee.cabina_money,this.employees[e].expense_money=this.single_employee.expense_money,this.employees[e].fine_money=this.single_employee.fine_money,this.employees[e].loan_money=this.single_employee.loan_money,this.employees[e].accomodation_money=this.single_employee.accomodation_money,this.employees[e].other_expense=this.single_employee.other_expense,this.employees[e].other_minus=this.single_employee.other_minus,this.employees[e].expiry_passport=this.single_employee.expiry_passport,this.$alert("Successfully changed","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_employee").removeAttribute("disabled")})):this.$alert("Please fill the cells with correct data !","Empty Field","warning")},update_identification_image(){if(R.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(R.includes(this.single_employee.identification_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("identification_image",this.single_employee.identification_image_file),document.getElementById("btn_update_id_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateIdentificationImage/"+this.single_employee.emp_id,e).then(({data:e})=>{let t=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[t].identification_image_path=e.identification_image_path,this.single_employee.identification_image_path=e.identification_image_path,this.$alert("Successfully changed","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_id_image").removeAttribute("disabled")})}},update_personal_image(){if(R.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(R.includes(this.single_employee.personal_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("personal_image",this.single_employee.personal_image_file),document.getElementById("btn_update_personal_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updatePersonalImage/"+this.single_employee.emp_id,e).then(({data:e})=>{let t=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[t].personal_image_path=e.personal_image_path,this.single_employee.personal_image_path=e.personal_image_path,this.$alert("Successfully changed","Success","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_personal_image").removeAttribute("disabled")})}},delete_identification_image(){R.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deleteIdentificationImage/"+this.single_employee.emp_id).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].identification_image_path=null,this.single_employee.identification_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(e=>{C(e)})},delete_personal_image(){R.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deletePersonalImage/"+this.single_employee.emp_id).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].personal_image_path=null,this.single_employee.personal_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(e=>{C(e)})},active_employee(e){this.$confirm("Are you sure to active this employee?","Warning","question").then(()=>{this.$http.patch("/employee/activeEmployee/"+e).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===e);this.employees[t].active_status="1",this.$alert("Employee Actived","Active","success")}).catch(e=>{C(e)})})},deactive_employee(e){this.$confirm("are you sure to deactive this employee?","Warning","question").then(()=>{this.$http.patch("/employee/deactiveEmployee/"+e).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===e);this.employees[t].active_status="0",this.$alert("Employee Deactived","Deactive","success")}).catch(e=>{C(e)})})},organize_point(e){var t=e.toString(),a=t.substr(t.lastIndexOf(".")+1,3);return Number("000"==a?t.substring(0,t.lastIndexOf(".")):t)},organize_date(e){if(null==e)return null;var t=new Date(e);return t.toISOString().split("T")[0]},search_employee(){""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"})},refresh(){this.get_limited_data(1),this.search="",document.getElementById("paginations").style.display="block",this.current_pagination=1}},filters:{employees_status_filter(e,t){return[Q[t].deactive,Q[t].active][e]}},watch:{"single_employee.monthly_salary":function(e){"Monthly"==this.single_employee.salary_type&&(this.single_employee.daily_salary=this.organize_point((Number(e)/26).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.daily_salary":function(e){"Daily"==this.single_employee.salary_type&&(this.single_employee.monthly_salary=this.organize_point((26*Number(e)).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.country":function(e){1==e&&(this.single_employee.expiry_passport=null)},searchStaffID(e){e?this.$http.post("/employee/getAllEmployeeBystaff/"+e).then(({data:e})=>{this.btnEmployees=e}):this.btnEmployees=[]}}},U=Y,G=(a("11e6"),Object(_["a"])(U,F,H,!1,null,"37013526",null)),q=G.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[e._v(" "+e._s(e.userLanguage[e.language].users)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_user"}},[e._v(" "+e._s(e.userLanguage[e.language].add_user)+" "),a("i",{staticClass:"fa fa-plus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_search,expression:"user_search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:e.userLanguage[e.language].search+"..."},domProps:{value:e.user_search},on:{input:function(t){t.target.composing||(e.user_search=t.target.value)}}})]),a("div",{staticClass:"row overflow-auto"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.userLanguage[e.language].id)+" ")]),a("th",[e._v(" "+e._s(e.userLanguage[e.language].username)+" ")]),a("th",[e._v(" "+e._s(e.userLanguage[e.language].full_name)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.userLanguage[e.language].role)+" ")]),a("th",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.userLanguage[e.language].phone)+" ")]),a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.userLanguage[e.language].status)+" ")]),a("th",{staticStyle:{width:"16%"}},[e._v(" "+e._s(e.userLanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_users,(function(t){return a("tr",{key:t.user_id},[a("td",[e._v(" "+e._s(t.user_id)+" ")]),a("td",[e._v(" "+e._s(t.username)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(e._f("role_filter")(t.role))+" ")]),a("td",[e._v(" "+e._s(t.phone)+" ")]),a("td",{class:{"text-success":"1"==t.active_status,"text-danger":"0"==t.active_status}},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_user"},on:{click:function(a){return e.get_user(t.user_id)}}},[a("i",{staticClass:"fa fa-edit"})]),"1"==t.active_status?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.deactive_user(t.user_id)}}},[a("i",{staticClass:"fa fa-lock"})]):e._e(),"0"==t.active_status?a("button",{staticClass:"btn btn-success mx-1",on:{click:function(a){return e.active_user(t.user_id)}}},[a("i",{staticClass:"fa fa-unlock"})]):e._e(),["U","A"].includes(t.role)?a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(a){return e.delete_user(t.user_id)}}},[a("i",{staticClass:"fa fa-trash"})]):e._e()])])})),0)])])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_user"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_user()}}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" User Information ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].role)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_user.role,expression:"single_user.role"}],staticClass:" form-control col-sm-9",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_user,"role",t.target.multiple?a:a[0])}}},[null==e.single_user.user_id||["U","A"].includes(e.single_user.role)?a("option",{attrs:{value:"A"}},[e._v("Admin")]):e._e(),null==e.single_user.user_id||["U","A"].includes(e.single_user.role)?a("option",{attrs:{value:"U"}},[e._v("User")]):e._e(),null==e.single_user.user_id?a("option",{attrs:{value:"E"}},[e._v("Supervisor")]):e._e()])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].first_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_user.first_name,expression:"single_user.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:e.single_user.first_name},on:{input:function(t){t.target.composing||e.$set(e.single_user,"first_name",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].last_name)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_user.last_name,expression:"single_user.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:e.single_user.last_name},on:{input:function(t){t.target.composing||e.$set(e.single_user,"last_name",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].password)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_user.password,expression:"single_user.password"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:e.single_user.password},on:{input:function(t){t.target.composing||e.$set(e.single_user,"password",t.target.value)}}})]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].phone)+" 1: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_user.phone1,expression:"single_user.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_user.phone1},on:{input:function(t){t.target.composing||e.$set(e.single_user,"phone1",t.target.value)}}})]),"E"==e.single_user.role&&null==e.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].phone)+" 2: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_user.phone2,expression:"single_user.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_user.phone2},on:{input:function(t){t.target.composing||e.$set(e.single_user,"phone2",t.target.value)}}})]):e._e(),"E"==e.single_user.role&&null==e.single_user.user_id?a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-2"},[e._v(" "+e._s(e.userLanguage[e.language].job_title)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_user.job_id,expression:"single_user.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_user,"job_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._l(e.jobs,(function(t){return a("option",{key:t.job_id,domProps:{value:t.job_id}},[e._v(" "+e._s(t.job_title)+" ")])}))],2)]):e._e(),a("hr"),a("div",{staticClass:"row mb-3"},[null==e.single_user.user_id?a("div",{staticClass:"col-sm-12 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_user"},on:{click:function(t){return e.add_user()}}},[e._v(" "+e._s(e.userLanguage[e.language].add)+" "),a("i",{staticClass:"fa fa-plus"})])]):e._e(),null!=e.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-warning btn-block",on:{click:function(t){return e.update_user()}}},[e._v(" "+e._s(e.userLanguage[e.language].save)+" "),a("i",{staticClass:"fa fa-save"})])]):e._e(),null!=e.single_user.user_id?a("div",{staticClass:"col-sm-6 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.update_password()}}},[e._v(" "+e._s(e.userLanguage[e.language].update_password)+" "),a("i",{staticClass:"fa fa-lock"})])]):e._e()])])])])])])],1)},J=[],V={Kurdish:{users:"بەکارهێنەرەکان",add_user:"زیادکردنی بەکارهێنەر",search:"گـەڕان",id:"کۆد",username:"ناوی بەکارهێنەر",full_name:"ناوی تەواو",role:"ڕۆڵ",phone:"ژ.مۆبایل",status:"دۆخ",actions:"کردارەکان",user_information:"زانیاری بەکارهێنەر",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",password:"وشەی نهێنی",job_title:"کار",add:"زیادکردن",save:"گۆڕانکاری",update_password:"گۆڕینی وشەی نهێنی",active:"چالاک",deactive:"ناچالاک"},English:{users:"Users",add_user:"Add User",search:"Search",id:"ID",username:"Username",full_name:"Full name",role:"Role",phone:"Phone",status:"Status",actions:"Actions",user_information:"User Information",first_name:"First name",last_name:"Last name",password:"Password",job_title:"Job Title",add:"Add",save:"Save",update_password:"Update Password",active:"Active",deactive:"Deactive"},Arabic:{users:"المستخدمون",add_user:"إضافة المستخدمين",search:"بحث",id:"رقـم",username:"اسم المستخدم",full_name:"الاسم الكامل",role:"وظيفة",phone:"موبایل",status:"حالة",actions:"أجراءات",user_information:"معلومات المستخدم",first_name:"الاسم الاول",last_name:"الاسم الثاني",password:"كلمه السر",job_title:"عمل",add:"اضافة",save:"تغيير المعلومات",update_password:"تغیير كلمة السر",active:"نشيط",deactive:"معاق"}};const W=["",null];var Z={name:"Users",data(){return{users:[],single_user:{user_id:null,first_name:"",last_name:"",password:"",phone1:"",phone2:"",role:"U",job_id:null},jobs:[],user_search:"",userLanguage:V,language:"English"}},beforeCreate(){x("users")},created(){this.$http.post("/user/getData").then(({data:e})=>{this.users=e}),this.$http.post("/job/getData").then(({data:e})=>{this.jobs=e})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{get_user(e){const[t]=this.users.filter(t=>t.user_id==e);this.single_user.user_id=t.user_id,this.single_user.first_name=t.full_name.split(" ")[0],this.single_user.last_name=t.full_name.split(" ")[1],this.single_user.phone1=t.username,this.single_user.phone2=t.phone,this.single_user.role=t.role},clear_user(){this.single_user.user_id=null,this.single_user.first_name="",this.single_user.last_name="",this.single_user.password="",this.single_user.phone1="",this.single_user.phone2="",this.single_user.role="U",this.single_user.job_id=null},async add_user(){"E"==this.single_user.role?W.includes(this.single_user.first_name)||W.includes(this.single_user.last_name)||W.includes(this.single_user.phone1)||W.includes(this.single_user.phone2)||W.includes(this.single_user.job_id)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):(document.getElementById("btn_add_user").setAttribute("disabled","disabled"),this.$http.post("/engineer/addEngineer",{first_name:this.single_user.first_name,last_name:this.single_user.last_name,job_id:this.single_user.job_id,phone1:this.single_user.phone1,phone2:this.single_user.phone2}).then(({data:e})=>{this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,en_id:e.en_id,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:e})=>{this.$alert("Successfully user added","Success","success"),this.users.push({user_id:e.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()})}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_add_user").removeAttribute("disabled")})):W.includes(this.single_user.phone1)||W.includes(this.single_user.first_name)||W.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:e})=>{this.$alert("Successfully user added","Success","success"),this.users.push({user_id:e.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()}).catch(e=>{C(e)})},update_user(){W.includes(this.single_user.phone1)||W.includes(this.single_user.first_name)||W.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.$confirm("Do you want update the informations ?","","question").then(()=>{this.$http.patch("/user/updateUser/"+this.single_user.user_id,{username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(()=>{let e=this.users.findIndex(e=>e.user_id==this.single_user.user_id);this.users[e].username=this.single_user.phone1,this.users[e].full_name=this.single_user.first_name+" "+this.single_user.last_name,this.users[e].role=this.single_user.role,this.users[e].phone=this.single_user.phone1,this.$alert("Informations successfully updated","Success","success")}).catch(e=>{C(e)})})},update_password(){this.single_user.password.length>=6?this.$confirm("Are you sure update password for this user account ?","","question").then(()=>{this.$http.patch("/user/updatePassword/"+this.single_user.user_id,{password:this.single_user.password}).then(()=>{this.$alert("Password successfully updated","Success","success"),this.single_user.password=""})}):this.$alert("Minimum password character: 6","Password","warning")},deactive_user(e){this.$confirm("Are you sure deactive this user account ?","","question").then(()=>{this.$http.patch("/user/deactiveUser/"+e).then(()=>{let t=this.users.findIndex(t=>t.user_id==e);this.users[t].active_status="0",this.$alert("User successfully deactived","Success","success")}).catch(e=>{C(e)})})},active_user(e){this.$confirm("Are you sure active this user account ?","","question").then(()=>{this.$http.patch("/user/activeUser/"+e).then(()=>{let t=this.users.findIndex(t=>t.user_id==e);this.users[t].active_status="1",this.$alert("User successfully actived","Success","success")}).catch(e=>{C(e)})})},delete_user(e){this.$confirm("Are you sure delete this user account ?","","question").then(()=>{this.$http.delete("/user/deleteUser/"+e).then(()=>{this.$alert("User successfully deleted","Success","success"),this.users=this.users.filter(t=>t.user_id!=e)}).catch(e=>{C(e)})})}},computed:{filtered_users(){return this.users.filter(e=>e.user_id==this.user_search||e.username.match(this.user_search)||e.full_name.match(this.user_search)||e.phone.match(this.user_search)||e.role.toLowerCase().match(this.user_search))}},filters:{status_filter(e,t){return[V[t].deactive,V[t].active][e]},role_filter(e){return"A"==e?"Admin":"U"==e?"User":"Engineer"}}},X=Z,ee=(a("32d9"),Object(_["a"])(X,K,J,!1,null,"2d96aa1c",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[e._v(" "+e._s(e.attendanceLanguage[e.language].daily_staff_list_and_employee_attendance)+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 text-dark py-1"},[a("button",{staticClass:"btn btn-info btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#list_info"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].list_info)+" "),a("i",{staticClass:"fa fa-arrow-down"})]),a("div",{staticClass:"collapse mb-3",attrs:{id:"list_info"}},[a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[e._v(" "+e._s(e.attendanceLanguage[e.language].list_id)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.dsl_id,expression:"dsl_list.dsl_id"}],staticClass:"form-control text-center",attrs:{type:"number",readonly:""},domProps:{value:e.dsl_list.dsl_id},on:{input:function(t){t.target.composing||e.$set(e.dsl_list,"dsl_id",t.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[e._v(" "+e._s(e.attendanceLanguage[e.language].work_date)+": ")]),"E"!=e.user.role?a("input",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date"},domProps:{value:e.dsl_list.work_date},on:{input:function(t){t.target.composing||e.$set(e.dsl_list,"work_date",t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date",min:e.startDate,max:e.endDate},domProps:{value:e.dsl_list.work_date},on:{input:function(t){t.target.composing||e.$set(e.dsl_list,"work_date",t.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language",attrs:{id:"work_date"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.st_id,expression:"dsl_list.st_id"}],staticClass:"form-control text-center",attrs:{id:"staff"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.dsl_list,"st_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2),a("label",{staticClass:"mt-2 px-2 multi-language col-sm-10"},[e._v(" "+e._s(e.attendanceLanguage[e.language].location)+" : ")]),e.is_edit?a("button",{staticClass:"btn btn-success btn-sm col-sm-2",on:{click:function(t){return e.dsl_list.location.push("")}}},[a("i",{staticClass:"fa fa-plus"})]):e._e(),e._l(e.dsl_list.location,(function(t,s){return a("div",{key:s,staticClass:"row mt-2 float-left col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.location[s],expression:"dsl_list.location[index]"}],staticClass:"form-control text-center col-sm-10 mb-1 locations",attrs:{type:"text",readonly:1==e.dsl_list.location.length&&e.employees.length>0||0==e.is_edit},domProps:{value:e.dsl_list.location[s]},on:{change:function(t){return e.update_list_location(e.dsl_list.location[s],s)},input:function(t){t.target.composing||e.$set(e.dsl_list.location,s,t.target.value)}}}),e.dsl_list.location.length>1&&e.is_edit?a("button",{staticClass:"btn btn-danger btn-sm mb-1 mx-1",on:{click:function(t){return e.delete_location(e.dsl_list.location[s])}}},[a("i",{staticClass:"fa fa-minus"})]):e._e()])})),a("br"),a("br"),a("br"),a("br"),a("label",{staticClass:"px-2 multi-language col-sm-12"},[e._v(" "+e._s(e.attendanceLanguage[e.language].note)+": ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.note,expression:"dsl_list.note"}],staticClass:"form-control mb-3",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"5"},domProps:{value:e.dsl_list.note},on:{input:function(t){t.target.composing||e.$set(e.dsl_list,"note",t.target.value)}}}),a("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[e._v(" "+e._s(e.attendanceLanguage[e.language].foods)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.food_number,expression:"dsl_list.food_number"}],staticClass:"form-control mb-3 text-center",attrs:{type:"number",disabled:!e.is_edit||null==e.dsl_list.dsl_id},domProps:{value:e.dsl_list.food_number},on:{change:function(t){return e.set_food_number()},input:function(t){t.target.composing||e.$set(e.dsl_list,"food_number",t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.dsl_list.food_group,expression:"dsl_list.food_group"}],staticClass:"form-control mb-3 text-center",attrs:{disabled:!e.is_edit||null==e.dsl_list.dsl_id},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.dsl_list,"food_group",t.target.multiple?a:a[0])},function(t){return e.set_food_group()}]}},[a("option",{attrs:{value:"barzayakan"}},[e._v("بەرزاییەکان")]),a("option",{attrs:{value:"A"}},[e._v("A")]),a("option",{attrs:{value:"B"}},[e._v("B")]),a("option",{attrs:{value:"C"}},[e._v("C")]),a("option",{attrs:{value:"D"}},[e._v("D")]),a("option",{attrs:{value:"E"}},[e._v("E")])]),null==e.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn-add"},on:{click:function(t){return e.add_list()}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].add_list)+" "),a("i",{staticClass:"fa fa-plus"})])]):e._e(),null!=e.dsl_list.dsl_id?a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update"},on:{click:function(t){return e.update_list()}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].save_changes)+" "),a("i",{staticClass:"fa fa-save"})])]):e._e(),a("div",{staticClass:"col-xl-12 mb-1"},[a("button",{staticClass:"btn btn-info btn-block",attrs:{id:"btn_clear"},on:{click:function(t){return e.clear_list()}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].clear)+" "),a("i",{staticClass:"fa fa-trash"})])])],2),"A"==e.user.role?a("button",{staticClass:"btn btn-danger btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#missed_employees"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].missed_employees)+" "),a("i",{staticClass:"fa fa-arrow-down"})]):e._e(),a("div",{staticClass:"collapse px-2",attrs:{id:"missed_employees"}},e._l(e.missed_employees,(function(t){return a("button",{key:t.emp_id,staticClass:"btn btn-primary btn-block",attrs:{id:"missed"+t.emp_id},on:{click:function(a){return e.add_missed_to_attendance(t.emp_id,"missed"+t.emp_id)}}},[e._v(" "+e._s(t.full_name)+" ")])})),0)]),a("div",{staticClass:"col-xl-9",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"25%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].employee)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].overtime)+" ")]),a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].worked_hours)+" ")]),e.is_edit?a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].status)+" ")]):e._e(),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].location)+" ")]),e.is_edit?a("th",{staticStyle:{width:"16%"}},[e._v(" "+e._s(e.attendanceLanguage[e.language].actions)+" ")]):e._e()]),a("tbody",e._l(e.employees,(function(t){return a("tr",{key:t.at_id},[a("td",{class:{"bg-success text-white":t.main_st_id!=e.dsl_list.st_id}},[e._v(" "+e._s(t.full_name)+" "),t.main_st_id!=e.dsl_list.st_id?a("hr"):e._e(),t.main_st_id!=e.dsl_list.st_id?a("small",[e._v(" "+e._s(e.other.staffs.filter((function(e){return e.st_id==t.main_st_id}))[0].staff_name)+" ")]):e._e()]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.overtime,expression:"employee.overtime",modifiers:{lazy:!0}}],staticClass:"form-control text-center",staticStyle:{padding:"0 !important"},attrs:{type:"number",min:"0",readonly:0==e.is_edit||1==t.absent},domProps:{value:t.overtime},on:{change:[function(a){return e.$set(t,"overtime",a.target.value)},function(a){return e.set_overtime(t.overtime,t.at_id)}]}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.worked_hours,expression:"employee.worked_hours",modifiers:{lazy:!0}}],staticClass:"form-control text-center",attrs:{type:"number",min:"0",readonly:0==e.is_edit||1==t.absent},domProps:{value:t.worked_hours},on:{change:[function(a){return e.$set(t,"worked_hours",a.target.value)},function(a){return e.set_worked_hours(t.worked_hours,t.at_id)}]}})]),e.is_edit?a("td",[a("button",{staticClass:"btn btn-danger btn-block mx-1 mb-1",attrs:{disabled:1==t.absent},on:{click:function(a){return e.set_to_absent(t.at_id)}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].absent)+" ")]),a("button",{staticClass:"btn btn-success btn-block mx-1 mb-1",attrs:{disabled:0==t.absent},on:{click:function(a){return e.set_to_present(t.at_id)}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].present)+" ")]),a("button",{staticClass:"btn btn-warning btn-block mx-1 mb-1",attrs:{disabled:2==t.absent},on:{click:function(a){return e.set_to_off(t.at_id)}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].off)+" ")])]):e._e(),a("td",e._l(e.dsl_list.location.filter((function(e){return e.length>0})),(function(s,n){return a("button",{key:n,staticClass:"btn m-1",class:{"btn-secondary":s!=t.location,"btn-success":s==t.location},attrs:{disabled:s==t.location||0==e.is_edit},on:{click:function(a){return e.set_location(s,t.at_id)}}},[e._v(" "+e._s(s)+" ")])})),0),e.is_edit?a("td",[a("button",{staticClass:"btn btn-primary mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_fine"},on:{click:function(a){return e.get_attendance(t.at_id)}}},[a("i",{staticClass:"fa fa-edit"})]),t.main_st_id!=e.dsl_list.st_id?a("button",{staticClass:"btn btn-danger mx-1 mb-1",on:{click:function(a){return e.return_employee(t.at_id,t.main_st_id)}}},[a("i",{staticClass:"fa fa-trash"})]):a("button",{staticClass:"btn btn-success mx-1 mb-1",attrs:{"data-toggle":"modal","data-target":"#mdl_change_staff"},on:{click:function(a){return e.get_employee_staff(t.at_id)}}},[a("i",{staticClass:"fa fa-paper-plane"})])]):e._e()])})),0)])])])])],1)]),a("change-pass"),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_fine"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:e.clear_single_employee}},[e._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[e._v(" "+e._s(e.attendanceLanguage[e.language].fine_information)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[e._v(" "+e._s(e.attendanceLanguage[e.language].fine)+": (IQD.) ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.fine,expression:"single_employee.fine"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.fine},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"fine",t.target.value)}}})]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4"},[e._v(" "+e._s(e.attendanceLanguage[e.language].fine_reason)+": ")]),a("textarea",{staticClass:"form-control col-sm-8",staticStyle:{resize:"none"},attrs:{rows:"5"}})]),a("hr"),a("div",{staticClass:"row mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_attendance"},on:{click:function(t){return e.update_attendance()}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].save)+" "),a("i",{staticClass:"fa fa-save"})])])])])])])]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_change_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:e.clear_single_employee_staff}},[e._v(" × ")]),a("h5",{staticClass:"text-dark mt-2"},[e._v(" "+e._s(e.attendanceLanguage[e.language].send_employee_to_another_staff)+" ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-3 mt-1"},[e._v(" "+e._s(e.attendanceLanguage[e.language].new_staff)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee_staff.new_st_id,expression:"single_employee_staff.new_st_id"}],staticClass:"form-control col-sm-9",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee_staff,"new_st_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._l(e.filtered_other_staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),a("button",{staticClass:"btn btn-success btn-block",on:{click:function(t){return e.send_employee()}}},[e._v(" "+e._s(e.attendanceLanguage[e.language].send)+" "),a("i",{staticClass:"fa fa-paper-plane"})])])])])])])],1)},se=[],ne={Kurdish:{daily_staff_list_and_employee_attendance:"لیستی ڕۆژانەی ستافەکان و غیاباتی کارمەندان",list_info:"زانیاری لیست",list_id:"کۆدی لیست",work_date:"بەروار",staff:"ستاف",location:"شوێن",note:"تێبینی",add_list:"زیادکردنی لیست",save_changes:"گۆڕینی زانیاری",clear:"سڕینەوە",employee:"کارمەند",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",status:"دۆخ",actions:"کردارەکان",absent:"نەهاتوو",present:"ئامادەبوو",off:"پشوو",fine_information:"زانیاری سەرپێچی",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێچی",save:"خەزن کردن",send_employee_to_another_staff:"ناردنی کارمەند بۆ ستافێکی دیکە",new_staff:"ستافی تازە",send:"ناردن",foods:"خواردنەکان",missed_employees:"کارمەندە داخڵ نەکراوەکان"},English:{daily_staff_list_and_employee_attendance:"Daily staff list and employee attendance",list_info:"List Info",list_id:"List ID",work_date:"Work Date",staff:"Staff",location:"Location",note:"Note",add_list:"Add List",save_changes:"Save Changes",clear:"Clear",employee:"Employee",overtime:"Over Time",worked_hours:"Worked(h)",status:"Status",actions:"Actions",absent:"Absent",present:"Present",off:"Off",fine_information:"Fine Information",fine:"Fine",fine_reason:"Fine reason",save:"Save",send_employee_to_another_staff:"Send employee to another staff",new_staff:"New Staff",send:"Send",foods:"Foods",missed_employees:"Missed employees"},Arabic:{daily_staff_list_and_employee_attendance:"القائمة اليومية لغياب الموظفين",list_info:"معلومات القائمة",list_id:"رقم القائمة",work_date:"تاريخ",staff:"العاملين",location:"موقع",note:"ملاحظة",add_list:"اضـف قائمة",save_changes:"تغيير المعلومات",clear:"حذف",employee:"موظـف",overtime:"وقت إضافي",worked_hours:"وقت العمل",status:"حالة",actions:"أجراءات",absent:"غـیاب",present:"كان حاضرا",off:"يوم الاجازة",fine_information:"معلومات الغرامة",fine:"مقدار الغرامة",fine_reason:"سبب الغرامة",save:"حفظ",send_employee_to_another_staff:"إرسال الموظفين إلى قائمة آخر",new_staff:"قائمة جديد",send:"ارسال",foods:"طعام",missed_employees:"موظفين غير مدمجين"}};const ie=["",null];var le={name:"Attendance",data(){return{employees:[],missed_employees:[],staffs:[],single_employee:{at_id:null,fine:0,fine_reason:""},single_employee_staff:{at_id:null,new_st_id:null},dsl_list:{dsl_id:null,st_id:null,work_date:(new Date).toISOString().split("T")[0],location:[""],note:"",food_number:0,food_group:null},other:{staffs:[]},user:{useranme:"",role:"",en_id:null},attendanceLanguage:ne,language:"English"}},beforeCreate(){x("attendance")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.role=e.type,this.user.en_id=e.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:e})=>{this.staffs=e}):this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})}),this.$http.post("/staff/getData").then(({data:e})=>{this.other.staffs=e.filter(e=>"1"==e.show_staff)})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{get_attendance(e){const[t]=this.employees.filter(t=>t.at_id==e);this.single_employee.at_id=e,this.single_employee.fine=t.fine,this.single_employee.fine_reason=t.fine_reason,this.single_employee.salary_type=t.salary_type},get_list(e,t){this.$http.post("/daily_staff_list/getListAndAttendance",{st_id:e,work_date:t}).then(({data:e})=>{if(this.employees=e.employees,null!=e.dsl_list){this.dsl_list.dsl_id=e.dsl_list.dsl_id;let t=e.dsl_list.location;this.dsl_list.location=t.split(","),this.dsl_list.note=e.dsl_list.note,this.dsl_list.food_number=e.dsl_list.food_number,this.dsl_list.food_group=e.dsl_list.food_group}else this.dsl_list.dsl_id=null,this.dsl_list.location=[""],this.dsl_list.note="",this.dsl_list.food_number=0,this.dsl_list.food_group=null}).catch(e=>{C(e)})},get_missed_employees(){this.$http.post("/attendance/getMissedEmployees",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date}).then(({data:e})=>{this.missed_employees=e})},clear_list(){this.dsl_list.dsl_id=null,this.dsl_list.st_id=null,this.dsl_list.work_date=(new Date).toISOString().split("T")[0],this.dsl_list.location=[""],this.dsl_list.note="",this.employees=[],this.dsl_list.food_number=0,this.dsl_list.food_group=null},clear_single_employee(){this.single_employee.at_id=null,this.single_employee.fine=0,this.single_employee.fine_reason=""},clear_single_employee_staff(){this.single_employee_staff.at_id=null,this.single_employee_staff.new_st_id=null},async add_list(){if(this.dsl_list.location=this.dsl_list.location.filter(e=>e.length>0),ie.includes(this.dsl_list.st_id)||ie.includes(this.dsl_list.work_date)||ie.includes(this.dsl_list.st_id)||this.dsl_list.location.includes(""))this.$alert("Fill all required fields","Empty Field","warning");else{this.dsl_list.location=this.dsl_list.location.filter(e=>e.length>0),document.getElementById("btn-add").setAttribute("disabled","disabled");var e=new Date;e.setHours(e.getHours()+3),await this.$http.post("/daily_staff_list/addList",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date,user:this.user.username,location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:e}).then(({data:e})=>{document.getElementById("btn-add").removeAttribute("disabled"),this.dsl_list.dsl_id=e.dsl_id,this.employees=e.employees,this.other.staffs.push({dsl_id:e.dsl_id,st_id:this.dsl_list.st_id,staff_name:this.staffs.filter(e=>e.st_id==this.dsl_list.st_id)[0].staff_name}),this.missed_employees=[],this.$alert("List Created","Successfull","success")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled"),document.getElementById("btn-update").removeAttribute("disabled")})}},add_missed_to_attendance(e,t){null!=this.dsl_list.dsl_id&&this.$confirm("Are you sure add this employee ?","","question").then(()=>{document.getElementById(t).setAttribute("disabled","disabled");var a=new Date;a.setHours(a.getHours()+3),this.$http.post("/attendance/addAttendance",{emp_id:e,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id,location:this.dsl_list.location[0]||"",datetime_list:a}).then(({data:t})=>{this.employees.push({at_id:t.at_id,emp_id:e,full_name:this.missed_employees.filter(e=>e.emp_id)[0].full_name,main_st_id:this.dsl_list.st_id,st_id:this.dsl_list.st_id,salary_type:this.missed_employees.filter(e=>e.emp_id)[0].salary_type,overtime:0,worked_hours:8,fine:0,fine_reason:null,absent:"0",location:this.dsl_list.location[0]||""}),this.missed_employees=this.missed_employees.filter(t=>t.emp_id!=e)}).catch(()=>{document.getElementById(t).removeAttribute("disabled")})})},set_to_absent(e){this.$confirm("Are you sure this employee is absent ?","","question").then(()=>{var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/attendance/setAbsent/"+e,{dsl_id:this.dsl_list.dsl_id,datetime_list:t}).then(()=>{let t=this.employees.findIndex(t=>t.at_id==e);this.employees[t].absent="1",this.employees[t].worked_hours=0,this.employees[t].overtime=0,this.$alert("Employee absented","Successfull","success")})})},set_to_present(e){this.$confirm("Are you sure this employee is present ?","","question").then(()=>{var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/attendance/cancelAbsent/"+e,{dsl_id:this.dsl_list.dsl_id,datetime_list:t}).then(()=>{let t=this.employees.findIndex(t=>t.at_id==e);this.employees[t].absent="0",this.employees[t].worked_hours=8,this.$alert("Employee presented","Successfull","success")})})},set_to_off(e){this.$confirm("Are you sure this employee is iff ?","","question").then(()=>{var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/attendance/setOff/"+e,{dsl_id:this.dsl_list.dsl_id,datetime_list:t}).then(()=>{let t=this.employees.findIndex(t=>t.at_id==e);this.employees[t].absent="2",this.employees[t].worked_hours=0,this.employees[t].overtime=0,this.$alert("Employee set to Off","Successfull","success")})})},set_worked_hours(e,t){if(this.is_edit){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setWorkedHours/"+t,{worked_hours:e,dsl_id:this.dsl_list.dsl_id,datetime_list:a}).then(()=>{}).catch(e=>{C(e)})}},set_overtime(e,t){if(this.is_edit){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setOvertime/"+t,{overtime:e,dsl_id:this.dsl_list.dsl_id,datetime_list:a}).then(()=>{}).catch(e=>{C(e)})}},set_location(e,t){var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/attendance/setLocation/"+t,{location:e,dsl_id:this.dsl_list.dsl_id,datetime_list:a}).then(()=>{let a=this.employees.findIndex(e=>e.at_id==t);this.employees[a].location=e})},set_food_number(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/daily_staff_list/setFoodNumber/"+this.dsl_list.dsl_id,{food_number:this.dsl_list.food_number,datetime_food:e}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},set_food_group(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/daily_staff_list/setFoodGroup/"+this.dsl_list.dsl_id,{food_group:this.dsl_list.food_group,datetime_food:e}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},get_employee_staff(e){this.single_employee_staff.at_id=e},send_employee(){ie.includes(this.single_employee_staff.new_st_id)?this.$alert("Select new staff","Empty staff","warning"):this.$confirm("Are you sure send this employee to choosed staff ? ","","question").then(()=>{const[e]=this.employees.filter(e=>e.at_id==this.single_employee_staff.at_id);this.$http.patch("/attendance/changeStaff/"+this.single_employee_staff.at_id+"/"+this.single_employee_staff.new_st_id+"/"+this.dsl_list.work_date+"/"+this.dsl_list.st_id,{emp_id:e.emp_id,overtime:e.overtime,worked_hours:e.worked_hours,fine:e.fine,fine_reason:e.fine_reason,absent:e.absent,work_date:this.dsl_list.work_date}).then(()=>{this.$alert("Employee sended","Success","success"),this.employees=this.employees.filter(e=>e.at_id!=this.single_employee_staff.at_id)})})},return_employee(e,t){this.$confirm("Are you sure return this employee to own staff ?","","question").then(()=>{this.$http.patch("/attendance/returnEmployee/"+e+"/"+t,{work_date:this.dsl_list.work_date}).then(()=>{this.employees=this.employees.filter(t=>t.at_id!=e)}).catch(e=>{C(e)})})},update_list(){null!=this.dsl_list.dsl_id&&(ie.includes(this.dsl_list.location)?this.$alert("Write a location","Empty Field","warning"):this.$confirm("Are you sure update the list informations ? ","","question").then(()=>{this.dsl_list.location=this.dsl_list.location.filter(e=>e.length>0);var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:e}).then(()=>{this.$alert("List Updated","Success","success")})}))},update_list_location(e,t){if(ie.includes(this.dsl_list.location.join(",")))this.$alert("Enter location","Empty location","warning");else if(this.dsl_list.location=this.dsl_list.location.filter(e=>e.length>0),this.dsl_list.location.filter(t=>t==e).length>1)this.$alert("Duplicate location","Warning","warning"),this.dsl_list.location[t]="";else{var a=new Date;a.setHours(a.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:a}).then(()=>{var t=[];this.employees.forEach(e=>{this.dsl_list.location.includes(e.location)||t.push(e.at_id)}),t.length>0&&this.$http.patch("/attendance/updateAttendancesLocation",{emps:t,location:e}).then(()=>{t.forEach(t=>{let a=this.employees.findIndex(e=>e.at_id==t);this.employees[a].location=e})})})}},delete_location(e){this.employees.filter(t=>t.location==e).length>0?this.$alert("One of the employees in this location","You can't delete this location","error"):(this.dsl_list.location=this.dsl_list.location.filter(t=>t!=e),this.update_list_location(e,0))},update_attendance(){null!=this.single_employee.at_id&&(this.single_employee.fine<0?this.$alert("You can't set this fine","Warning","warning"):(document.getElementById("btn_update_attendance").setAttribute("disabled","disabled"),this.$http.patch("/attendance/updateAttendance/"+this.single_employee.at_id,{fine:this.single_employee.fine,fine_reason:this.single_employee.fine_reason}).then(()=>{this.$alert("Update Successfull","Success","success");let e=this.employees.findIndex(e=>e.at_id==this.single_employee.at_id);this.employees[e].fine_reason=this.single_employee.fine_reason,this.employees[e].fine=this.single_employee.fine}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_update_attendance").removeAttribute("disabled")})))}},watch:{"dsl_list.work_date":function(e){ie.includes(e)||ie.includes(this.dsl_list.st_id)||(this.get_list(this.dsl_list.st_id,e),this.get_missed_employees())},"dsl_list.st_id":function(e){ie.includes(e)||ie.includes(this.dsl_list.work_date)||(this.get_list(e,this.dsl_list.work_date),this.get_missed_employees())}},computed:{is_edit(){var e=new Date(this.dsl_list.work_date),t=new Date,a=e.getTime()-t.getTime(),s=Math.ceil(a/864e5);return!(s<=-3&&"E"==this.user.role)},filtered_other_staffs(){return this.other.staffs.filter(e=>e.st_id!=this.dsl_list.st_id)},startDate(){const e=new Date,t=e.getFullYear(),a=e.getMonth();return new Date(t,a,2).toISOString().split("T")[0]},endDate(){const e=new Date,t=e.getFullYear(),a=e.getMonth();return new Date(t,a+1,1).toISOString().split("T")[0]}}},oe=le,re=(a("a132"),Object(_["a"])(oe,ae,se,!1,null,"0208f0d1",null)),_e=re.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark mb-4 multi-language"},[e._v(e._s("Employee Debts"))]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-1 col-md-1  mt-2"},[e._v(" Staffs: ")]),a("div",{staticClass:"col-12 col-lg-3 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.st_id,expression:"st_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.st_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)])]),a("div",{staticClass:"row mt-2"},e._l(e.employees,(function(t){return a("div",{key:t.emp_id,staticClass:"col-12 col-lg-3 col-md-3 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){return e.getEmployeeDebtInfo(t.emp_id)}}},[e._v(" "+e._s(t.full_name)+" ")])])})),0),a("hr"),a("div",{staticClass:"my-1 text-dark"},[e._v(" Employee: "+e._s(e.full_name)+" "),e.full_name?a("button",{staticClass:"btn btn-success btn-sm mx-3",attrs:{"data-toggle":"modal","data-target":"#mdl_transaction"},on:{click:function(t){return e.clearTransaction()}}},[a("i",{staticClass:"fa fa-plus"})]):e._e(),e.full_name?a("button",{staticClass:"btn btn-info btn-sm mx-3",on:{click:function(t){return e.clearEmployee()}}},[a("i",{staticClass:"fa fa-broom"})]):e._e()]),e.debt<0?a("div",{staticClass:"my-1 alert alert-warning"},[e._v(" The Employee must retrive: "+e._s((-1*e.debt).toLocaleString())+" "+e._s("Daily"==e.salary_type?"IQD":"$")+" ")]):a("div",{staticClass:"my-1 alert alert-primary"},[e._v(" The Company must give: "+e._s(e.debt.toLocaleString())+" "+e._s("Daily"==e.salary_type?"IQD":"$")+" ")]),a("v-data-table",{staticClass:"text-center",attrs:{headers:e.transactionHeader,items:e.debts,"foote-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item,n=t.index;return[a("tr",[a("td",[e._v(" "+e._s(n+1)+" ")]),a("td",[e._v(" "+e._s((s.transactionAmount>0?s.transactionAmount:-1*s.transactionAmount).toLocaleString())+" "+e._s("Daily"==e.salary_type?"IQD":"$")+" ")]),a("td",[e._v(" "+e._s(e._f("typeFilter")(s.transactionType))+" ")]),a("td",[e._v(" "+e._s(new Date(s.transactionDate).toISOString().split("T")[0])+" ")]),a("td",[a("v-btn",{attrs:{color:"primary",icon:"","data-toggle":"modal","data-target":"#mdl_transaction"},on:{click:function(t){return e.getSingleTransaction(s)}}},[a("v-icon",[e._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteTransaction(s.dtID)}}},[a("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])})],1)],1)]),a("change-pass"),a("div",{staticClass:"modal",attrs:{id:"mdl_transaction"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"mt-2"},[e._v(" Transaction Info ")]),a("button",{staticClass:"float-right btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clearTransaction()}}},[e._v(" × ")])]),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row px-2 py-3"},[a("div",{staticClass:"col-1 pt-2"},[e._v(" Amount: ")]),a("div",{staticClass:"col-12 col-md-11 col-lg-11"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singleTransaction.amount,expression:"singleTransaction.amount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.singleTransaction.amount},on:{input:function(t){t.target.composing||e.$set(e.singleTransaction,"amount",t.target.value)}}})]),a("div",{staticClass:"form-check col-12 my-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singleTransaction.transactionType,expression:"singleTransaction.transactionType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radio",value:"Minus"},domProps:{checked:e._q(e.singleTransaction.transactionType,"Minus")},on:{change:function(t){return e.$set(e.singleTransaction,"transactionType","Minus")}}}),a("label",{staticClass:"form-check-label"},[e._v(" Give to Employee ")])]),a("div",{staticClass:"form-check col-12 my-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singleTransaction.transactionType,expression:"singleTransaction.transactionType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radio",value:"Plus"},domProps:{checked:e._q(e.singleTransaction.transactionType,"Plus")},on:{change:function(t){return e.$set(e.singleTransaction,"transactionType","Plus")}}}),a("label",{staticClass:"form-check-label"},[e._v(" Retrive from Employee ")])]),a("div",{staticClass:"col-1 pt-2 mt-3"},[e._v(" Note: ")]),a("div",{staticClass:"col-12 col-md-11 col-lg-11 mt-3"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.singleTransaction.note,expression:"singleTransaction.note"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.singleTransaction.note},on:{input:function(t){t.target.composing||e.$set(e.singleTransaction,"note",t.target.value)}}})]),e.singleTransaction.dtID?a("button",{staticClass:"btn btn-warning btn-block mt-1",on:{click:function(t){return e.updateTransaction()}}},[e._v(" Save changes ")]):a("button",{staticClass:"btn btn-primary btn-block mt-1",on:{click:function(t){return e.addTransaction()}}},[e._v(" Add ")])])])])])])])],1)},ce=[],me=(a("13d5"),{data(){return{staffs:[],employees:[],emp_id:[],st_id:null,full_name:null,salary_type:"Daily",debts:[],singleTransaction:{dtID:null,amount:0,transactionType:null,note:null}}},beforeCreate(){x("attendance")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e}).catch(e=>{C(e)})},methods:{clearTransaction(){this.singleTransaction.dtID=null,this.singleTransaction.amount=0,this.singleTransaction.transactionType=null,this.singleTransaction.note=null},clearEmployee(){this.emp_id=null,this.full_name=null,this.salary_type="Daily",this.debts=[]},getEmployeeDebtInfo(e){const t=this.employees.find(t=>t.emp_id==e);this.emp_id=e,this.full_name=t.full_name,this.salary_type=t.salary_type,this.$http.get("/employee/getEmployeeTransaction/"+e).then(({data:e})=>{this.debts=e})},addTransaction(){this.singleTransaction.amount>0&&this.singleTransaction.transactionType?this.$http.post("/employee/addDebtTransaction",{emp_id:this.emp_id,transactionAmount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,note:this.singleTransaction.note}).then(({data:e})=>{this.debts.unshift({dtID:e.dtID,emp_id:this.emp_id,transactionAmount:"Minus"==this.singleTransaction.transactionType?-1*this.singleTransaction.amount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,transactionDate:(new Date).toISOString().split("T")[0],note:this.singleTransaction.note||null}),this.clearTransaction()}):this.$alert("Please fill all informations correctly","","warning")},getSingleTransaction(e){this.singleTransaction.dtID=e.dtID,this.singleTransaction.amount="Plus"==e.transactionType?e.transactionAmount:-1*e.transactionAmount,this.singleTransaction.transactionType=e.transactionType,this.singleTransaction.note=e.note},updateTransaction(){this.$http.patch("/employee/updateDebtTransaction/"+this.singleTransaction.dtID,{transactionAmount:this.singleTransaction.amount,transactionType:this.singleTransaction.transactionType,note:this.singleTransaction.note}).then(()=>{let e=this.debts.findIndex(e=>e.dtID==this.singleTransaction.dtID);this.debts[e].transactionAmount="Minus"==this.singleTransaction.transactionType?-1*this.singleTransaction.amount:this.singleTransaction.amount,this.debts[e].transactionType=this.singleTransaction.transactionType,this.debts[e].note=this.singleTransaction.note,this.$alert("Success","","success")})},deleteTransaction(e){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/employee/deleteDebtTransaction/"+e).then(()=>{this.debts=this.debts.filter(t=>t.dtID!=e)})})}},computed:{debt(){return this.debts.reduce((e,t)=>e+Number(t.transactionAmount),0)},transactionHeader(){return[{text:"#",align:"center",sortable:!1},{text:"Amount",align:"center",sortable:!1},{text:"Type",align:"center",sortable:!1},{text:"Date",align:"center",sortable:!1},{text:"Actions",align:"center",sortable:!1}]}},filters:{typeFilter(e){return{Plus:"Retrieved from Employee",Minus:"Gived to Employee"}[e]}},watch:{st_id(e){e?this.$http.post("/employee/getEmployeeBystaff/"+e).then(({data:e})=>{this.employees=e}):this.employees=[]}}}),ue=me,pe=a("8336"),ge=a("8fea"),he=a("132d"),fe=Object(_["a"])(ue,de,ce,!1,null,null,null),ye=fe.exports;c()(fe,{VBtn:pe["a"],VDataTable:ge["a"],VIcon:he["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].month)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].year)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("label",{staticClass:"mt-1 col-xl-2 mb-2"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].phone_number)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text",maxlength:"11"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(t){return e.search()}}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr"),a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].staffs)+" "),a("i",{staticClass:"fa fa-arrow-down"})]),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].staffs)+": ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.staff_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2),e.staff_id?a("div",{staticClass:"col-sm-3 mb-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn-actived-employees"},on:{click:function(t){return e.get_actived()}}},[e._v(" Actived Employees ")])]):e._e(),e.staff_id?a("div",{staticClass:"col-sm-3 mb-2"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{id:"btn-deactived-employees"},on:{click:function(t){return e.get_deactived()}}},[e._v(" Dectived Employees ")])]):e._e()]),a("hr"),a("div",{staticClass:"row no-print"},e._l(e.employees,(function(t){return a("div",{key:t.phone,staticClass:"col-sm-2 mb-2"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){e.phone=t.phone}}},[e._v(" "+e._s(t.full_name)+" ")])])})),0)]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"no-print row"},[a("label",{staticClass:"mt-1 mx-2"},[e._v(" 1 $ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 text-center",attrs:{type:"number",min:"0",readonly:null!=e.gs_id},domProps:{value:e.dollar_price},on:{input:function(t){t.target.composing||(e.dollar_price=t.target.value)}}}),a("label",{staticClass:"mt-1 mx-2"},[e._v(" IQD ")])]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"row px-1 py-1 mb-2",attrs:{id:"report"}},[a("div",{staticClass:"col-12 py-1 multi-language",staticStyle:{border:"1px solid","overflow-x":"auto"}},[a("img",{staticClass:"mb-3 float-right",staticStyle:{border:"1px solid"},attrs:{src:e.employee.personal_image,width:"12%"}}),null!=e.gs_id?a("button",{staticClass:"btn btn-success btn-multi-language ml-1 float-right no-print",attrs:{"data-toggle":"modal","data-target":"#mdl_give_detail"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].give_salary)+" "),a("i",{staticClass:"fa fa-check-circle"})]):a("button",{staticClass:"btn btn-primary btn-multi-language ml-1 float-right no-print",on:{click:function(t){return e.create_monthly_receipt()}}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].create_monthly_receipt)+" "),a("i",{staticClass:"fa fa-plus"})]),e.debt<0?a("span",{staticClass:"mx-5 float-right"},[e._v(" The Employee has "+e._s((-1*e.debt).toLocaleString())+" "+e._s("Daily"==e.employee.salary_type?"IQD":"$")+" ")]):a("span",{staticClass:"mx-5 float-right"},[e._v(" The Company has "+e._s(e.debt.toLocaleString())+" "+e._s("Daily"==e.employee.salary_type?"IQD":"$")+" ")]),a("span",[e._v(" "+e._s(e.givedSalaryLanguage[e.language].report)+": "+e._s(e.month+"/"+e.year)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].id)+": "+e._s(e.employee.emp_id)+" ")]),a("span",{staticStyle:{width:"20%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].phone_number)+": "+e._s(e.phone)+" ")]),a("br"),a("br"),a("span",[e._v(" "+e._s(e.givedSalaryLanguage[e.language].employee_name)+": "+e._s(e.employee.full_name)+" ")]),a("br"),a("br"),a("span",[e._v(" "+e._s(e.givedSalaryLanguage[e.language].staff)+": "+e._s(e.employee.staff_name)+" ")]),a("br"),a("br"),a("span",{staticStyle:{width:"21%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].salary_type)+": "+e._s("Monthly"==e.employee.salary_type?e.givedSalaryLanguage[e.language].monthly:e.givedSalaryLanguage[e.language].daily)+" ")]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].daily_salary)+": "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.daily_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].monthly_salary)+": "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.monthly_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("span",{staticStyle:{width:"29%",display:"inline-block"}},[e._v(e._s(e.givedSalaryLanguage[e.language].hour_salary)+": "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.hour_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("hr"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_worked_hours)+" : "),a("span",[e._v(" "+e._s(e.employee.total_worked_hour)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_overtime)+" : "),a("span",[e._v(" "+e._s(e.employee.total_overtime)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_not_worked_hours)+" : "),a("span",[e._v(" "+e._s(e.employee.total_h_not_work)+" ")])]),a("br"),a("br"),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_present)+" : "),a("span",[e._v(" "+e._s(e.employee.total_present)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_off)+" : "),a("span",[e._v(" "+e._s(e.employee.total_off)+" ")])]),a("span",{staticStyle:{width:"33%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_absent)+" : "),a("span",[e._v(" "+e._s(e.employee.total_absent)+" ")])]),a("hr"),a("div",{staticStyle:{width:"70%",display:"inline-block"}},[a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].one_dollar_price)+" : "),a("span",[e._v(" "+e._s(e.dollar_price)+" ")]),a("span",[e._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_fine_salary)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.total_fine))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[e._v(" IQD "),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.employee.total_fine/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e(),e._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_not_work_salary)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.total_not_work_s))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[e._v(" IQD "),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.employee.total_not_work_s/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e(),e._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_absent_salary)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.total_apsen_s))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-minus text-danger"})]):a("span",[e._v(" IQD "),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.employee.total_apsen_s/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e(),e._v(" "),a("i",{staticClass:"fa fa-minus text-danger"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s("Total Off")+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.total_off_s))+" ")]),e._m(0)]),a("span",{staticClass:"font-weight-bold",staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_overtime_salary)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.total_o_s))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[e._v(" IQD "),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.employee.total_o_s/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e(),e._v(" "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].food_money)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.food_money))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[e._v(" IQD "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].transport_money)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.transport_money))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ "),a("i",{staticClass:"fa fa-plus text-success"})]):a("span",[e._v(" IQD "),a("i",{staticClass:"fa fa-plus text-success"})])]),a("span",{class:{"font-weight-bold":e.each_days.length>=28,"font-weight-normal":e.each_days.length<28},staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].calculated_salary_until_end_of_month)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.last_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")]),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.last_salary/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e()]),a("span",{class:{"font-weight-bold":e.each_days.length<28,"font-weight-normal":e.each_days.length>=28},staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].calculated_salary_until_now)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.now_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")]),"Daily"==e.employee.salary_type?a("span",[e._v(" "+e._s(" ("+((e.now_salary/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e()]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_salary_until_now)+" : "),a("span",[e._v(" "+e._s(e._f("money_filter")(e.employee.gived_salary))+" ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].remain_salary_until_end_of_month)+" : "),(e.last_salary-Number(e.employee.gived_salary)).toFixed(3)>0?a("span",[e._v(" "+e._s(e._f("money_filter")((e.last_salary-Number(e.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[e._v(" 0 ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")]),"Daily"==e.employee.salary_type&&(e.last_salary-Number(e.employee.gived_salary)).toFixed(3)>0?a("span",[e._v(" "+e._s(" ("+(((e.last_salary-Number(e.employee.gived_salary)).toFixed(3)/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e()]),a("span",{staticStyle:{width:"100%",display:"inline-block"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].remain_salary_until_now)+" : "),(e.now_salary-Number(e.employee.gived_salary)).toFixed(3)>0?a("span",[e._v(" "+e._s(e._f("money_filter")((e.now_salary-Number(e.employee.gived_salary)).toFixed(3)||0))+" ")]):a("span",[e._v(" 0 ")]),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")]),"Daily"==e.employee.salary_type&&(e.now_salary-Number(e.employee.gived_salary)).toFixed(3)>0?a("span",[e._v(" "+e._s(" ("+(((e.now_salary-Number(e.employee.gived_salary)).toFixed(3)/e.dollar_price||0)|e.money_filter)+" $)")+" ")]):e._e()]),a("span",{staticStyle:{width:"25%",display:"inline-block"}},[e._v(" "+e._s("Calculate base 26 days")+" : ")]),"Monthly"==e.employee.salary_type&&e.each_days.length>26?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.base_26,expression:"base_26"}],staticClass:"mt-2",staticStyle:{display:"inline !important",zoom:"1.3"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.base_26)?e._i(e.base_26,null)>-1:e.base_26},on:{change:function(t){var a=e.base_26,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&(e.base_26=a.concat([i])):l>-1&&(e.base_26=a.slice(0,l).concat(a.slice(l+1)))}else e.base_26=n}}})]):e._e()]),a("div",{staticClass:"btn-multi-language float-right",staticStyle:{width:"30%",display:"inline"}},[a("table",{staticClass:"table table-bordered text-dark text-center"},[a("thead",[a("th",[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_amount)+" ")]),a("th",[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_date)+" ")])]),a("tbody",e._l(e.each_give_salary,(function(t){return a("tr",{key:t.gsd_id},[a("td",[e._v(" "+e._s(t.gived_salary)+" "),"Monthly"==e.employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("td",[e._v(" "+e._s(e._f("date_filter")(t.gived_date))+" ")])])})),0)])]),a("hr"),a("table",{staticClass:"table table-bordered text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].list_id)+" ")]),a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].staff)+" ")]),a("th",{staticStyle:{width:"14%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].work_date)+" ")]),a("th",{staticStyle:{width:"14%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].location)+" ")]),a("th",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].worked_hours)+" ")]),a("th",{staticStyle:{width:"13%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].overtime_hours)+" ")]),a("th",{staticStyle:{width:"13%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].fine_reason)+" ")]),a("th",{staticStyle:{width:"13%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].fine)+" ")]),a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].status)+" ")]),a("th",[e._v(" List Date ")])]),a("tbody",e._l(e.each_days,(function(t){return a("tr",{key:t.dsl_id,class:{"bg-danger text-white":1==t.absent}},[a("td",[e._v(" "+e._s(t.dsl_id)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.work_date.slice(0,10))+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.worked_hours)+" ")]),a("td",[e._v(" "+e._s(t.overtime)+" ")]),a("td",[e._v(" "+e._s(t.fine_reason)+" ")]),a("td",[e._v(" "+e._s(t.fine)+" ")]),a("td",[e._v(" "+e._s(e._f("absent_filter")(t.absent,e.language))+" ")]),a("td",[e._v(" "+e._s(t.datetime_list?new Date(t.datetime_list).toISOString().split("T")[0]:"")+" "+e._s(t.datetime_list?new Date(t.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)]),a("div",{staticClass:"alert alert-primary text-center"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].employee_name)+" : "+e._s(e.employee.full_name)+" ")])])])])],1)]),a("change-pass"),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_give_detail"}},[a("div",{staticClass:"modal-dialog text-dark"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].give_salary)+" ")])]),a("div",{staticClass:"modal-body"},[e.employee.gived_salary>=e.employee.monthly_salary?a("div",{staticClass:"alert alert-primary text-center"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].employee_gived_all_money)+" ")]):a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4 mt-2 text-center"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_date)+": ")]),a("label",{staticClass:"form-control col-sm-7 text-center"},[e._v(" "+e._s((new Date).toISOString().split("T")[0])+" ")])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-sm-4 mt-2 text-center"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_amount)+": ")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.salary,expression:"salary",modifiers:{lazy:!0}}],staticClass:"form-control col-sm-7 text-center",attrs:{type:"number"},domProps:{value:e.salary},on:{change:function(t){e.salary=t.target.value}}}),"Monthly"==e.employee.salary_type?a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" $ ")]):a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" IQD ")])]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_give_salary"},on:{click:function(t){return e.give_salary()}}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].give_salary)+" "),a("i",{staticClass:"fa fa-dollar-sign fa-sm"})])])])])])])],1)},be=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(" IQD "),a("i",{staticClass:"fas fa-exclamation-triangle text-warning"})])}],Ce={Kurdish:{month:"مـانگ",year:"سـاڵ",phone_number:"ژمارە مۆبایل",search:"گـەڕان",staffs:"ستافەکان",give_salary:"پێدانی مووچە",create_monthly_receipt:"دروستکردنی وەصـڵی مانگانە",report:"ڕاپۆرتی",id:"کۆد",employee_name:"نـاو",staff:"ستاف",salary_type:"جۆری مووچە",monthly_salary:"مووچەی مانگانە",daily_salary:"مووچەی ڕۆژانە",hour_salary:"مووچەی کاتژمێر/کاتی زیادە",total_worked_hours:"کـۆی کارکردن (کاتژمێر)",total_overtime:"کـۆی کاتی زیادە (کاتژمێر)",total_not_worked_hours:"کـۆی کارنەکردن (کاتژمێر)",total_present:"ڕۆژانی ئامادەبوو",total_off:"ڕۆژانی ئۆف (پشوو)",total_absent:"ڕۆژانـی نـەهاتوو",one_dollar_price:"نرخی 1 دۆلار",total_fine_salary:"کـۆی بـڕی سـەرپێچـی",total_not_work_salary:"کـۆی بـڕی کاتی کارنەکردن",total_absent_salary:"کـۆی بـڕی ڕۆژانی نەهاتن",total_overtime_salary:"کـۆی بـڕی کاتی زیادە",food_money:"پارەی خواردن",transport_money:"کرێی هاتووچۆ",calculated_salary_until_end_of_month:"بـڕی مـووچەی هەژمارکراو تا کۆتایی مانگ",calculated_salary_until_now:"بـڕی مـووچەی هەژمارکراو بەپێی سیستم تا ئێستا",gived_salary_until_now:"بـڕی مـووچەی وەرگیراو تا ئێستا",remain_salary_until_end_of_month:"بـڕی مـووچەی مـاوە تا کۆتایی مانگ",remain_salary_until_now:"بڕی مووچەی ماوە تا ئێستا",gived_amount:"بڕی مووچە",gived_date:"بەرواری وەرگرتن",list_id:"ژ.لـیست",work_date:"بـەرواری کارکردن",location:"شوێن",worked_hours:"کارکردن (کاتژمێر)",overtime_hours:"زیادە (کاتژمێر)",fine_reason:"هۆی سەرپێچی",fine:"بـڕی سەرپێچی",status:"دۆخ",monthly:"مانگانە",daily:"ڕۆژانە",present:"ئامادەبوو",absent:"نەهاتوو",off:"ئۆف(پشوو)",employee_gived_all_money:"ئەم کارمەندە هەموو بڕە پارەی مانگەکەی وەرگرتووە",max_give_salary:"زۆرترین بڕی پێدانی مووچە",collimate_give_salary:"بۆ ڕێککردنەوەی مووچە",daily_collimate:"تا 1000 دینار ڕێگەپێدراوە بۆ کارمەندی ڕۆژانە",monthly_collimate:"تا 1 دۆلار ڕێگەپێدراوە بۆ کارمەندی مانگانە"},English:{month:"Month",year:"Year",phone_number:"Phone Number",search:"Search",staffs:"Staffs",give_salary:"Give Salary",create_monthly_receipt:"Create monthly receipt",report:"Report of",id:"ID",employee_name:"Full name",staff:"Staff",salary_type:"Salary type",monthly_salary:"Monthly salary",daily_salary:"Daily salary",hour_salary:"Hour salary\\Overtime",total_worked_hours:"Total worked (hour)",total_overtime:"Total overtime (hour)",total_not_worked_hours:"Total not worked (hour)",total_present:"Total present",total_off:"Total off",total_absent:"Total absent",one_dollar_price:"Price of 1 dollar",total_fine_salary:"Total amount of fine",total_not_work_salary:"Total amount of not worked hours",total_absent_salary:"Total amount of absent days",total_overtime_salary:"Total amount of overtime",food_money:"Food money",transport_money:"Transport money",calculated_salary_until_end_of_month:"Calculated salary until end of month",calculated_salary_until_now:"Calculated salary until now",gived_salary_until_now:"Total gived salary until now",remain_salary_until_end_of_month:"Total remain salary until end of month",remain_salary_until_now:"Total remain salary until now",gived_amount:"Gived amount",gived_date:"Gived date",list_id:"List ID",work_date:"Work date",location:"Location",worked_hours:"Worked (hour)",overtime_hours:"Overtime (hour)",fine_reason:"Fine reason",fine:"Fine",status:"Status",monthly:"Monthly",daily:"Daily",present:"Present",absent:"Absent",off:"Off",employee_gived_all_money:"This employee has gived all monthly salary",max_give_salary:"Maximum amount of give salary",collimate_give_salary:"To collimate salary",daily_collimate:"It has enable until 1000 IQD",monthly_collimate:"It has enable until 1 Dollar"},Arabic:{month:"شهـر",year:"عـام",phone_number:"رقم موبایل",search:"بحـث",staffs:"العاملین",give_salary:"استلام الراتب",create_monthly_receipt:"عمل فاتورة شهرية",report:"تقریر",id:"رقـم",employee_name:"اسـم",staff:"ستاف",salary_type:"نوع الراتب",monthly_salary:"راتب شهري",daily_salary:"الراتب اليومي",hour_salary:"الراتب الساعة / العمل الإضافي",total_worked_hours:"إجمالي العمل (ساعات)",total_overtime:"الإجمالي وقت إضافي (ساعات) ",total_not_worked_hours:"إجمالي وقت التوقف (ساعات)",total_present:"كانت الأيام حاضرا",total_off:"أيام العطلة",total_absent:"الأيام الغیاب",one_dollar_price:"السعر 1 دولار",total_fine_salary:"مجموع الغرامة",total_not_work_salary:"إجمالي وقت التعطل",total_absent_salary:"إجمالي أيام الغياب",total_overtime_salary:"إجمالي الوقت الإضافي",food_money:"أموال الطعام",transport_money:"تكلفة النقل",calculated_salary_until_end_of_month:"مبلغ الراتب المحتسب بنهاية الشهر",calculated_salary_until_now:"مبلغ الراتب المحسوب حسب النظام حتى الآن",gived_salary_until_now:"مقدار الراتب المستلم حتى الآن",remain_salary_until_end_of_month:"يبقى مقدار الراتب حتى نهاية الشهر",remain_salary_until_now:"مبلغ الراتب لا يزال حتى الآن",gived_amount:"مبلغ الراتب",gived_date:"تاريخ استلام",list_id:"ر. قائمة",work_date:"تاريخ العمل",location:"موقع",worked_hours:"(ساعات) العمل",overtime_hours:"إضافي (ساعات)",fine_reason:"سبب الغرامة",fine:"مبلغ الغرامة",status:"حالة",monthly:"شهريا",daily:"اليومي",present:"كان حاضرا",absent:"غیاب",off:"يوم الاجازة (عطلة)",employee_gived_all_money:"حصل الموظف على جميع أموال الشهر",max_give_salary:"الحد الأقصى للراتب",collimate_give_salary:"لضبط الراتب",daily_collimate:"يسمح بحد أقصى 1000 دينار للموظفين المياومين",monthly_collimate:"يُسمح بما يصل إلى 1 دولار للموظفين شهريًا"}},xe={name:"employeeProfile",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),phone:"",gs_id:null,salary:0,employee:{emp_id:null,full_name:null,staff_name:null,salary_type:null,monthly_salary:0,daily_salary:0,hour_salary:0,total_worked_hour:0,total_not_work_s:0,total_overtime:0,total_o_s:0,total_apsen_s:0,total_absent:0,total_present:0,total_fine:0,total_off:0,total_off_s:0,total_s_by_h_work:0,total_final_s:0,gived_salary:0,personal_image:null,food_money:0,transport_money:0,cabina_money:0,expense_money:0,fine_money:0,loan_money:0,accomodation_money:0,other_expense:0,other_minus:0,total_final_s_gui:0,total_s_by_h_work_gui:0},each_days:[],each_give_salary:[],dollar_price:0,employees_btn:{full_name:null},base_26:!1,staff_id:"",staffs:[],employees:[],givedSalaryLanguage:Ce,language:"English",debt:0}},beforeCreate(){x("give_salary")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl"),S()(".btn-multi-language, img").removeClass("float-right"),S()(".btn-multi-language, img").addClass("float-left")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"),S()(".btn-multi-language, img").addClass("float-right"),S()(".btn-multi-language, img").removeClass("float-left"))})},methods:{search(){this.employee.emp_id=null,this.employee.full_name=null,this.employee.staff_name=null,this.employee.salary_type=null,this.employee.monthly_salary=0,this.employee.daily_salary=0,this.employee.hour_salary=0,this.employee.total_worked_hour=0,this.employee.total_not_work_s=0,this.employee.total_overtime=0,this.employee.total_o_s=0,this.employee.total_apsen_s=0,this.employee.total_absent=0,this.employee.total_present=0,this.employee.total_fine=0,this.employee.total_off=0,this.employee.total_off_s=0,this.employee.total_s_by_h_work=0,this.employee.total_final_s=0,this.employee.gived_salary=0,this.employee.personal_image=null,this.employee.food_money=0,this.employee.transport_money=0,this.employee.cabina_money=0,this.employee.expense_money=0,this.employee.fine_money=0,this.employee.loan_money=0,this.employee.accomodation_money=0,this.employee.other_expense=0,this.employee.other_minus=0,this.each_days=[],this.each_give_salary=[],this.dollar_price=0,this.debt=0,this.$http.post("/employee/getEmployeeInfo/"+this.phone+"/"+this.month+"/"+this.year).then(({data:e})=>{if(!e.employee)return this.$alert("هیچ داتایەک نەدۆزرایەوە","","error"),this.employee.emp_id=null,this.employee.full_name=null,this.employee.staff_name=null,this.employee.salary_type=null,this.employee.monthly_salary=0,this.employee.daily_salary=0,this.employee.hour_salary=0,this.employee.total_worked_hour=0,this.employee.total_not_work_s=0,this.employee.total_overtime=0,this.employee.total_o_s=0,this.employee.total_apsen_s=0,this.employee.total_absent=0,this.employee.total_present=0,this.employee.total_fine=0,this.employee.total_off=0,this.employee.total_off_s=0,this.employee.total_s_by_h_work=0,this.employee.total_final_s=0,this.employee.gived_salary=0,this.employee.personal_image=null,this.employee.food_money=0,this.employee.transport_money=0,this.employee.cabina_money=0,this.employee.expense_money=0,this.employee.fine_money=0,this.employee.loan_money=0,this.employee.accomodation_money=0,this.employee.other_expense=0,this.employee.other_minus=0,this.each_days=[],this.each_give_salary=[],this.dollar_price=0,"";this.gs_id=e.gs_id,this.employee.emp_id=e.employee.emp_id||null,this.employee.full_name=e.employee.full_name,this.employee.staff_name=e.employee.staff_name,this.employee.salary_type=e.employee.salary_type,this.employee.personal_image=e.employee.personal_image_path,this.employee.total_worked_hour=e.employee.total_h,this.employee.total_overtime=e.employee.total_o,this.employee.total_fine=e.employee.total_fine,this.employee.total_present=e.employee.count_present,this.employee.total_absent=e.employee.total_apsent,this.employee.hour_salary=e.gived_salary.hour_salary||e.employee.hour_salary,this.employee.daily_salary=e.gived_salary.daily_salary||e.employee.daily_salary,this.employee.monthly_salary=e.gived_salary.monthly_salary||e.employee.monthly_salary,this.employee.total_off=e.employee.count_off,this.employee.total_h_not_work=e.employee.total_h_not_work,this.employee.total_o_s=e.employee.total_o_s,this.employee.total_not_work_s=e.employee.total_not_work_s,this.employee.total_apsen_s=e.employee.total_apsen_s,this.employee.total_off_s=e.employee.total_off_s,this.employee.food_money=e.employee.food_money||e.gived_salary.food_money||0,this.employee.transport_money=e.employee.transport_money||e.gived_salary.transport_money||0,this.employee.cabina_money=e.employee.cabina_money||e.gived_salary.cabina_money||0,this.employee.expense_money=e.employee.expense_money||e.gived_salary.expense_money||0,this.employee.fine_money=e.employee.fine_money||e.gived_salary.fine_money||0,this.employee.loan_money=e.employee.loan_money||e.gived_salary.loan_money||0,this.employee.accomodation_money=e.employee.accomodation_money||e.gived_salary.accomodation_money||0,this.employee.other_expense=e.employee.other_expense||e.gived_salary.other_expense||0,this.employee.other_minus=e.employee.other_minus||e.gived_salary.other_minus||0,this.employee.total_final_s=e.employee.total_final_s-e.employee.total_fine+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus),this.employee.gived_salary=e.employee.gived_salary,this.employee.total_s_by_h_work=(e.employee.total_s_by_h_work+e.employee.total_o_s+e.employee.total_off_s-e.employee.total_fine+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)).toFixed(3),this.dollar_price=e.employee.dollar_price||this.dollar_price,this.each_days=e.each_days;var t=new Date;t.setMonth(this.month-1),t.setFullYear(this.year);const a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),s=this.fridays(this.year,this.month-1),n=a-s;"Monthly"==this.employee.salary_type&&(this.employee.daily_salary=Number(this.employee.monthly_salary/n).toFixed(2),this.employee.hour_salary=Number(this.employee.daily_salary/8).toFixed(2)),this.each_give_salary=e.each_give_salary,this.$http.get("/employee/getEmployeeTransaction/"+this.employee.emp_id).then(({data:e})=>{this.debt=e.reduce((e,t)=>e+Number(t.transactionAmount),0)})})},fridays(e,t){var a,s,n;a=1,s=0,n=new Date(e,t,a);while(n.getMonth()===t)6===n.getDay()&&(s+=1),a+=1,n=new Date(e,t,a);return s},create_monthly_receipt(){11==this.phone.length?this.dollar_price<=0&&"Monthly"==this.employee.salary_type?this.$alert("Enter Dollar price","","warning"):this.$confirm(`دڵنیای لە دروست کردنی وەصڵی مانگی ${this.month}/${this.year}`,"","question").then(()=>{this.$http.post("/gived_salary/addGiveSalary",{emp_id:this.employee.emp_id,salary_month:this.month,salary_year:this.year,monthly_salary:this.employee.monthly_salary,daily_salary:this.employee.daily_salary,hour_salary:this.employee.hour_salary,dollar_price:this.dollar_price,food_money:this.employee.food_money,transport_money:this.employee.transport_money}).then(({data:e})=>{this.gs_id=e.gs_id,this.$alert("","Success","success"),this.$http.post("/employee/getEmployeeInfo/"+this.phone+"/"+this.month+"/"+this.year).then(({data:e})=>{this.employee.total_fine=e.employee.total_fine})}).catch(e=>{C(e)})}):this.$alert("Enter valid phone number","Invalid phone number","warning")},give_salary(){this.salary>0?this.$confirm("دڵنیای لە پێدانی ئەم بڕە پارەیە بۆ کارمەند ؟","","question").then(()=>{document.getElementById("btn_give_salary").style.display="none",this.$http.post("/gived_salary/addGivedDetail",{gs_id:this.gs_id,gived_salary:this.salary}).then(()=>{this.each_give_salary.push({gived_salary:this.salary,gived_date:(new Date).toISOString().split("T")[0]}),this.employee.gived_salary+=Number(this.salary),this.salary=0,this.$alert("Salary gived","Success","success")}).catch(e=>{C(e)}).finally(()=>{var e=document.getElementById("btn_give_salary");e&&(e.style.display="")})}):this.$alert("بڕی مووچە ئەبێت گەورەتربێت لە 0","","warning")},search_staff(){this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(([e])=>{this.employees_btn.full_name=e.full_name})},get_actived(){document.getElementById("btn-actived-employees").setAttribute("disabled","disabled"),this.employees=[],this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:e})=>{this.employees=e}).finally(()=>document.getElementById("btn-actived-employees").removeAttribute("disabled"))},get_deactived(){document.getElementById("btn-deactived-employees").setAttribute("disabled","disabled"),this.employees=[],this.$http.post("/employee/getDeactivedEmployeeBystaff/"+this.staff_id).then(({data:e})=>{this.employees=e}).finally(()=>document.getElementById("btn-deactived-employees").removeAttribute("disabled"))}},filters:{gived_status_filter(e){return 1==e?"بـەڵێ":"نـەخـێـر"},absent_filter(e,t){return[Ce[t].present,Ce[t].absent,Ce[t].off][e]},money_filter(e){if("undefined"==typeof e)return 0;var t=[],a="";e=e.toString(),e.includes(".")?(a=e.substring(e.indexOf(".")),t=e.substring(0,e.indexOf(".")).split("").reverse()):t=e.split("").reverse();var s=[];for(let i=0;i<t.length;i++)s.unshift(t[i]),(i+1)%3==0&&s.unshift(",");".000"==a&&(a="");var n=s.join("")+a;return","==n.charAt(0)?n.slice(1):n},date_filter(e){var t=new Date(e);return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}},watch:{phone(e){11==e.length&&this.search()},month(){11==this.phone.length&&this.search()},year(){11==this.phone.length&&this.search()},staff_id(e){this.employees=[],e?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:e})=>{this.employees=e}):this.employees=[]}},computed:{valid_give_salary(){return"Daily"==this.employee.salary_type?this.employee.total_s_by_h_work>this.employee.total_final_s?this.salary<=Number((Number(this.employee.total_s_by_h_work)-Number(this.employee.gived_salary)).toFixed(3))+Number(1e3):this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1e3):this.employee.total_s_by_h_work>this.employee.total_final_s?this.salary<=Number((Number(this.employee.total_s_by_h_work)-Number(this.employee.gived_salary)).toFixed(3))+Number(1):this.salary<=Number((Number(this.employee.total_final_s)-Number(this.employee.gived_salary)).toFixed(3))+Number(1)},last_salary(){return"Monthly"==this.employee.salary_type?(this.employee.monthly_salary-this.employee.total_fine-this.employee.daily_salary*this.employee.total_absent-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.total_o_s).toFixed(3):(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.total_o_s).toFixed(3)},now_salary(){if(this.base_26&&"Monthly"==this.employee.salary_type){var e=(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.hour_salary*this.employee.total_overtime).toFixed(3);if(this.each_days.length>26){var t=this.each_days.length-26;e-=this.employee.daily_salary*t}return e}return this.employee.salary_type,(this.employee.daily_salary*this.employee.total_present-this.employee.total_fine-this.employee.total_not_work_s+Number(this.employee.food_money)+Number(this.employee.transport_money)+Number(this.employee.cabina_money)+Number(this.employee.expense_money)+Number(this.employee.fine_money)+Number(this.employee.loan_money)+Number(this.employee.accomodation_money)+Number(this.employee.other_expense)+Number(this.employee.other_minus)+this.employee.hour_salary*this.employee.total_overtime).toFixed(3)}}},we=xe,Se=(a("db2b"),Object(_["a"])(we,ve,be,!1,null,"337fbd48",null)),Ae=Se.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6 col-xl-6"},[a("div",{staticClass:"card shadow-lg o-hidden border-0 my-5 animate__animated animate__fadeInDown"},[a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"p-5"},[e._m(0),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control form-control-user",attrs:{type:"text",id:"exampleInputEmail",placeholder:"Enter Phone Number...",name:"email"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control form-control-user",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("button",{staticClass:"btn btn-success btn-block text-white btn-user",attrs:{id:"btn_login",disabled:0==e.username.length||e.password.length<6},on:{click:function(t){return e.login()}}},[e._v("Login")]),a("hr"),e._m(1),e.calculateExpireDate<=14?a("div",{class:"mt-8 alert alert-"+(e.calculateExpireDate>5?"warning":"danger")+" text-center"},[a("i",{staticClass:"fa fa-exclamation-circle mx-2"}),e._v(" Warning: The System will Expires within "+e._s(e.calculateExpireDate)+" Days ")]):e._e()])])])])])])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("h4",{staticClass:"text-dark mb-4"},[e._v(" Ideal Power Company ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[e._v(" Developed by: "),a("a",{attrs:{href:"https://www.facebook.com/SulyTech19",target:"_blank"}},[e._v(" Suly Tech ")]),e._v(" - "),a("a",{attrs:{href:"tel:07705800707"}},[e._v(" 0770 580 0707 ")])])}],Ee={name:"Login",data(){return{username:"",password:"",date:"2023-11-19"}},beforeCreate(){this.$http.post("/isLogged").then(()=>window.location.href="/")},methods:{login(){document.getElementById("btn_login").setAttribute("disabled","disabled"),this.$http.post("/login",{username:this.username,password:this.password}).then(({data:e})=>{1==e&&(window.location.href="/")}).catch(e=>{C(e)}).finally(()=>{document.getElementById("btn_login").removeAttribute("disabled")})}},computed:{calculateExpireDate(){let e=new Date(this.date),t=new Date;const a=e.getTime()-t.getTime();let s=Math.ceil(a/864e5);return s}}},De=Ee,$e=Object(_["a"])(De,ke,Le,!1,null,null,null),Ie=$e.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"alert alert-danger text-center m-4"},[a("h1",[e._v(" Error 404! This page not found ")]),a("hr"),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[e._v(" Home Page "),a("i",{staticClass:"fa fa-home"})])],1)])},Be=[],je={},Te=Object(_["a"])(je,Ne,Be,!1,null,null,null),Me=Te.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[e._v(" "+e._s(e.stafflanguage[e.language].staffs)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:e.stafflanguage[e.language].search+"..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._m(0),a("table",{staticClass:"table table-bordered table-striped text-dark text-center "},[a("thead",[a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.stafflanguage[e.language].ID)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.stafflanguage[e.language].staff_name)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.stafflanguage[e.language].en_name)+" ")]),a("th",{staticClass:"no-print",staticStyle:{width:"25%"}},[e._v(" "+e._s(e.stafflanguage[e.language].employees)+" ")])]),a("tbody",e._l(e.filtered_staffs,(function(t){return a("tr",{key:t.st_id},[a("td",[e._v(" "+e._s(t.st_id)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.engineer)+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employees"},on:{click:function(a){e.st_id=t.st_id}}},[e._v(" "+e._s(e.stafflanguage[e.language].emp_btn)+" ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employees"}},[a("div",{staticClass:"modal-dialog modal-xl text-dark"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-1"},[e._v(" "+e._s(e.stafflanguage[e.language].employees)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-striped table-bordered text-center text-dark"},[a("thead",[a("th",[e._v(" "+e._s(e.stafflanguage[e.language].ID)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].emp_name)+" ")]),a("th",{staticStyle:{width:"25%"}},[e._v(" "+e._s(e.stafflanguage[e.language].salary_type)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].salary)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].food_money)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].transport_money)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].status)+" ")])]),e._l(e.filtered_employees,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name+" "+t.last_name)+" ")]),a("td",[e._v(" "+e._s(e._f("salary_type_filter")(t.salary_type,e.language))+" ")]),"Daily"==t.salary_type?a("td",[e._v(" "+e._s(t.daily_salary)+" IQD ")]):a("td",[e._v(" "+e._s(t.monthly_salary)+" $ ")]),a("td",[e._v(" "+e._s(t.food_money)+" $ ")]),a("td",[e._v(" "+e._s(t.transport_money)+" $ ")]),a("td",{class:{"text-success":1==t.active_status,"text-danger":0==t.active_status}},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")])])}))],2)])])])])],1)},ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[e._v(" Print "),a("i",{staticClass:"fa fa-print"})])}],Oe={Kurdish:{staffs:"ستافەکان",search:"گەڕان",ID:"کۆد",staff_name:"ناوی ستاف",en_name:"سەرپەرشتیار",employees:"کارمەندان",emp_name:"ناو",salary_type:"جۆری مووچە",salary:"مووچە",emp_btn:"بینینی کارمەندان",monthly:"مانگانە",daily:"ڕۆژانە",dsl:"لیستی کارکردنی ڕۆژانە",month:"مانگ",year:"ساڵ",seen:"بینین",location:"شوێن",date:"بەروار",list_id:"ژ.لیست",list_deatail:"ناوەڕۆکی لیست",overtime:"کاتی زیادە",working_time:"کاتی کارکردن",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێجی",present:"ئامادەبوو",absent:"نەهاتوو",off:"ئۆف(پشوو)",main_staff:"ستافی سەرەکی",note:"تێبینی",status:"دۆخ",food_money:"پارەی خواردن",transport_money:"کرێی هاتووچۆ",active:"چالاک",deactive:"ناچالاک"},English:{staffs:"Staffs",search:"Search",ID:"ID",staff_name:"Staff Name",en_name:"Supervisor",employees:"Employees",emp_name:"Name",salary_type:"Salary Type",salary:"Salary",emp_btn:"See Employees",monthly:"Monthly",daily:"Daily",dsl:"Daily Staff List",month:"Month",year:"Year",seen:"Seen",location:"Location",date:"Date",list_id:"List ID",list_deatail:"List Deatils",overtime:"Overtime",working_time:"Working Time",fine:"Fine",fine_reason:"Fine Reason",present:"Present",absent:"Absent",off:"Off",main_staff:"Main Staff",note:"Note",status:"Status",food_money:"Food money",transport_money:"Transport money",active:"Active",deactive:"Deactive"},Arabic:{staffs:"العاملين",search:"بحث",ID:"رقـم",staff_name:"اسم العاملین",en_name:"مشرف",employees:"الموظفين",emp_name:"اسـم",salary_type:"نوع الراتب",salary:"راتب",emp_btn:"رؤية الموظفين",monthly:"شهريا",daily:"اليومي",dsl:"قائمة العمل اليومية",month:"شهـر",year:"عـام",seen:"المحتوى",location:"موقع",date:"التاریخ",list_id:"رقم القائمة",list_deatail:"محتوى القائمة",overtime:"وقت إضافي",working_time:"وقت العمل",fine:"مقدار الغرامة",fine_reason:"سـبب الغرامة",present:"كان حاضرا",absent:"غیـاب",off:"يوم الاجازة",main_staff:"ستاف رئیسیة",note:"ملاحظة",status:"حالة",food_money:"أموال الطعام",transport_money:"تكلفة النقل",active:"نشيط",deactive:"معاق"}},Fe={name:"staffReport",data(){return{staffs:[],employees:[],user:{en_id:null},search:"",st_id:null,stafflanguage:Oe,language:"English"}},beforeCreate(){x("staffReport")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.role=e.type,this.user.en_id=e.en_id||null,this.$http.post("/staff/getStaffReport",{en_id:this.user.en_id}).then(({data:e})=>{this.staffs=e.staffs,this.employees=e.employees})})},computed:{filtered_staffs(){return this.staffs.filter(e=>e.st_id==this.search||e.staff_name.match(this.search)||e.engineer.match(this.search))},filtered_employees(){return this.employees.filter(e=>e.st_id==this.st_id)}},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},filters:{salary_type_filter(e,t){return"Monthly"==e?Oe[t].monthly:Oe[t].daily},status_filter(e,t){return[Oe[t].deactive,Oe[t].active][e]}}},He=Fe,Qe=(a("3ca8"),Object(_["a"])(He,Pe,ze,!1,null,"01cb6344",null)),Re=Qe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[e._v(" "+e._s(e.enginnerslanguage[e.language].enginners_page)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1 no-print"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:e.enginnerslanguage[e.language].search+"..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("button",{staticClass:"btn btn-success mb-2 mx-1 no-print",on:{click:function(t){return e.get_actived()}}},[e._v(" "+e._s(e.enginnerslanguage[e.language].btn_actived)+" ")]),a("button",{staticClass:"btn btn-danger mb-2 mx-1 no-print",on:{click:function(t){return e.get_deactived()}}},[e._v(" "+e._s(e.enginnerslanguage[e.language].btn_deactived)+" ")]),e._m(0),a("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",on:{click:function(t){return e.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].ID)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].first_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].last_name)+" ")]),a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].job_title)+" ")]),a("th",{staticStyle:{width:"9%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 1 ")]),a("th",{staticStyle:{width:"9%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].phone)+" 2 ")]),a("th",{staticStyle:{width:"14%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].registration_date)+" ")]),a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.enginnerslanguage[e.language].status)+" ")]),a("th",{staticClass:"no-print"},[e._v(" "+e._s(e.enginnerslanguage[e.language].actions)+" ")])]),a("tbody",e._l(e.filtered_engineers,(function(t){return a("tr",{key:t.en_id},[a("td",[e._v(" "+e._s(t.en_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name)+" ")]),a("td",[e._v(" "+e._s(t.last_name)+" ")]),a("td",[e._v(" "+e._s(t.job_title)+" ")]),a("td",[e._v(" "+e._s(t.phone1)+" ")]),a("td",[e._v(" "+e._s(t.phone2)+" ")]),a("td",[e._v(" "+e._s(e._f("date_filter")(t.reg_date))+" ")]),a("td",{class:{"text-success":1==t.active_status,"text-danger":0==t.active_status}},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_staff"},on:{click:function(a){e.en_id=t.en_id}}},[e._v(" "+e._s(e.enginnerslanguage[e.language].see_staff)+" ")])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2 multi-language"},[e._v(" "+e._s(e.enginnerslanguage[e.language].staffs)+" ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-center"},[a("thead",[a("th",[e._v(" "+e._s(e.enginnerslanguage[e.language].staff)+" ")])]),a("tbody",e._l(e.filtered_staffs,(function(t){return a("tr",{key:t.st_id},[a("td",[e._v(" "+e._s(t.staff_name)+" ")])])})),0)])])])])])],1)},Ue=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",attrs:{onclick:"window.print()"}},[e._v(" Print "),a("i",{staticClass:"fa fa-print"})])}],Ge={name:"staffReport",data(){return{engineers:[],search:"",staffs:[],en_id:null,enginnerslanguage:j,language:"English"}},beforeCreate(){x("engineerReport")},created(){this.$http.post("/engineer/getEngineerReport").then(({data:e})=>{this.engineers=e}),this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{get_actived(){this.$http.post("/engineer/getActived").then(({data:e})=>{this.engineers=e})},get_deactived(){this.$http.post("/engineer/getDeactived").then(({data:e})=>{this.engineers=e})},refresh(){this.$http.post("/engineer/getEngineerReport").then(({data:e})=>{this.engineers=e})}},computed:{filtered_engineers(){return this.engineers.filter(e=>e.en_id==this.search||e.first_name.match(this.search)||e.last_name.match(this.search)||e.job_title.match(this.search)||e.phone1.match(this.search)||e.phone2.match(this.search)||e.reg_date.match(this.search))},filtered_staffs(){return this.staffs.filter(e=>e.en_id==this.en_id)}},filters:{status_filter(e,t){return[j[t].deactive,j[t].active][e]},date_filter(e){var t=new Date(e);return t.toISOString().split("T")[0]}}},qe=Ge,Ke=(a("2770"),Object(_["a"])(qe,Ye,Ue,!1,null,"3ef6a75c",null)),Je=Ke.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"text-dark multi-language"},[e._v(" "+e._s(e.employeeLangauge[e.language].employees)+" ")]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"mb-2 p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:e.employeeLangauge[e.language].search+"..."},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search_employee(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("button",{staticClass:"btn btn-success mb-2 mx-1",on:{click:function(t){return e.search_employee()}}},[a("i",{staticClass:"fa fa-search"})]),a("button",{staticClass:"btn btn-primary mb-2 mx-1",on:{click:function(t){return e.refresh()}}},[a("i",{staticClass:"fa fa-redo"})]),a("button",{staticClass:"btn btn-success mb-2 mx-1",attrs:{id:"btn_get_all"},on:{click:function(t){return e.get_all()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].btn_all_em)+" ")]),a("button",{staticClass:"btn btn-success mb-2 mx-1",attrs:{id:"btn_get_actived"},on:{click:function(t){return e.get_actived()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].active)+" ")]),a("button",{staticClass:"btn btn-danger mb-2 mx-1",attrs:{id:"btn_get_deactived"},on:{click:function(t){return e.get_deactived()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].deactive)+" ")]),a("button",{staticClass:"btn btn-warning mb-2 mx-1",attrs:{id:"btn_get_iraq"},on:{click:function(t){return e.get_iraqs()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].iraq_em)+" ")]),a("button",{staticClass:"btn btn-warning mb-2 mx-1",attrs:{id:"btn_get_foreign"},on:{click:function(t){return e.get_foreigns()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].foreign_em)+" ")]),e._m(0),a("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[a("thead",[a("th",[e._v(e._s(e.employeeLangauge[e.language].id))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].first_name))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].last_name))]),a("th",[e._v(e._s(e.employeeLangauge[e.language].staff))]),a("th",{staticStyle:{width:"10%"}},[e._v(e._s(e.employeeLangauge[e.language].phone))]),a("th",{staticStyle:{width:"14%"}},[e._v(" "+e._s(e.employeeLangauge[e.language].registration_date))]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.employeeLangauge[e.language].salary_type))]),a("th",{staticStyle:{width:"13%"}},[e._v(e._s(e.employeeLangauge[e.language].salary))]),a("th",{staticStyle:{width:"8%"}},[e._v(" "+e._s(e.employeeLangauge[e.language].status))]),a("th",{staticClass:"no-print",staticStyle:{width:"6%"}})]),a("tbody",e._l(e.employees,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.first_name)+" ")]),a("td",[e._v(" "+e._s(t.last_name)+" ")]),a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(t.phone)+" ")]),a("td",[e._v(" "+e._s(e.organize_date(t.reg_date))+" ")]),a("td",[e._v(" "+e._s(e._f("salary_type_filter")(t.salary_type))+" ")]),a("td",{attrs:{dir:"ltr"}},["Monthly"==t.salary_type?a("span",[e._v(" "+e._s(e._f("money_filter")(t.monthly_salary))+" ")]):a("span",[e._v(" "+e._s(e._f("money_filter")(t.daily_salary))+" ")]),e._v(" "),"Monthly"==t.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("td",{class:{"text-success":1==t.active_status,"text-danger":0==t.active_status}},[e._v(" "+e._s(e._f("status_filter")(t.active_status,e.language))+" ")]),a("td",{staticClass:"no-print"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(a){return e.get_employee(t.emp_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)]),a("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.previos_pagination_btn()}}},[e._v("<")]),e._l(Math.ceil(e.noOfEmployees/15),(function(t){return a("button",{key:t,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(t/5),staticStyle:{display:"none"},on:{click:function(a){return e.get_limited_data(t)}}},[e._v(" "+e._s(t)+" ")])})),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.next_pagination_btn()}}},[e._v(">")])],2)])])],1)]),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].employee_information)+" ")])]),a("div",{staticClass:"modal-body "},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"col-sm-5 mb-2",attrs:{src:e.single_employee.personal_image_path,alt:"No image"}}),a("img",{staticClass:"col-sm-5 mb-2",attrs:{src:e.single_employee.identification_image_path,alt:"No image"}})]),a("hr"),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].id)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.emp_id)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].first_name)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.first_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].last_name)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.last_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].staff)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.staff_name)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].phone)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.phone)+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].country)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e._f("country_filter")(e.single_employee.country))+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].registration_date)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.reg_date.slice(0,10))+" ")]),"2"==e.single_employee.country?a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].expire_passport)+" : ")]):e._e(),"2"==e.single_employee.country?a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e.single_employee.expiry_passport.slice(0,10))+" ")]):e._e(),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].salary_type)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center"},[e._v(" "+e._s(e._f("salary_type_filter")(e.single_employee.salary_type))+" ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].food)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(e._f("money_filter")(e.single_employee.food_money))+" "),a("span",[e._v(" IQD. ")])]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].transport)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(e._f("money_filter")(e.single_employee.transport_money))+" "),a("span",[e._v(" IQD. ")])]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].salary)+" : ")]),"Monthly"==e.single_employee.salary_type?a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(e._f("money_filter")(e.single_employee.monthly_salary))+" $ ")]):a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(e._f("money_filter")(e.single_employee.daily_salary))+" IQD ")]),a("label",{staticClass:"col-sm-3 text-center mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].hour_salary)+" : ")]),a("label",{staticClass:"col-sm-9 form-control text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(e.single_employee.hour_salary)+" "),"Monthly"==e.single_employee.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])])])])])])])])],1)},We=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-primary mb-2 mx-1",attrs:{onclick:"window.print()"}},[e._v(" Print "),a("i",{staticClass:"fa fa-print"})])}],Ze={name:"employeeReport",data(){return{noOfEmployees:0,employees:[],single_employee:{emp_id:null,first_name:null,last_name:null,staff_name:null,phone:null,reg_date:"",salary_type:null,monthly_salary:0,daily_salary:0,hour_salary:0,active_status:null,personal_image_path:null,identification_image_path:null,country:"1",food_money:0,transport_money:0,expiry_passport:""},search:"",current_pagination:1,max_pagination:0,employeeLangauge:Q,language:"English"}},beforeCreate(){x("employeeReport")},created(){this.$http.post("/employee/getNoOfEmployees").then(({data:e})=>{this.noOfEmployees=e.noOfEmployees;var t=Math.ceil(this.noOfEmployees/15),a=Math.ceil(t/5);this.max_pagination=a}).catch(e=>{C(e)}),this.get_limited_data(1)},mounted(){var e=setInterval(()=>{var t=document.getElementsByClassName("pg-group-1");if(t.length>0){for(let e=0;e<t.length;e++)t[e].style.display="inline";clearInterval(e)}},750);k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{next_pagination_btn(){if(this.current_pagination<this.max_pagination){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";++this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},previos_pagination_btn(){if(this.current_pagination>1){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";--this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},get_limited_data(e){var t=0;e>1&&(t=15*(e-1)),this.$http.post("/employee/getData",{offset:t}).then(({data:e})=>{this.employees=e}).catch(e=>{C(e)})},get_employee(e){const[t]=this.employees.filter(t=>t.emp_id==e);this.single_employee.emp_id=t.emp_id,this.single_employee.first_name=t.first_name,this.single_employee.last_name=t.last_name,this.single_employee.staff_name=t.staff_name,this.single_employee.phone=t.phone,this.single_employee.reg_date=t.reg_date,this.single_employee.salary_type=t.salary_type,this.single_employee.monthly_salary=t.monthly_salary,this.single_employee.daily_salary=t.daily_salary,this.single_employee.hour_salary=t.hour_salary,this.single_employee.active_status=t.active_status,this.single_employee.personal_image_path=t.personal_image_path,this.single_employee.identification_image_path=t.identification_image_path,this.single_employee.expiry_passport=this.organize_date(t.expiry_passport),this.single_employee.country=t.country,this.single_employee.food_money=t.food_money,this.single_employee.transport_money=t.transport_money},get_all(){document.getElementById("btn_get_all").setAttribute("disabled","disabled"),this.$http.post("/employee/getAll").then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"}).finally(()=>{document.getElementById("btn_get_all").removeAttribute("disabled")})},get_actived(){document.getElementById("btn_get_actived").setAttribute("disabled","disabled"),this.$http.post("/employee/getActived").then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"}).finally(()=>{document.getElementById("btn_get_actived").removeAttribute("disabled")})},get_deactived(){document.getElementById("btn_get_deactived").setAttribute("disabled","disabled"),this.$http.post("/employee/getDeactived").then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"}).finally(()=>{document.getElementById("btn_get_deactived").removeAttribute("disabled")})},get_iraqs(){document.getElementById("btn_get_iraq").setAttribute("disabled","disabled"),this.$http.post("/employee/getIraq").then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"}).finally(()=>{document.getElementById("btn_get_iraq").removeAttribute("disabled")})},get_foreigns(){document.getElementById("btn_get_foreign").setAttribute("disabled","disabled"),this.$http.post("/employee/getForeign").then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"}).finally(()=>{document.getElementById("btn_get_foreign").removeAttribute("disabled")})},organize_date(e){if(null==e)return null;var t=new Date(e);return t.toISOString().split("T")[0]},search_employee(){""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"})},refresh(){this.get_limited_data(1),this.search="",this.current_pagination=1,document.getElementById("paginations").style.display="block"}},filters:{status_filter(e,t){return[Q[t].deactive,Q[t].active][e]},money_filter(e){var t=e.toString().split("").reverse(),a=[];for(let n=0;n<t.length;n++)a.unshift(t[n]),(n+1)%3==0&&a.unshift(",");var s=a.join("");return","==s.charAt(0)?s.slice(1):s},salary_type_filter(e){return"Monthly"==e?"مـانگانە":"ڕۆژانـە"},country_filter(e){return 1==e?"عـێراقی":"بیانی"}}},Xe=Ze,et=(a("f7e7"),Object(_["a"])(Xe,Ve,We,!1,null,"7134792c",null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark "},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_employee_list)+" "+e._s(e.month+"/"+e.year)+" ")])]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(t){return e.search()}}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.search_staff,expression:"search_staff"}],staticClass:"form-control col-sm-2 float-left no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.search_staff=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.staff_name}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2),e._l(e.filtered_staffs,(function(t){return a("div",{key:t.st_id,staticClass:"col-xl-12 col-md-12 col-sm-12"},[a("label",{staticClass:"w-100 multi-language my-3"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].staff)+" : "+e._s(t.staff_name)+" ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].id)+" ")]),a("th",{staticStyle:{width:"25%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].name)+" ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_fine)+" ")]),a("th",{staticStyle:{width:"18%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_overtime)+" ")]),a("th",{staticStyle:{width:"18%"}},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].gived_amount)+" ")])]),a("tbody",e._l(e.employees.filter((function(e){return e.staff_name==t.staff_name})),(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(e._f("fine_filter")(t.total_fine))+" "),a("span",[e._v(" IQD ")])]),a("td",[e._v(" "+e._s(e._f("money_filter")(t.total_overtime))+" "),"Monthly"==t.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])]),a("td",[e._v(" "+e._s(e._f("money_filter")(t.gived_salary))+" "),"Monthly"==t.salary_type?a("span",[e._v(" $ ")]):a("span",[e._v(" IQD ")])])])})),0),a("caption",{staticClass:"alert alert-primary text-center"},[e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_dollar)+" : "+e._s(e._f("money_filter")((e.gived_salary_staffs.filter((function(e){return e.staff_name==t.staff_name}))[0]||{total_gived_dollar:0}).total_gived_dollar))+" $ "),a("hr"),e._v(" "+e._s(e.givedSalaryLanguage[e.language].total_dinar)+" : "+e._s(e._f("money_filter")((e.gived_salary_staffs.filter((function(e){return e.staff_name==t.staff_name}))[0]||{total_gived_dinar:0}).total_gived_dinar))+" IQD ")])]),a("hr")])}))],2)])],1)])],1)},st=[],nt={Kurdish:{gived_employee_list:"لـیـستی مووچەی وەرگیراوی کارمەندان بۆ مانگی",month:"مـانـگ",year:"سـاڵ",search:"گـەڕان",id:"کـۆد",name:"نـاو",total_fine:"کۆی بڕی سەرپێچی",total_overtime:"کۆی بڕی کاتی زیادە",gived_amount:"بڕی مووچەی وەرگیراو",total_dollar:"کۆی بڕی دۆلار",total_dinar:"کۆی بڕی دینار",staff:"نـاوی سـتاف"},English:{gived_employee_list:"Employee gived salary list for month",month:"Month",year:"Year",search:"Search",id:"ID",name:"Name",total_fine:"Total fine",total_overtime:"Total overtime",gived_amount:"Gived amount",total_dollar:"Total dollar",total_dinar:"Total dinar",staff:"Staff"},Arabic:{gived_employee_list:"قائمة الرواتب التي يتقاضاها الموظفون عن الشهر",month:"شـهـر",year:"عـام",search:"بـحـث",id:"رقـم",name:"اسـم",total_fine:"المبلغ الإجمالي غرامة",total_overtime:"إجمالي الوقت الإضافي",gived_amount:"مبلغ الراتب المستلم",total_dollar:"المبلغ الإجمالي بالدولار",total_dinar:"المبلغ الإجمالي بالدينار",staff:"اسم العاملین"}},it={name:"givedSalaryReport",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],gived_salary_staffs:[],search_staff:"",givedSalaryLanguage:nt,language:"English"}},beforeCreate(){x("givedSalaryReport")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e})},mounted(){this.search(),k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/gived_salary/getGivedSalary/"+this.month+"/"+this.year).then(({data:e})=>{this.employees=e.employees,this.gived_salary_staffs=e.gived_salary_staffs})}},computed:{filtered_staffs(){return""==this.search_staff?this.staffs:this.staffs.filter(e=>e.staff_name==this.search_staff)}},filters:{money_filter(e){var t=[],a="";e=null==e?"":e.toString(),e.includes(".")?(a=e.substring(e.indexOf(".")),t=e.substring(0,e.indexOf(".")).split("").reverse()):t=e.split("").reverse();var s=[];for(let i=0;i<t.length;i++)s.unshift(t[i]),(i+1)%3==0&&s.unshift(",");".000"==a&&(a="");var n=s.join("")+a;return","==n.charAt(0)?n.slice(1):n},fine_filter(e){return"0.00"==e?0:e}},watch:{month(){this.search()},year(){this.search()}}},lt=it,ot=(a("7e2b3"),Object(_["a"])(lt,at,st,!1,null,"70ee8686",null)),rt=ot.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark multi-language"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].employees_data)+" "+e._s(e.month+"/"+e.year)+" ")]),a("hr"),a("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print mb-1",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print mb-1",attrs:{type:"number"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(t){return e.search()}}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].search)+" "),a("i",{staticClass:"fa fa-search"})])]),a("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-success w-100 multi-language"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].overtime)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].amount_overtime)+" ")])]),a("tbody",e._l(e.top_overtime,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.total_o)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-danger w-100 multi-language"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].absent)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].amount_absent)+" ")])]),a("tbody",e._l(e.top_absent,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.total_apsent)+" ")])])})),0)])]),a("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[a("label",{staticClass:"float-right my-3 alert alert-primary w-100 multi-language"},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].fine)+" : ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"20%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].id)+" ")]),a("th",{staticStyle:{width:"50%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].name)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.topEmployeeLanguage[e.language].amount_fine)+" (IQD) ")])]),a("tbody",e._l(e.top_fine,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.total_f)+" ")])])})),0)])])])])],1)])],1)},dt=[],ct={Kurdish:{employees_data:"داتای کارمەندان بۆ : ( غیابات - کاتی زیادە - سەرپێچی ) لە مانگی",month:"مانگ",year:"سـاڵ",search:"گـەڕان",overtime:"کاتی زیادە",absent:"ئامادە نەبوون",fine:"بڕی سەرپێچی",id:"کۆد",name:"نـاو",amount_overtime:"کاتی زیادە",amount_absent:"ڕۆژی نەهاتوو",amount_fine:"سەرپێچی"},English:{employees_data:"Employee's data for: (Absents, Overtime, Fine) in month",month:"Month",year:"Year",search:"Search",overtime:"Overtime",absent:"Absent",fine:"Fine",id:"ID",name:"Name",amount_overtime:"Overtime",amount_absent:"Absent days",amount_fine:"Fine"},Arabic:{employees_data:"بيانات الموظف عن: (الغياب - العمل الإضافي - المخالفة) شهرياً",month:"شـهر",year:"عـام",search:"بـحـث",overtime:"وقت إضافي",absent:"غیابات",fine:"مقدار الغرامة",id:"رقـم",name:"اسـم",amount_overtime:"وقت إضافي",amount_absent:"یوم الغیاب",amount_fine:"الغرامة"}},mt={name:"topEmployees",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),top_overtime:[],top_absent:[],top_fine:[],topEmployeeLanguage:ct,language:"English"}},beforeCreate(){x("topEmployeeReport")},created(){this.search()},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/employee/topOvertime/"+this.month+"/"+this.year).then(({data:e})=>{this.top_overtime=e.top_overtime,this.top_absent=e.top_absent,this.top_fine=e.top_fine})}},filters:{money_filter(e){var t=e.toString().split("").reverse(),a=[];for(let n=0;n<t.length;n++)a.unshift(t[n]),(n+1)%3==0&&a.unshift(",");var s=a.join("");return","==s.charAt(0)?s.slice(1):s},fine_filter(e){return"0.00"==e?0:e}},watch:{year(){this.search()},month(){this.search()}}},ut=mt,pt=(a("c1e4"),Object(_["a"])(ut,_t,dt,!1,null,"e293f7c6",null)),gt=pt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("h3",{staticClass:"text-dark multi-language nrt"},[e._v(" "+e._s(e.stafflanguage[e.language].dsl)+" ")]),a("hr"),a("div",{staticClass:"row nrt multi-language",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s(e.stafflanguage[e.language].month)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s(e.stafflanguage[e.language].year)+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("label",{staticClass:"col-sm-2 mt-1 no-print"},[e._v(" "+e._s(e.stafflanguage[e.language].staff_name)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.st_id,expression:"st_id"}],staticClass:"form-control col-sm-2 no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.st_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success btn-sm-block mx-3 no-print",on:{click:function(t){return e.search()}}},[e._v(" "+e._s(e.stafflanguage[e.language].search)+" "),a("i",{staticClass:"fa fa-search"})]),a("label",{staticClass:"float-right my-3"}),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[a("thead",[a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.stafflanguage[e.language].list_id)+" ")]),a("th",{staticStyle:{width:"15%"}},[e._v(" "+e._s(e.stafflanguage[e.language].date)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.stafflanguage[e.language].location)+" ")]),a("th",{staticStyle:{width:"30%"}},[e._v(" "+e._s(e.stafflanguage[e.language].note)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].seen)+" ")])]),a("tbody",e._l(e.lists,(function(t){return a("tr",{key:t.dsl_id,class:{"bg-warning":"rest"==t.location.toLowerCase()}},[a("td",[e._v(" "+e._s(t.dsl_id)+" ")]),a("td",[e._v(" "+e._s(e._f("date_filter")(t.work_date))+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.note)+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_attendance"},on:{click:function(a){return e.get_attendance(t.dsl_id)}}},[a("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),a("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_attendance"}},[a("div",{staticClass:"modal-dialog modal-xl nrt"},[a("div",{staticClass:"modal-content text-dark"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){e.attendances=[]}}},[e._v(" × ")]),a("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.stafflanguage[e.language].list_deatail)+" ")])]),a("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting",dir:"rtl"}},[e._v(" تکایە چاوەڕوانبە... ")]),a("table",{staticClass:"table table-striped table-bordered text-center text-dark"},[a("thead",[a("th",{staticStyle:{width:"7%"}},[e._v(" "+e._s(e.stafflanguage[e.language].ID)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].emp_name)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.stafflanguage[e.language].overtime)+" ")]),a("th",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.stafflanguage[e.language].working_time)+" ")]),a("th",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.stafflanguage[e.language].fine)+" ")]),a("th",{staticStyle:{width:"20%"}},[e._v(" "+e._s(e.stafflanguage[e.language].fine_reason)+" ")]),a("th",{staticStyle:{width:"10%"}},[e._v(" "+e._s(e.stafflanguage[e.language].present)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].location)+" ")]),a("th",[e._v(" "+e._s(e.stafflanguage[e.language].main_staff)+" ")])]),a("tbody",e._l(e.attendances,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.emp_id)+" ")]),a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.overtime)+" ")]),a("td",[e._v(" "+e._s(t.worked_hours)+" ")]),a("td",[e._v(" "+e._s(t.fine)+" ")]),a("td",[e._v(" "+e._s(t.fine_reason)+" ")]),a("td",{class:{"text-success":0==t.absent,"text-danger":1==t.absent,"text-warning":2==t.absent}},[e._v(" "+e._s(e._f("absent_filter")(t.absent,e.language))+" ")]),a("td",[e._v(" "+e._s(t.location)+" ")]),a("td",[e._v(" "+e._s(t.main_staff)+" ")])])})),0)])])])])])],1)},ft=[],yt={name:"staffList",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),staffs:[],st_id:null,user:{en_id:null},lists:[],attendances:[],stafflanguage:Oe,language:"English"}},beforeCreate(){x("staffListReport")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.role=e.type,this.user.en_id=e.en_id||null,null==this.user.en_id?this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e}):this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:e})=>{this.staffs=e})})},mounted(){k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(S()(".multi-language").addClass("rtl"),S()("#wrapper").attr("dir","rtl")):(S()(".multi-language").removeClass("rtl"),S()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.st_id&&this.year&&this.month?this.$http.post("/daily_staff_list/dslReport/"+this.month+"/"+this.year+"/"+this.st_id).then(({data:e})=>{this.lists=e}):this.$alert("Fill all required fields","Empty Field","warning")},get_attendance(e){document.getElementById("waiting").style.display="block",this.$http.post("/daily_staff_list/dslEachAttendance/"+e).then(({data:e})=>{this.attendances=e,document.getElementById("waiting").style.display="none"})}},filters:{money_filter(e){var t=e.toString().split("").reverse(),a=[];for(let n=0;n<t.length;n++)a.unshift(t[n]),(n+1)%3==0&&a.unshift(",");var s=a.join("");return","==s.charAt(0)?s.slice(1):s},absent_filter(e,t){return[Oe[t].present,Oe[t].absent,Oe[t].off][e]},date_filter(e){var t=new Date(e);return t.toISOString().split("T")[0]}}},vt=yt,bt=(a("15c8"),Object(_["a"])(vt,ht,ft,!1,null,"30e9a416",null)),Ct=bt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark "},[e._v(" "+e._s("Salary List for month")+" "+e._s(e.month+"/"+e.year)+" ")])]),a("hr"),a("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s("Month")+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"col-sm-1 mt-1 no-print"},[e._v(" "+e._s("Year")+" : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(t){return e.search()}}},[e._v(" "+e._s("Search")+" "),a("i",{staticClass:"fa fa-search"})]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.st_id,expression:"st_id"}],staticClass:"form-control col-sm-2 float-left no-print",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.st_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),a("hr",{staticClass:"no-print"}),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" 1 $ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dollar,expression:"dollar"}],staticClass:"form-control col-sm-1",attrs:{type:"number",min:"0"},domProps:{value:e.dollar},on:{input:function(t){t.target.composing||(e.dollar=t.target.value)}}}),a("button",{staticClass:"col-sm-2 btn btn-primary ml-2 no-print",on:{click:function(t){return e.create_monthly_receipt()}}},[e._v(" Create monthly receipt ")])]),a("hr"),a("label",{staticClass:"w-100 multi-language my-3"},[e._v(" "+e._s("Staff")+" : "),""!=e.st_id?a("span",[e._v(" "+e._s(e.staffs.filter((function(t){return t.st_id==e.st_id}))[0].staff_name)+" ")]):e._e()]),a("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[e._v(" Waiting... ")]),a("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2",attrs:{id:"tbl"}},[e._m(0),a("tbody",e._l(e.pre_gived_salaries,(function(t){return a("tr",{key:t.emp_id},[a("td",[e._v(" "+e._s(t.full_name)+" ")]),a("td",[e._v(" "+e._s(t.salary_type)+" ")]),a("td",[e._v(" "+e._s(t.last_give_salary)+" $ ")])])})),0),a("caption",{staticClass:"alert alert-success text-right mt-1 px-5"},[e._v(" Total Salary: "+e._s(e._f("money_filter")(e.get_total_salary.toFixed(3)))+" $ ")])])])],1)])],1)},wt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v(" Name ")]),a("th",[e._v(" Salary Type ")]),a("th",{staticStyle:{width:"50%"}},[e._v(" Total salary ")])])}],St={data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],pre_gived_salaries:[],st_id:"",dollar:0}},beforeCreate(){x("givedSalaryReport")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})},methods:{search(){this.year>=2020&&""!=this.st_id?(document.getElementById("tbl").style.display="none",document.getElementById("waiting").style.display="block",this.$http.post("/gived_salary/getPreGivedSalary/"+this.st_id+"/"+this.month+"/"+this.year).then(({data:e})=>{this.pre_gived_salaries=e,"undefined"==typeof this.pre_gived_salaries[0]?this.dollar=0:this.dollar=this.pre_gived_salaries[0].dollar_price,document.getElementById("tbl").style.display="",document.getElementById("waiting").style.display="none"})):(this.pre_gived_salaries=[],document.getElementById("tbl").style.display="none")},create_monthly_receipt(){Number(this.dollar)<=0||Number(this.year<2020)?this.$alert("Enter correct data","","warning"):this.$confirm("Are you sure you want create receipt for this staff ?","","question").then(()=>{this.$http.post("/gived_salary/addListOfEmployees/"+this.st_id,{dollar_price:this.dollar,salary_month:this.month,salary_year:this.year}).then(({data:e})=>{this.pre_gived_salaries=e,this.dollar=this.pre_gived_salaries[0].dollar_price||0})})}},computed:{get_total_salary(){var e=0;return this.pre_gived_salaries.length>0&&this.pre_gived_salaries.forEach(t=>{e+=t.last_give_salary}),e}},filters:{money_filter(e){if("undefined"==typeof e)return 0;var t=[],a="";e=e.toString(),e.includes(".")?(a=e.substring(e.indexOf(".")),t=e.substring(0,e.indexOf(".")).split("").reverse()):t=e.split("").reverse();var s=[];for(let i=0;i<t.length;i++)s.unshift(t[i]),(i+1)%3==0&&s.unshift(",");".000"==a&&(a="");var n=s.join("")+a;return","==n.charAt(0)?n.slice(1):n}},watch:{st_id(){this.search()},month(){this.search()},year(){this.search()}}},At=St,kt=(a("bd30"),Object(_["a"])(At,xt,wt,!1,null,"49278c5e",null)),Lt=kt.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(t){return e.search()}}},[e._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" 1$ = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dollar_price,expression:"dollar_price"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number"},domProps:{value:e.dollar_price},on:{input:function(t){t.target.composing||(e.dollar_price=t.target.value)}}})]),e.user.en_id?e._e():a("div",{staticClass:"row py-3 mb-1 no-print",attrs:{dir:"rtl"}},[a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" بەڕێوبەر ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:e.manager},on:{input:function(t){t.target.composing||(e.manager=t.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" ب.کارگێڕی ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:e.kargeri},on:{input:function(t){t.target.composing||(e.kargeri=t.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" سەرپەرشتیاری ستاف ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.supervisor,expression:"supervisor"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:e.supervisor},on:{input:function(t){t.target.composing||(e.supervisor=t.target.value)}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" ژمێریار ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:e.accountant},on:{input:function(t){t.target.composing||(e.accountant=t.target.value)}}})]),a("hr",{staticClass:"no-print"}),e._m(0),a("div",{staticClass:"collapse",attrs:{id:"staffs"}},[a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-1"},[e._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.staff_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),e.user.en_id?e._e():a("hr"),e.user.en_id?e._e():a("div",{staticClass:"row no-print"},[a("label",{staticClass:"col-sm-1 mt-2"},[e._v(" Employee: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.emp_id,expression:"emp_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.emp_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.employees,(function(t){return a("option",{key:t.emp_id,domProps:{value:t.emp_id}},[e._v(" "+e._s(t.full_name)+" ")])}))],2)]),e.user.en_id?e._e():a("div",{staticClass:"row no-print"},e._l(e.employees,(function(t){return a("div",{key:t.emp_id,staticClass:"col-3"},[a("v-checkbox",{attrs:{label:t.full_name,value:t.emp_id},model:{value:e.employees_to_zero,callback:function(t){e.employees_to_zero=t},expression:"employees_to_zero"}})],1)})),0)]),e._m(1),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[e._v(" Salary List for Staff: "+e._s(e.staff_id?e.staffs.find((function(t){return t.st_id==e.staff_id})).staff_name:"")+" ")]),a("span",{staticClass:"float-end"},[e._v(" Salary List For "+e._s(e.month)+"/"+e._s(e.year)+" ")])]),a("br"),a("div",{staticClass:"table-responsive mt-5",staticStyle:{"page-break-inside":"always"}},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[e._m(2),a("tbody",[e._l(e.filtered_data.filter((function(e){return"Monthly"==e.salary_type})),(function(t){return a("tr",{key:t.emp_id},[a("td",{staticStyle:{"font-size":"9pt !important"}},[e._v(" "+e._s(t.employee_full_name)+" ")]),a("td",{class:{"text-danger":e.getSuitableSalary(t)<0},staticStyle:{"font-size":"9pt !important"}},[e._v(" "+e._s(e.getSuitableSalary(t).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.count_present<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.count_present)+" ")]),a("td",{class:{"text-danger":t.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.total_hour)+" ")]),a("td",{class:{"text-danger":e.getSuitableSalary(t)*t.count_present<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s((e.getSuitableSalary(t)*t.count_present).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.daily_salary/8*t.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Number((t.daily_salary/8*t.total_hour).toFixed(2)).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.food_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.food_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.transport_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.transport_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.cabina_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.expense_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.expense_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.fine_money-t.total_fine<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s((t.fine_money-t.total_fine).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.loan_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.loan_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.accomodation_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.accomodation_money.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.other_expense.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":t.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.other_minus.toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":Number((e.getSuitableSalary(t)*t.count_present+e.getSuitableSalary(t)/8*t.total_hour+t.food_money+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus)*e.dollar_price)<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(Number((e.getSuitableSalary(t)*t.count_present+Number(e.getSuitableSalary(t)/8*t.total_hour)+Number(t.food_money)+Number(t.transport_money)+Number(t.cabina_money)+Number(t.expense_money)+Number(t.fine_money)-Number(t.total_fine)+Number(t.loan_money)+Number(t.accomodation_money)+Number(t.other_expense)+Number(t.other_minus))*e.dollar_price)).toLocaleString())+" ")]),a("td",{class:{"text-danger":e.getSuitableSalary(t)*t.count_present+e.getSuitableSalary(t)/8*t.total_hour+t.food_money+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Number((e.getSuitableSalary(t)*t.count_present+Number(e.getSuitableSalary(t)/8*t.total_hour)+Number(t.food_money)+Number(t.transport_money)+Number(t.cabina_money)+Number(t.expense_money)+Number(t.fine_money)-Number(t.total_fine)+Number(t.loan_money)+Number(t.accomodation_money)+Number(t.other_expense)+Number(t.other_minus)).toFixed(2)).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")])])})),a("tr",[a("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[e._v(" Total Dollar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para",class:{"text-danger":e.getTotalDollar()<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(e.getTotalDollar()).toLocaleString())+" $ ")])]),e._l(e.filtered_data.filter((function(e){return"Daily"==e.salary_type})),(function(t){return a("tr",{key:t.emp_id},[a("td",{staticStyle:{"font-size":"9pt !important"}},[e._v(" "+e._s(t.employee_full_name)+" ")]),a("td",{class:{"text-danger":t.daily_salary<0},staticStyle:{"font-size":"9pt !important"}},[e._v(" "+e._s(t.daily_salary.toLocaleString()))]),a("td",{class:{"text-danger":t.count_present<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.count_present)+" ")]),a("td",{class:{"text-danger":t.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.total_hour)+" ")]),a("td",{class:{"text-danger":t.daily_salary*t.count_present<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s((t.daily_salary*t.count_present).toLocaleString()))]),a("td",{class:{"text-danger":t.daily_salary/8*t.total_hour<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s((t.daily_salary/8*t.total_hour).toLocaleString()))]),a("td",{class:{"text-danger":t.food_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.food_money.toLocaleString()))]),a("td",{class:{"text-danger":t.transport_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.transport_money.toLocaleString()))]),a("td",{class:{"text-danger":t.cabina_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.cabina_money.toLocaleString()))]),a("td",{class:{"text-danger":t.expense_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.expense_money.toLocaleString()))]),a("td",{class:{"text-danger":t.fine_money-t.total_fine<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s((t.fine_money-t.total_fine).toLocaleString()))]),a("td",{class:{"text-danger":t.loan_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.loan_money.toLocaleString()))]),a("td",{class:{"text-danger":t.accomodation_money<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.accomodation_money.toLocaleString()))]),a("td",{class:{"text-danger":t.other_expense<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.other_expense.toLocaleString()))]),a("td",{class:{"text-danger":t.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(t.other_minus.toLocaleString()))]),a("td",{class:{"text-danger":t.daily_salary*t.count_present+t.daily_salary/8*t.total_hour+t.food_money-t.total_fine+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(Math.round(t.daily_salary*t.count_present)+Math.round(t.daily_salary/8*t.total_hour)+t.food_money-t.total_fine+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus).toLocaleString())+" "+e._s("Monthly"==t.salary_type?"$":"")+" ")]),a("td",{class:{"text-danger":(t.daily_salary*t.count_present+t.daily_salary/8*t.total_hour+t.food_money-t.total_fine+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus)/e.dollar_price<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round((t.daily_salary*t.count_present+t.daily_salary/8*t.total_hour+t.food_money-t.total_fine+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus)/e.dollar_price).toLocaleString())+" $ ")])])})),a("tr",[a("td",{staticClass:"para",staticStyle:{"font-size":"11pt !important"}},[e._v(" Total Dinar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para",class:{"text-danger":e.getTotalDinar()<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(e.getTotalDinar()).toLocaleString())+" ")]),a("td",{staticStyle:{"font-size":"11pt !important"}})]),a("tr",[a("td",{staticClass:"para-total",staticStyle:{"font-size":"11pt !important"}},[e._v(" Total Dinar and Dollar ")]),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticStyle:{"font-size":"11pt !important"}}),a("td",{staticClass:"para-total",class:{"text-danger":e.lastTotalDinar()<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(e.lastTotalDinar()).toLocaleString())+" ")]),a("td",{staticClass:"para-total",class:{"text-danger":e.lastTotalDollar()<0},staticStyle:{"font-size":"11pt !important"}},[e._v(" "+e._s(Math.round(e.lastTotalDollar()).toLocaleString())+" $ ")])])],2)])]),a("br"),a("br"),a("div",{staticClass:"row",staticStyle:{color:"black"}},[a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[e._v(" بەڕێوبەر ")]),a("br"),a("span",[e._v(" "+e._s(e.manager)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[e._v(" ب.کارگێری ")]),a("br"),a("span",[e._v(" "+e._s(e.kargeri)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[e._v(" سەرپەرشتیاری ستاف ")]),a("br"),a("span",[e._v(" "+e._s(e.supervisor)+" ")])]),a("div",{staticClass:"col-3 justify-content-center text-center"},[a("span",[e._v(" ژمێریار ")]),a("br"),a("span",[e._v(" "+e._s(e.accountant)+" ")]),a("br"),a("span",[e._v(" "+e._s((new Date).toISOString().split("T")[0])+" ")]),a("br"),a("span",[e._v(" "+e._s(e.currentTime)+" ")])])])])],1)])],1)},Dt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[e._v(" Staffs "),a("i",{staticClass:"fa fa-arrow-down"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[e._v(" Ideal Power Co. ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Name ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Daily ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Days ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Total Salary ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Overtime Hours ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Food ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Transport ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Cabina ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Expense ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Fine ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Loan ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Accomodation ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Other Expense ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Other Minus ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Total (Dinar) ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[e._v(" Total (Dollar) ")])])}],$t={name:"Salary_List",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,salary_list:[],staffs:[],dollar_price:0,user:{username:"",role:"",en_id:null},manager:"",kargeri:"",supervisor:"",accountant:"",employees:[],emp_id:null,employees_to_zero:[],currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},beforeCreate(){x("salaryList")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.role=e.type,this.user.en_id=e.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)}):this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})})},mounted(){setInterval(()=>{this.currentTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},6e4)},methods:{search_staff(){this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(([e])=>{this.employees_btn.full_name=e.full_name})},search(){this.$http.get("/employee/getSalaryListByMonthAndYear/"+this.month+"/"+this.year+"/"+this.staff_id).then(({data:e})=>{this.salary_list=e})},getSuitableSalary(e){var t=new Date;t.setMonth(this.month-1),t.setFullYear(this.year);const a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),s=this.fridays(this.year,this.month-1),n=a-s;return"Monthly"==e.salary_type?(e.daily_salary=Number(e.monthly_salary/n).toFixed(2),Number(Number(e.monthly_salary/n).toFixed(2))):e.daily_salary},fridays(e,t){var a,s,n;a=1,s=0,n=new Date(e,t,a);while(n.getMonth()===t)6===n.getDay()&&(s+=1),a+=1,n=new Date(e,t,a);return s},getTotalDinar(){return this.filtered_data.filter(e=>"Daily"==e.salary_type).reduce((e,t)=>e+(this.getSuitableSalary(t)*t.count_present-Number(t.total_fine)+this.getSuitableSalary(t)/8*t.total_hour+t.food_money+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus),0)},getTotalDollar(){return this.filtered_data.filter(e=>"Monthly"==e.salary_type).reduce((e,t)=>e+(this.getSuitableSalary(t)*t.count_present-Number(t.total_fine)+this.getSuitableSalary(t)/8*t.total_hour+t.food_money+t.transport_money+t.cabina_money+t.expense_money+t.fine_money+t.loan_money+t.accomodation_money+t.other_expense+t.other_minus),0)},lastTotalDollar(){return this.getTotalDollar()+this.getTotalDinar()/(this.dollar_price||0)},lastTotalDinar(){return this.getTotalDinar()+this.getTotalDollar()*(this.dollar_price||0)}},computed:{filtered_data(){return this.emp_id?this.salary_list.filter(e=>e.emp_id==this.emp_id):this.salary_list}},watch:{staff_id(e){this.search(),this.employees=[],this.emp_id=null,e?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:e})=>{this.employees=e}):this.employees=[]},employees_to_zero(){for(let e=0;e<this.salary_list.length;e++)this.employees_to_zero.includes(this.salary_list[e].emp_id)&&(this.salary_list[e].daily_salary=0,this.salary_list[e].monthly_salary=0,this.salary_list[e].total_o=0,this.salary_list[e].total_hour=0,this.salary_list[e].total_fine=0,this.salary_list[e].count_present=0,this.salary_list[e].food_money=0,this.salary_list[e].transport_money=0,this.salary_list[e].cabina_money=0,this.salary_list[e].expense_money=0,this.salary_list[e].fine_money=0,this.salary_list[e].loan_money=0,this.salary_list[e].accomodation_money=0,this.salary_list[e].other_expense=0,this.salary_list[e].other_minus=0)}}},It=$t,Nt=(a("d15a"),a("ac7c")),Bt=Object(_["a"])(It,Et,Dt,!1,null,"00c77c95",null),jt=Bt.exports;c()(Bt,{VCheckbox:Nt["a"]});var Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),e.isSaved?a("label",{staticClass:"col-sm-1 mt-1"},[e._v(" Groups: ")]):e._e(),e.isSaved?a("select",{directives:[{name:"model",rawName:"v-model",value:e.group,expression:"group"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.group=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),a("option",{attrs:{value:"barzayakan"}},[e._v(" بەرزاییەکان ")]),a("option",{attrs:{value:"A"}},[e._v(" A ")]),a("option",{attrs:{value:"B"}},[e._v(" B ")]),a("option",{attrs:{value:"C"}},[e._v(" C ")]),a("option",{attrs:{value:"D"}},[e._v(" D ")]),a("option",{attrs:{value:"E"}},[e._v(" E ")])]):e._e(),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(t){return e.search()}}},[e._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-xl-2 mb-1"},[e._v(" Price Barzayakan ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_barzayakan,expression:"price_barzayakan",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_barzayakan},on:{input:function(t){t.target.composing||(e.price_barzayakan=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" Price A ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_A,expression:"price_A",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_A},on:{input:function(t){t.target.composing||(e.price_A=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" Price B ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_B,expression:"price_B",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_B},on:{input:function(t){t.target.composing||(e.price_B=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" Price C ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_C,expression:"price_C",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_C},on:{input:function(t){t.target.composing||(e.price_C=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-1 mb-1"},[e._v(" Price D ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_D,expression:"price_D",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_D},on:{input:function(t){t.target.composing||(e.price_D=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{staticClass:"mt-2 col-xl-2 mb-1"},[e._v(" Price E ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price_E,expression:"price_E",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:e.isSaved,type:"number"},domProps:{value:e.price_E},on:{input:function(t){t.target.composing||(e.price_E=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e.group?e._e():[e.isSaved?a("button",{staticClass:"btn btn-danger col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-delete"},on:{click:function(t){return e.delete_list()}}},[e._v(" Delete "),a("i",{staticClass:"fa fa-trash"})]):a("button",{staticClass:"btn btn-primary col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-add"},on:{click:function(t){return e.add_list()}}},[e._v(" Add "),a("i",{staticClass:"fa fa-plus"})])]],2),a("hr",{staticClass:"no-print"}),e._m(0),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[e._v(" Food List For "+e._s(e.month)+"/"+e._s(e.year)+" ")]),e.staff_id?a("span",{staticClass:"float-end"},[e._v(" Food List for Staff: "+e._s(e.staff_id?e.staffs.find((function(t){return t.st_id==e.staff_id})).staff_name:"")+" ")]):e._e()]),a("br"),a("div",{staticClass:"table-responsive mt-5"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[e._m(1),a("tbody",[e._l(e.filtered_data,(function(t,s){return a("tr",{key:s},[a("td",[e._v(" "+e._s(t.staff_name)+" ")]),a("td",[e._v(" "+e._s(e._f("food_group_filter")(t.food_group))+" ")]),a("td",[e._v(" "+e._s(t.food_number)+" ")]),a("td",[e._v(" "+e._s(("barzayakan"==t.food_group?e.price_barzayakan:"A"==t.food_group?e.price_A:"B"==t.food_group?e.price_B:"C"==t.food_group?e.price_C:"D"==t.food_group?e.price_D:"E"==t.food_group?e.price_E:0).toLocaleString())+" ")]),a("td",[e._v(" "+e._s(("barzayakan"==t.food_group?t.food_number*e.price_barzayakan:"A"==t.food_group?t.food_number*e.price_A:"B"==t.food_group?t.food_number*e.price_B:"C"==t.food_group?t.food_number*e.price_C:"D"==t.food_group?t.food_number*e.price_D:"E"==t.food_group?t.food_number*e.price_E:0).toLocaleString())+" ")])])})),a("tr",[a("td",{staticClass:"para",attrs:{colspan:"4"}},[e._v(" Total ")]),a("td",{staticClass:"para"},[e._v(" "+e._s(e.filtered_data.reduce((function(t,a){return t+("barzayakan"==a.food_group?a.food_number*e.price_barzayakan:"A"==a.food_group?a.food_number*e.price_A:"B"==a.food_group?a.food_number*e.price_B:"C"==a.food_group?a.food_number*e.price_C:"D"==a.food_group?a.food_number*e.price_D:"E"==a.food_group?a.food_number*e.price_E:0)}),0).toLocaleString())+" ")])])],2)])])])],1)])],1)},Mt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[e._v(" Ideal Power Co. ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v(" Staff ")]),a("th",[e._v(" Food Group ")]),a("th",[e._v(" Food Numbers ")]),a("th",[e._v(" Price ")]),a("th",[e._v(" Total ")])])}],Pt={name:"FoodList",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),foodList:[],price_barzayakan:0,price_A:0,price_B:0,price_C:0,price_D:0,price_E:0,isSaved:!1,staffs:[],staff_id:null,group:null}},beforeCreate(){x("foodList")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})},methods:{search(){this.$http.get("/daily_staff_list/getFoodList/"+this.month+"/"+this.year).then(({data:e})=>{this.foodList=e.data,this.isSaved=e.message,this.foodList.length>0&&(this.price_barzayakan=this.foodList.find(e=>"barzayakan"==e.food_group)?this.foodList.find(e=>"barzayakan"==e.food_group).price_barzayakan:0,this.price_A=this.foodList.find(e=>"A"==e.food_group)?this.foodList.find(e=>"A"==e.food_group).price_A:0,this.price_B=this.foodList.find(e=>"B"==e.food_group)?this.foodList.find(e=>"B"==e.food_group).price_B:0,this.price_C=this.foodList.find(e=>"C"==e.food_group)?this.foodList.find(e=>"C"==e.food_group).price_C:0,this.price_D=this.foodList.find(e=>"D"==e.food_group)?this.foodList.find(e=>"D"==e.food_group).price_D:0,this.price_E=this.foodList.find(e=>"E"==e.food_group)?this.foodList.find(e=>"E"==e.food_group).price_E:0)})},add_list(){if(0==this.foodList.length)return alert("No data to add");this.group=null;const e=confirm("Are you sure you want to add this list?");if(e){document.getElementById("btn-add").setAttribute("disabled","disabled");const e=this.foodList.map(e=>({dsl_id:e.dsl_id,food_group:e.food_group,food_number:e.food_number,price_barzayakan:this.price_barzayakan,price_A:this.price_A,price_B:this.price_B,price_C:this.price_C,price_D:this.price_D,price_E:this.price_E,month:this.month,year:this.year}));this.$http.post("/daily_staff_list/saveFoodList",{list:e}).then(()=>{alert("List added successfully"),document.getElementById("btn-add").removeAttribute("disabled"),this.foodList=[],this.isSaved=!1}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled")})}},delete_list(){if(0==this.foodList.length)return alert("No data to delete");this.group=null;const e=confirm("Are you sure you want to delete this list?");e&&(document.getElementById("btn-delete").setAttribute("disabled","disabled"),this.$http.delete("/daily_staff_list/deleteFoodList/"+this.month+"/"+this.year).then(()=>{alert("List deleted successfully"),document.getElementById("btn-delete").removeAttribute("disabled"),this.isSaved=!1}).finally(()=>{document.getElementById("btn-delete").removeAttribute("disabled")}))}},computed:{filtered_data(){return this.group?this.foodList.filter(e=>e.food_group==this.group):this.foodList}},watch:{month(){this.search()},year(){this.search()}},filters:{food_group_filter(e){return{A:"A",B:"B",C:"C",D:"D",E:"E",barzayakan:"بەرزاییەکان"}[e]}}},zt=Pt,Ot=(a("f8a7"),Object(_["a"])(zt,Tt,Mt,!1,null,"20b36064",null)),Ft=Ot.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"7"}},[e._v("7")]),a("option",{attrs:{value:"8"}},[e._v("8")]),a("option",{attrs:{value:"9"}},[e._v("9")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"11"}},[e._v("11")]),a("option",{attrs:{value:"12"}},[e._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[e._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),a("label",{staticClass:"col-sm-1 mt-1"},[e._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.staff_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return a("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(t){return e.search()}}},[e._v(" Search "),a("i",{staticClass:"fa fa-search"})]),a("hr")]),a("hr",{staticClass:"no-print"}),e._m(0),a("hr",{staticClass:"my-0"}),a("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[a("span",{staticClass:"float-start"},[e._v(" Food List For "+e._s(e.month)+"/"+e._s(e.year)+" ")]),e.staff_id?a("span",{staticClass:"float-end"},[e._v(" Food List for Staff: "+e._s(e.staff_id?e.staffs.find((function(t){return t.st_id==e.staff_id})).staff_name:"")+" ")]):e._e()]),a("br"),a("div",{staticClass:"table-responsive mt-5"},[a("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[e._m(1),a("tbody",e._l(e.list,(function(t){return a("tr",{key:t.dsl_id},[a("td",[e._v(" "+e._s(t.dsl_id)+" ")]),a("td",[e._v(" "+e._s(new Date(t.work_date).toISOString().split("T")[0])+" ")]),a("td",[e._v(" "+e._s(t.food_number)+" ")]),a("td",[e._v(" "+e._s(t.food_group)+" ")]),a("td",[e._v(" "+e._s(t.datetime_food?new Date(t.datetime_food).toISOString().split("T")[0]:"")+" "+e._s(t.datetime_food?new Date(t.datetime_food).toLocaleString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)])])])],1)])],1)},Qt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:a("70f2")}}),s("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[e._v(" Ideal Power Co. ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v(" List ID ")]),a("th",[e._v(" Work Date ")]),a("th",[e._v(" Food Number ")]),a("th",[e._v(" Food Group ")]),a("th",[e._v(" Food Date ")])])}],Rt={name:"foodGroups",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,staffs:[],list:[]}},beforeCreate(){x("salaryList")},created(){this.$http.post("/staff/getData").then(({data:e})=>{this.staffs=e.filter(e=>"1"==e.show_staff)})},methods:{search(){this.month&&this.year&&this.staff_id?this.$http.get("/daily_staff_list/getFoodsByStaff/"+this.month+"/"+this.year+"/"+this.staff_id).then(({data:e})=>{this.list=e}):this.list=[]}},watch:{month(){this.search()},year(){this.search()},staff_id(){this.search()}}},Yt=Rt,Ut=(a("de56"),Object(_["a"])(Yt,Ht,Qt,!1,null,"789a87eb",null)),Gt=Ut.exports;s["a"].use(y["a"]);const qt=[{path:"/",component:I},{path:"/engineers",component:O},{path:"/employees",component:q},{path:"/users",component:te},{path:"/attendance",component:_e},{path:"/debtTransaction",component:ye},{path:"/give_salary",component:Ae},{path:"/login",component:Ie},{path:"/salary_list",component:jt},{path:"/foodList",component:Ft},{path:"/foodGroups",component:Gt},{path:"/reports/staff",component:Re},{path:"/reports/engineer",component:Je},{path:"/reports/employee",component:tt},{path:"/reports/givedSalary",component:rt},{path:"/reports/topEmployees",component:gt},{path:"/reports/staffList",component:Ct},{path:"/reports/monthlySalary",component:Lt},{path:"*",component:Me}],Kt=new y["a"]({mode:"history",base:"/",routes:qt});var Jt=Kt,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 active",attrs:{id:"nav"}},[a("div",{staticClass:"container-fluid d-flex flex-column p-0"},[e._m(0),a("hr",{staticClass:"sidebar-divider my-0"}),a("ul",{staticClass:"nav navbar-nav text-light w-100",attrs:{id:"accordionSidebar"}},["A"==e.user_type||e.permissions.includes("index")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-home"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].home)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("users")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/users"}},[a("i",{staticClass:"fas fa-users"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].users)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("engineers")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/engineers"}},[a("i",{staticClass:"fas fa-user-nurse"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].supervisors)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("employees")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/employees"}},[a("i",{staticClass:"fas fa-users"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].employees)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("attendance")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/attendance"}},[a("i",{staticClass:"fas fa-hourglass"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].attendance)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("give_salary")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/give_salary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].give_salary)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("debtTransaction")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/debtTransaction"}},[a("i",{staticClass:"fas fa-receipt"}),e._v(" "),a("span",[e._v(" "+e._s("Employee Debts")+" ")])])],1):e._e(),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/salary_list"}},[a("i",{staticClass:"fas fa-hand-holding-usd"}),e._v(" "),a("span",[e._v(" "+e._s("Salary List")+" ")])])],1),"A"==e.user_type||e.permissions.includes("foodList")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/foodList"}},[a("i",{staticClass:"fas fa-receipt"}),e._v(" "),a("span",[e._v(" "+e._s("Food List")+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("foodGroups")?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/foodGroups"}},[a("i",{staticClass:"fas fa-receipt"}),e._v(" "),a("span",[e._v(" "+e._s("Staff Foods")+" ")])])],1):e._e(),a("li",{staticClass:"nav-item dropdown-submenu",attrs:{"data-toggle":"dropdown",role:"button"}},[a("span",{staticClass:"nav-link multi-language"},[a("i",{staticClass:"fa fa-file"}),e._v(" "+e._s(e.navLanguage[e.language].reports)+" ")]),a("ul",{staticClass:"dropdown-menu bg-primary"},["A"==e.user_type||e.permissions.includes("staffReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/staff"}},[a("i",{staticClass:"fas fa-users"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].staffs)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("engineerReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/engineer"}},[a("i",{staticClass:"fas fa-user-nurse"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].supervisors)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("employeeReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/employee"}},[a("i",{staticClass:"fas fa-users"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].employees)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("givedSalaryReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/givedSalary"}},[a("i",{staticClass:"fas fa-money-bill-alt"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].give_salary_report)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("topEmployeeReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/topEmployees"}},[a("i",{staticClass:"fas fa-chevron-up"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].top_employees)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("staffListReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/staffList"}},[a("i",{staticClass:"fas fa-list"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].staff_list_report)+" ")])])],1):e._e(),"A"==e.user_type||e.permissions.includes("monthlySalaryReport")?a("li",[a("router-link",{staticClass:"nav-link multi-language",attrs:{to:"/reports/MonthlySalary"}},[a("i",{staticClass:"fas fa-hand-holding-usd"}),e._v(" "),a("span",[e._v(" "+e._s(e.navLanguage[e.language].salary_list)+" ")])])],1):e._e()])])]),e._m(1)])])},Wt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",attrs:{href:"#"}},[s("div",{staticClass:"sidebar-brand-icon"},[s("img",{staticStyle:{width:"105%"},attrs:{src:a("cf05")}})]),s("div",{staticClass:"sidebar-brand-text mx-3"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"btn rounded-circle border-0",attrs:{id:"sidebarToggle",type:"button"}})])}],Zt={Kurdish:{home:"سەرەکی",users:"بەکارهێنەرەکان",supervisors:"سەرپەرشتیارەکان",employees:"کارمەندەکان",attendance:"غیابات",give_salary:"پێدانی مووچە",reports:"ڕاپۆرتەکان",staffs:"ستافەکان",give_salary_report:"مووچە وەرگیراوەکان",top_employees:"داتای کارمەندان",staff_list_report:"لیستی کارکردنی ستافەکان",salary_list:"لیستی مووچە"},English:{home:"Home",users:"Users",supervisors:"Supervisors",employees:"Employees",attendance:"Attendance",give_salary:"Give Salary",reports:"Reports",staffs:"Staffs",give_salary_report:"Gived salary",top_employees:"Top Employees",staff_list_report:"Staff List reports",salary_list:"Salary List"},Arabic:{home:"الصفحة الرئيسية",users:"بەکارهێنەرەکان",supervisors:"المشرفين",employees:"الموظفين",attendance:"غیابات",give_salary:"كشف رواتب",reports:"التقارير",staffs:"العاملين",give_salary_report:"تم استلام الرواتب",top_employees:"بيانات الموظف",staff_list_report:"قائمة العاملین",salary_list:"قائمة رواتب"}},Xt={name:"navbar",data(){return{permissions:[],isActive:!0,navLanguage:Zt,language:"English",user_type:""}},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user_type=e.type,"U"==e.type?this.permissions=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","debtTransaction"]:"E"==e.type&&(this.permissions=["index","attendance","staffReport","staffListReport"])})},mounted(){document.getElementById("sidebarToggleTop").classList.remove("d-md-none"),document.getElementById("sidebarToggleTop").style.display="inline-block !important",S()("#sidebarToggle, #sidebarToggleTop").on("click",(function(){S()("#nav").toggleClass("active")})),k.$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?S()(".multi-language").addClass("text-right"):S()(".multi-language").removeClass("text-right")})}},ea=Xt,ta=(a("5e62"),Object(_["a"])(ea,Vt,Wt,!1,null,"cdbfe97e",null)),aa=ta.exports,sa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top"},[s("div",{staticClass:"container-fluid"},[e._m(0),s("ul",{staticClass:"nav navbar-nav flex-nowrap ml-auto"},[s("div",{staticClass:"d-none d-sm-block topbar-divider"}),s("li",{staticClass:"nav-item dropdown no-arrow"},[s("div",{staticClass:"nav-item dropdown no-arrow"},[s("a",{staticClass:"dropdown-toggle nav-link",attrs:{"data-toggle":"dropdown","aria-expanded":"false",href:"#"}},[s("span",{staticClass:"d-none d-lg-inline mx-2 text-gray-600 small"},[e._v(" "+e._s(e.username)+" ")]),s("img",{staticClass:"border rounded-circle img-profile",attrs:{src:a("18d5")}})]),s("div",{staticClass:"dropdown-menu shadow dropdown-menu-right animated--grow-in"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}}),e._m(1),s("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.logout()}}},[s("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-800"}),e._v(" Logout")])])])])])])])},na=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop",type:"button"}},[a("i",{staticClass:"fas fa-bars"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)",role:"button","data-toggle":"modal","data-target":"#mdl_change_pass"}},[a("i",{staticClass:"fa fa-key fa-sm fa-fw mr-2 text-gray-800"}),e._v(" Change Password")])}];function ia(e,t,a){var s="";if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),s="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+s+"; path=/"}function la(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s];while(" "==n.charAt(0))n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}var oa={name:"header-btn",data(){return{username:"",langauge:"English"}},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.username=e.username}),["Kurdish","English","Arabic"].includes(la("ideal_power_lang"))?this.langauge=la("ideal_power_lang"):ia("ideal_power_lang","English",30)},methods:{logout(){this.$http.post("/logout").then(()=>{window.location.href="/login"})}},watch:{langauge(e){ia("ideal_power_lang",e,30),k.$emit("languageChanged",e)}}},ra=oa,_a=Object(_["a"])(ra,sa,na,!1,null,null,null),da=_a.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal",attrs:{id:"mdl_change_pass"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control text-center mb-3",attrs:{type:"text",placeholder:"New Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.password.length<6},on:{click:function(t){return e.change_pass()}}},[a("i",{staticClass:"fa fa-save"}),e._v(" Save ")])])])])])},ma=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v(" × ")])])}],ua={name:"changePass",data(){return{password:"",user_id:null}},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user_id=e.user_id})},methods:{change_pass(){this.password.length>=6&&null!=this.user_id?this.$http.patch("/user/updatePassword/"+this.user_id,{password:this.password}).then(()=>{this.$alert("Success","Success","success"),this.password=""}):this.$alert("Password must be more than 6 chatacter","Minimum 6 character","warning")}}},pa=ua,ga=Object(_["a"])(pa,ca,ma,!1,null,null,null),ha=ga.exports,fa=a("f309");s["a"].use(fa["a"]);var ya=new fa["a"]({});s["a"].config.productionTip=!1,l.a.defaults.withCredentials=!0,s["a"].prototype.$http=l.a,s["a"].use(n["a"]),s["a"].component("navbar",aa),s["a"].component("header-btn",da),s["a"].component("change-pass",ha),new s["a"]({router:Jt,vuetify:ya,render:e=>e(h)}).$mount("#app")},"57b2":function(e,t,a){},"5a54":function(e,t,a){},"5e62":function(e,t,a){"use strict";a("eb20")},"70f2":function(e,t,a){e.exports=a.p+"img/Ideal power logo.9f1406b9.png"},"7e2b3":function(e,t,a){"use strict";a("a6fb")},8149:function(e,t,a){"use strict";a("5a54")},a132:function(e,t,a){"use strict";a("22fa")},a2b4:function(e,t,a){"use strict";a("e3c9")},a408:function(e,t,a){},a6fb:function(e,t,a){},b13c:function(e,t,a){},bd30:function(e,t,a){"use strict";a("1e6b")},c1e4:function(e,t,a){"use strict";a("4f33")},cbe5:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.cf01e118.png"},d0c0:function(e,t,a){},d15a:function(e,t,a){"use strict";a("d58e")},d58e:function(e,t,a){},d974:function(e,t,a){},db2b:function(e,t,a){"use strict";a("57b2")},de56:function(e,t,a){"use strict";a("d0c0")},e3c9:function(e,t,a){},eb20:function(e,t,a){},ef2e:function(e,t,a){},f23f:function(e,t,a){},f76a:function(e,t,a){},f7e7:function(e,t,a){"use strict";a("d974")},f8a7:function(e,t,a){"use strict";a("09e4")}});
//# sourceMappingURL=app.46970e3d.js.map