(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a683150"],{"08e0":function(t,a,e){},2023:function(t,a,e){"use strict";e("08e0")},3198:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),e("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[e("div",{attrs:{id:"content"}},[e("header-btn",{staticClass:"no-print"}),e("div",{staticClass:"container-fluid text-dark"},[e("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.month=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),e("option",{attrs:{value:"2"}},[t._v("2")]),e("option",{attrs:{value:"3"}},[t._v("3")]),e("option",{attrs:{value:"4"}},[t._v("4")]),e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"6"}},[t._v("6")]),e("option",{attrs:{value:"7"}},[t._v("7")]),e("option",{attrs:{value:"8"}},[t._v("8")]),e("option",{attrs:{value:"9"}},[t._v("9")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"11"}},[t._v("11")]),e("option",{attrs:{value:"12"}},[t._v("12")])]),e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(a){a.target.composing||(t.year=a.target.value)}}}),e("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Staff: ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.staff_id=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(a){return a.special_staff==t.showSpecialStaffs})),(function(a){return e("option",{key:a.st_id,domProps:{value:a.st_id}},[t._v(" "+t._s(a.staff_name)+" ")])}))],2),e("span",{staticClass:"col-1"},[e("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(a){t.showSpecialStaffs=a},expression:"showSpecialStaffs"}})],1),e("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(a){return t.getData()}}},[t._v(" Search "),e("i",{staticClass:"fa fa-search"})])]),e("hr",{staticClass:"no-print"}),e("table",{staticClass:"table table-bordered text-center text-dark mt-4",staticStyle:{"page-break-inside":"always","font-size":"12pt !important",color:"#262626 !important"}},[t._m(0),e("tbody",[t._l(t.staffs.filter((function(a){return a.special_staff==t.showSpecialStaffs&&t.exist_staff_ids.includes(a.st_id)})),(function(a){return[e("tr",{key:"staff"+a.st_id},[e("td",{staticStyle:{"background-color":"#EBEBF0 !important"},attrs:{colspan:"2"}},[t._v(" "+t._s(a.staff_name)+" ")])]),t._l(t.rows.filter((function(t){return t.st_id==a.st_id})),(function(s,n){return e("tr",{key:"staff"+a.st_id+"emp"+s.emp_id+"inx"+n},[e("td",[t._v(" "+t._s(s.full_name)+" ")]),e("td",[t._v(" "+t._s(s.note)+" ")])])}))]}))],2)])])],1)])],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{staticStyle:{"font-size":"11pt !important",width:"6.5cm"}},[t._v(" Employee ")]),e("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Note ")])])}],i=e("1ab6"),o={data(){return{user:{username:"",role:"",en_id:null},month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,staffs:[],rows:[],exist_staff_ids:[],showSpecialStaffs:"false"}},beforeCreate(){Object(i["a"])("zeroList")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,a)=>t.staff_sort_code-a.staff_sort_code)}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,a)=>t.staff_sort_code-a.staff_sort_code)})})},methods:{getData(){this.rows=[],this.$http.post("/employee/getZerosByMonthAndYear",{month:this.month,year:this.year,staff_id:this.staff_id}).then(({data:t})=>{this.exist_staff_ids=t.map(t=>t.st_id),this.rows=t})}},mounted(){this.getData()},watch:{month:function(){this.getData()},year:function(){this.getData()},staff_id:function(){this.getData()}}},r=o,l=(e("2023"),e("2877")),c=e("6544"),f=e.n(c),u=e("ac7c"),d=Object(l["a"])(r,s,n,!1,null,"5b904d69",null);a["default"]=d.exports;f()(d,{VCheckbox:u["a"]})}}]);
//# sourceMappingURL=chunk-7a683150.6941185d.js.map