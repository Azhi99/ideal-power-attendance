(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ec7f5d9"],{"0467":function(t,a,e){"use strict";e("dcc0")},"1a9b":function(t,a,e){"use strict";a["a"]={Kurdish:{staffs:"ستافەکان",search:"گەڕان",ID:"کۆد",staff_name:"ناوی ستاف",en_name:"سەرپەرشتیار",employees:"کارمەندان",emp_name:"ناو",salary_type:"جۆری مووچە",salary:"مووچە",emp_btn:"بینینی کارمەندان",monthly:"مانگانە",daily:"ڕۆژانە",dsl:"لیستی کارکردنی ڕۆژانە",month:"مانگ",year:"ساڵ",seen:"بینین",location:"شوێن",date:"بەروار",list_id:"ژ.لیست",list_deatail:"ناوەڕۆکی لیست",overtime:"کاتی زیادە",working_time:"کاتی کارکردن",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێجی",present:"ئامادەبوو",absent:"نەهاتوو",off:"ئۆف(پشوو)",main_staff:"ستافی سەرەکی",note:"تێبینی",status:"دۆخ",food_money:"پارەی خواردن",transport_money:"کرێی هاتووچۆ",active:"چالاک",deactive:"ناچالاک"},English:{staffs:"Staffs",search:"Search",ID:"ID",staff_name:"Staff Name",en_name:"Supervisor",employees:"Employees",emp_name:"Name",salary_type:"Salary Type",salary:"Salary",emp_btn:"See Employees",monthly:"Monthly",daily:"Daily",dsl:"Daily Staff List",month:"Month",year:"Year",seen:"Seen",location:"Location",date:"Date",list_id:"List ID",list_deatail:"List Deatils",overtime:"Overtime",working_time:"Working Time",fine:"Fine",fine_reason:"Fine Reason",present:"Present",absent:"Absent",off:"Off",main_staff:"Main Staff",note:"Note",status:"Status",food_money:"Food money",transport_money:"Transport money",active:"Active",deactive:"Deactive"},Arabic:{staffs:"العاملين",search:"بحث",ID:"رقـم",staff_name:"اسم العاملین",en_name:"مشرف",employees:"الموظفين",emp_name:"اسـم",salary_type:"نوع الراتب",salary:"راتب",emp_btn:"رؤية الموظفين",monthly:"شهريا",daily:"اليومي",dsl:"قائمة العمل اليومية",month:"شهـر",year:"عـام",seen:"المحتوى",location:"موقع",date:"التاریخ",list_id:"رقم القائمة",list_deatail:"محتوى القائمة",overtime:"وقت إضافي",working_time:"وقت العمل",fine:"مقدار الغرامة",fine_reason:"سـبب الغرامة",present:"كان حاضرا",absent:"غیـاب",off:"يوم الاجازة",main_staff:"ستاف رئیسیة",note:"ملاحظة",status:"حالة",food_money:"أموال الطعام",transport_money:"تكلفة النقل",active:"نشيط",deactive:"معاق"}}},d696:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),e("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[e("div",{attrs:{id:"content"}},[e("header-btn"),e("div",{staticClass:"container-fluid text-dark"},[e("h3",{staticClass:"text-dark multi-language nrt"},[t._v(" "+t._s(t.stafflanguage[t.language].dsl)+" ")]),e("hr"),e("div",{staticClass:"row nrt multi-language",staticStyle:{"overflow-x":"auto"}},[e("label",{staticClass:"col-lg-1 col-xl-1 col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].month)+" : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.month=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),e("option",{attrs:{value:"2"}},[t._v("2")]),e("option",{attrs:{value:"3"}},[t._v("3")]),e("option",{attrs:{value:"4"}},[t._v("4")]),e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"6"}},[t._v("6")]),e("option",{attrs:{value:"7"}},[t._v("7")]),e("option",{attrs:{value:"8"}},[t._v("8")]),e("option",{attrs:{value:"9"}},[t._v("9")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"11"}},[t._v("11")]),e("option",{attrs:{value:"12"}},[t._v("12")])]),e("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].year)+" : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(a){a.target.composing||(t.year=a.target.value)}}}),e("label",{staticClass:"col-lg-2 col-xl-2 col-sm-2 mt-1 no-print"},[t._v(" "+t._s(t.stafflanguage[t.language].staff_name)+" : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control col-xl-2 col-lg-2 col-sm-7 no-print",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.st_id=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(a){return"E"==t.user.role||a.special_staff==t.showSpecialStaffs})),(function(a){return e("option",{key:a.st_id,domProps:{value:a.st_id}},[t._v(" "+t._s(a.staff_name)+" ")])}))],2),"A"==t.user.role||"K"==t.user.role?e("span",{staticClass:"col-1"},[e("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(a){t.showSpecialStaffs=a},expression:"showSpecialStaffs"}})],1):t._e(),e("button",{staticClass:"btn btn-success btn-sm-block mx-3 no-print",on:{click:function(a){return t.search()}}},[t._v(" "+t._s(t.stafflanguage[t.language].search)+" "),e("i",{staticClass:"fa fa-search"})]),e("label",{staticClass:"float-right my-3"}),e("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[e("thead",[e("th",{staticStyle:{width:"13%"}},[t._v(" "+t._s(t.stafflanguage[t.language].list_id)+" ")]),e("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.stafflanguage[t.language].date)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.stafflanguage[t.language].location)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.stafflanguage[t.language].note)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" Date Time ")]),e("th",[t._v(" "+t._s(t.stafflanguage[t.language].seen)+" ")])]),e("tbody",t._l(t.lists,(function(a){return e("tr",{key:a.dsl_id,class:{"bg-warning":"rest"==a.location.toLowerCase()}},[e("td",[t._v(" "+t._s(a.dsl_id)+" ")]),e("td",[t._v(" "+t._s(t._f("date_filter")(a.work_date))+" ")]),e("td",[t._v(" "+t._s(a.location)+" ")]),e("td",[t._v(" "+t._s(a.note)+" ")]),e("td",[t._v(" "+t._s(a.datetime_list?new Date(a.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_list?new Date(a.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]),e("td",[e("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_attendance"},on:{click:function(e){return t.get_attendance(a.dsl_id)}}},[e("i",{staticClass:"fa fa-eye"})])])])})),0)])])])],1)]),e("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_attendance"}},[e("div",{staticClass:"modal-dialog modal-xl nrt"},[e("div",{staticClass:"modal-content text-dark"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(a){t.attendances=[]}}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.stafflanguage[t.language].list_deatail)+" ")])]),e("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting",dir:"rtl"}},[t._v(" تکایە چاوەڕوانبە... ")]),e("table",{staticClass:"table table-striped table-bordered text-center text-dark"},[e("thead",[e("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.stafflanguage[t.language].ID)+" ")]),e("th",[t._v(" "+t._s(t.stafflanguage[t.language].emp_name)+" ")]),e("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.stafflanguage[t.language].overtime)+" ")]),e("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.stafflanguage[t.language].working_time)+" ")]),e("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.stafflanguage[t.language].fine)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.stafflanguage[t.language].fine_reason)+" ")]),e("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.stafflanguage[t.language].present)+" ")]),e("th",[t._v(" "+t._s(t.stafflanguage[t.language].location)+" ")]),e("th",[t._v(" "+t._s(t.stafflanguage[t.language].main_staff)+" ")])]),e("tbody",t._l(t.attendances,(function(a){return e("tr",{key:a.emp_id},[e("td",[t._v(" "+t._s(a.emp_id)+" ")]),e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.overtime)+" ")]),e("td",[t._v(" "+t._s(a.worked_hours)+" ")]),e("td",[t._v(" "+t._s(a.fine)+" ")]),e("td",[t._v(" "+t._s(a.fine_reason)+" ")]),e("td",{class:{"text-success":0==a.absent,"text-danger":1==a.absent,"text-warning":2==a.absent}},[t._v(" "+t._s(t._f("absent_filter")(a.absent,t.language))+" ")]),e("td",[t._v(" "+t._s(a.location)+" ")]),e("td",[t._v(" "+t._s(a.main_staff)+" ")])])})),0)])])])])])],1)},n=[],i=e("1ab6"),l=e("1a9b"),o=e("cba0"),r=e("1157"),d=e.n(r),_={name:"staffList",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),staffs:[],st_id:null,user:{en_id:null,role:null,username:null},lists:[],attendances:[],stafflanguage:l["a"],language:"English",showSpecialStaffs:"false"}},beforeCreate(){Object(i["a"])("staffListReport")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null==this.user.en_id?this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)}):this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})})},mounted(){o["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(d()(".multi-language").addClass("rtl"),d()("#wrapper").attr("dir","rtl")):(d()(".multi-language").removeClass("rtl"),d()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.st_id&&this.year&&this.month?this.$http.post("/daily_staff_list/dslReport/"+this.month+"/"+this.year+"/"+this.st_id).then(({data:t})=>{this.lists=t}):this.$alert("Fill all required fields","Empty Field","warning")},get_attendance(t){document.getElementById("waiting").style.display="block",this.$http.post("/daily_staff_list/dslEachAttendance/"+t).then(({data:t})=>{this.attendances=t.sort((t,a)=>t.sort_code-a.sort_code),document.getElementById("waiting").style.display="none"})}},filters:{money_filter(t){var a=t.toString().split("").reverse(),e=[];for(let n=0;n<a.length;n++)e.unshift(a[n]),(n+1)%3==0&&e.unshift(",");var s=e.join("");return","==s.charAt(0)?s.slice(1):s},absent_filter(t,a){return[l["a"][a].present,l["a"][a].absent,l["a"][a].off][t]},date_filter(t){var a=new Date(t);return a.toISOString().split("T")[0]}}},f=_,c=(e("0467"),e("2877")),u=e("6544"),m=e.n(u),g=e("ac7c"),v=Object(c["a"])(f,s,n,!1,null,"b3074f0a",null);a["default"]=v.exports;m()(v,{VCheckbox:g["a"]})},dcc0:function(t,a,e){}}]);
//# sourceMappingURL=chunk-6ec7f5d9.ab2358ce.js.map