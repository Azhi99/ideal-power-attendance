(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8319cb7a"],{"0e7f":function(t,e,a){},3198:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Staff: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.getData()}}},[t._v(" Search "),a("i",{staticClass:"fa fa-search"})])]),a("hr",{staticClass:"no-print"}),a("table",{staticClass:"table table-bordered text-center text-dark mt-4",staticStyle:{"page-break-inside":"always","font-size":"12pt !important",color:"#262626 !important"}},[t._m(0),a("tbody",[t._l(t.staffs.filter((function(e){return t.exist_staff_ids.includes(e.st_id)})),(function(e){return[a("tr",{key:"staff"+e.st_id},[a("td",{staticStyle:{"background-color":"#EBEBF0 !important"},attrs:{colspan:"2"}},[t._v(" "+t._s(e.staff_name)+" ")])]),t._l(t.rows.filter((function(t){return t.st_id==e.st_id})),(function(s,n){return a("tr",{key:"staff"+e.st_id+"emp"+s.emp_id+"inx"+n},[a("td",[t._v(" "+t._s(s.full_name)+" ")]),a("td",[t._v(" "+t._s(s.note)+" ")])])}))]}))],2)])])],1)])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticStyle:{"font-size":"11pt !important",width:"6.5cm"}},[t._v(" Employee ")]),a("th",{staticStyle:{"font-size":"11pt !important"}},[t._v(" Note ")])])}],i=a("1ab6"),o={data(){return{user:{username:"",role:"",en_id:null},month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,staffs:[],rows:[],exist_staff_ids:[]}},beforeCreate(){Object(i["a"])("zeroList")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})})},methods:{getData(){this.rows=[],this.$http.post("/employee/getZerosByMonthAndYear",{month:this.month,year:this.year,staff_id:this.staff_id}).then(({data:t})=>{this.exist_staff_ids=t.map(t=>t.st_id),this.rows=t})}},mounted(){this.getData()},watch:{month:function(){this.getData()},year:function(){this.getData()},staff_id:function(){this.getData()}}},r=o,l=(a("d5bd"),a("2877")),f=Object(l["a"])(r,s,n,!1,null,null,null);e["default"]=f.exports},d5bd:function(t,e,a){"use strict";a("0e7f")}}]);
//# sourceMappingURL=chunk-8319cb7a.04790746.js.map