(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c914d"],{"582f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"animate__animated animate__fadeInLeft rtl",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn"),a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"row"},[a("label",{staticClass:"mt-2 ms-2 me-3 mb-2"},[t._v(" From: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control col-sm-2",attrs:{type:"date"},domProps:{value:t.from},on:{change:function(e){return t.getData()},input:function(e){e.target.composing||(t.from=e.target.value)}}}),a("label",{staticClass:"mt-2 ms-2 me-3 mb-2"},[t._v(" To: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control col-sm-2",attrs:{type:"date"},domProps:{value:t.to},on:{change:function(e){return t.getData()},input:function(e){e.target.composing||(t.to=e.target.value)}}}),a("label",{staticClass:" ms-6 mt-2 me-3"},[t._v(" Project: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.work_project_id,expression:"work_project_id"}],staticClass:"form-control col-sm-2 mb-2 px-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.work_project_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.work_projects,(function(e){return a("option",{key:e.work_project_id,domProps:{value:e.work_project_id}},[t._v(" "+t._s(e.work_project_name)+" ")])}))],2)]),a("table",{staticClass:"table table-bordered table-striped text-center mt-4",staticStyle:{"page-break-inside":"always","font-size":"11pt !important",color:"black"}},[t._m(1),a("tbody",t._l(t.workingProjects,(function(e,s){return a("tr",{key:"prrrr"+s},[a("td",[t._v(t._s(e.work_project_name))]),a("td",[t._v(t._s(new Date(e.work_date).toISOString().split("T")[0]))]),a("td",[t._v(t._s(e.total_employees))]),a("td",[a("button",{staticClass:"btn btn-sm btn-success",attrs:{"data-toggle":"modal","data-target":"#mdlProjectEmployees"},on:{click:function(a){return t.getProjectEmployees(e.work_project_id,e.work_date)}}},[a("v-icon",{attrs:{color:"white",size:"20"}},[t._v(" mdi-eye ")])],1)])])})),0)])])],1)]),a("change-pass"),a("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlProjectEmployees"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v("Ã—")]),a("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.selected_work_project_name)+" Employees ")])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered table-striped text-center ",staticStyle:{"page-break-inside":"always","font-size":"11pt !important",color:"black"}},[t._m(2),a("tbody",t._l(t.projectEmployees,(function(e,s){return a("tr",{key:"emp-prrrr"+s},[a("td",[t._v(t._s(e.employee_full_name))]),a("td",[t._v(t._s(e.job))]),a("td",{class:"0"==e.absent?"text-success":"1"==e.absent?"text-error":"text-warning"},[t._v(" "+t._s("0"==e.absent?"Present":"1"==e.absent?"Absent":"Off")+" ")])])})),0)])])])])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[a("h3",{staticClass:"text-dark mb-0"},[t._v(" Working Projects ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"py-2"},[t._v("Project")]),a("th",{staticClass:"py-2"},[t._v("Date")]),a("th",{staticClass:"py-2"},[t._v("Working Employees")]),a("th",{staticClass:"py-2"},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"py-2"},[t._v("Employee")]),a("th",{staticClass:"py-2"},[t._v("Job")]),a("th",{staticClass:"py-2"},[t._v("Absent")])])])}],r=a("1ab6"),n={name:"workingProjects",data(){return{from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0],workingProjects:[],work_projects:[],work_project_id:null,projectEmployees:[],selected_work_project_name:null}},beforeCreate(){Object(r["a"])("employees")},mounted(){this.$http.post("/work_projects/getData").then(t=>{this.work_projects=t.data.filter(t=>"enabled"==t.work_project_status),this.getData()})},methods:{getData(){this.$http.post("/work_projects/workingProjectsReport",{from:this.from,to:this.to,work_project_id:this.work_project_id}).then(t=>{this.workingProjects=t.data})},getProjectEmployees(t,e){this.projectEmployees=[],this.selected_work_project_name=(this.work_projects.find(e=>e.work_project_id==t)||{work_project_name:""}).work_project_name,this.$http.post("/work_projects/getProjectEmployees",{work_date:e,work_project_id:t}).then(t=>{this.projectEmployees=t.data})}}},i=n,l=a("2877"),c=a("6544"),d=a.n(c),_=a("132d"),m=Object(l["a"])(i,s,o,!1,null,null,null);e["default"]=m.exports;d()(m,{VIcon:_["a"]})}}]);
//# sourceMappingURL=chunk-2d0c914d.c1190a66.js.map