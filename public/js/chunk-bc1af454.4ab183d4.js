(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc1af454"],{"036f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),a("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("header-btn",{staticClass:"no-print"}),a("div",{staticClass:"px-0-print container-fluid text-dark"},[a("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-xl-1 mb-2"},[t._v(" Month: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"6"}},[t._v("6")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"8"}},[t._v("8")]),a("option",{attrs:{value:"9"}},[t._v("9")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"11"}},[t._v("11")]),a("option",{attrs:{value:"12"}},[t._v("12")])]),a("label",{staticClass:"mt-2 col-xl-1 mb-2"},[t._v(" Year: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),a("label",{staticClass:" ms-6 mt-2 me-3"},[t._v(" Project: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.work_project_id,expression:"work_project_id"}],staticClass:"form-control col-sm-2 mb-2 px-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.work_project_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.work_projects,(function(e){return a("option",{key:e.work_project_id,domProps:{value:e.work_project_id}},[t._v(" "+t._s(e.work_project_name)+" ")])}))],2)]),a("div",{staticClass:"row px-1 pb-3 pt-0 mb-1 no-print"},[a("label",{staticClass:"mt-2 col-1 "},[t._v(" Staffs: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-2 mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return e.special_staff==t.showSpecialStaffs})),(function(e){return a("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),a("span",{staticClass:"col-1"},[a("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(e){t.showSpecialStaffs=e},expression:"showSpecialStaffs"}})],1),a("label",{staticClass:" ms-6 mt-2 me-3"},[t._v(" Employee: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.emp_id,expression:"emp_id"}],staticClass:"form-control col-sm-2 mb-2 px-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.emp_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return a("option",{key:"ee"+e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2),t._m(0)]),a("div",{staticStyle:{color:"black","margin-top":"18px","margin-bottom":"18px"}},[a("span",[t._v("Employee work projects "+t._s(t.month)+"/"+t._s(t.year))]),a("span",{staticStyle:{"margin-inline-start":"58px"}},[t._v(t._s(t.staff_id?"Staff: "+t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:""))]),a("span",{staticStyle:{"margin-inline-start":"58px"}},[t._v(t._s(t.work_project_id?"Project: "+t.work_projects.find((function(e){return e.work_project_id==t.work_project_id})).work_project_name:""))]),a("span",{staticStyle:{"margin-inline-start":"58px"}},[t._v(t._s(t.emp_id?"Employee: "+t.employees.find((function(e){return e.emp_id==t.emp_id})).full_name:""))])]),a("table",{staticClass:"table table-bordered table-striped text-center ",staticStyle:{"page-break-inside":"always","font-size":"11pt !important",color:"black"}},[t._m(1),a("tbody",t._l(t.rows,(function(e,s){return a("tr",{key:"rr"+s},[a("td",[t._v(t._s(e.employee_full_name))]),a("td",[t._v(t._s(e.staff_name))]),a("td",[t._v(t._s(e.work_project_name))]),a("td",[t._v(t._s(e.total_working_days_in_project))])])})),0)])])],1)])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-success ms-4 col-1",staticStyle:{height:"38px"}},[a("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"py-2"},[t._v("Employee")]),a("th",{staticClass:"py-2"},[t._v("Staff")]),a("th",{staticClass:"py-2"},[t._v("Project")]),a("th",{staticClass:"py-2"},[t._v("Working Days")])])])}],r=a("1ab6"),i={name:"WorkProjectsReport",data(){return{staff_id:null,staffs:[],showSpecialStaffs:"false",work_projects:[],work_project_id:null,employees:[],emp_id:null,month:(new Date).getMonth()+1,year:(new Date).getFullYear(),rows:[]}},beforeCreate(){Object(r["a"])("WorkProjectsReport")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})},mounted(){this.$http.post("/work_projects/getData").then(t=>{this.work_projects=t.data.filter(t=>"enabled"==t.work_project_status),this.getData()})},methods:{getData(){this.$http.post("/work_projects/report",{mopnth:this.month,year:this.year,st_id:this.staff_id||null,work_project_id:this.work_project_id||null,emp_id:this.emp_id||null}).then(t=>{this.rows=t.data})}},watch:{staff_id(t){this.employees=[],this.emp_id=null,this.getData(),t?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t}):this.employees=[]},month(){this.getData()},year(){this.getData()},work_project_id(){this.getData()},emp_id(){this.getData()}}},n=i,l=(a("14cb"),a("2877")),c=a("6544"),p=a.n(c),_=a("ac7c"),m=Object(l["a"])(n,s,o,!1,null,"d331381e",null);e["default"]=m.exports;p()(m,{VCheckbox:_["a"]})},"14cb":function(t,e,a){"use strict";a("91f0")},"91f0":function(t,e,a){}}]);
//# sourceMappingURL=chunk-bc1af454.4ab183d4.js.map