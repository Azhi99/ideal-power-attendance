{"version":3,"sources":["webpack:///./src/components/staff_expenses.vue?9552","webpack:///src/components/staff_expenses.vue","webpack:///./src/components/staff_expenses.vue?73a0","webpack:///./src/components/staff_expenses.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","st_id","multiple","_l","staffs","obj","special_staff","showSpecialStaffs","staff","key","domProps","_v","_s","staff_name","model","callback","$$v","clear_expense","clear_project","headers","rows","scopedSlots","_u","fn","ref","item","toLocaleString","Date","expense_date","toISOString","split","get_single_expense","delete_expense","staff_expense_id","single_expense","$set","composing","project","project_id","project_name","update_expense","add_expense","single_project","class","add_project","update_project","_e","project_search","_m","get_project","delete_project","staticRenderFns","nullValues","data","expense_text","qty","unit","price","user","location","username","role","en_id","text","align","sortable","projects","beforeCreate","auth","created","computed","filtered_projects","mounted","setTimeout","methods","getData","document","finally","then","catch","err","showError","watch","component","VBtn","VCheckbox","VDataTable","VIcon"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,SAAS,CAACG,YAAY,iDAAiDC,YAAY,CAAC,QAAU,QAAQF,MAAM,CAAC,GAAK,SAASF,EAAG,MAAM,CAACG,YAAY,4DAA4DC,YAAY,CAAC,QAAU,mBAAmBF,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,aAAa,CAACG,YAAY,aAAaH,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACH,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAS,MAAEa,WAAW,UAAUN,YAAY,wBAAwBO,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,KAAO1B,EAAI4B,MAAMb,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,MAAM,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAMN,EAAI8B,GAAI9B,EAAI+B,OAAOZ,QAAO,SAAUa,GAAO,OAAOA,EAAIC,eAAiBjC,EAAIkC,sBAAuB,SAASC,GAAO,OAAO/B,EAAG,SAAS,CAACgC,IAAI,IAAMD,EAAMP,MAAMS,SAAS,CAAC,MAAQF,EAAMP,QAAQ,CAAC5B,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGJ,EAAMK,YAAY,WAAU,GAAGpC,EAAG,OAAO,CAACG,YAAY,SAAS,CAACH,EAAG,aAAa,CAACG,YAAY,6BAA6BD,MAAM,CAAC,aAAa,OAAO,cAAc,QAAQ,MAAQ,YAAYmC,MAAM,CAAC7B,MAAOZ,EAAqB,kBAAE0C,SAAS,SAAUC,GAAM3C,EAAIkC,kBAAkBS,GAAK9B,WAAW,wBAAwB,GAAGT,EAAG,SAAS,CAACG,YAAY,8CAA8CD,MAAM,CAAC,cAAc,QAAQ,cAAc,gBAAgBQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI4C,mBAAmB,CAAC5C,EAAIsC,GAAG,iBAAiBlC,EAAG,IAAI,CAACG,YAAY,iBAAiBH,EAAG,IAAI,CAACG,YAAY,yDAAyDD,MAAM,CAAC,KAAO,2BAA2B,CAACN,EAAIsC,GAAG,cAAclC,EAAG,SAAS,CAACG,YAAY,2CAA2CD,MAAM,CAAC,cAAc,QAAQ,cAAc,iBAAiBQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI6C,mBAAmB,CAAC7C,EAAIsC,GAAG,oBAAoBlC,EAAG,KAAK,CAACG,YAAY,SAASH,EAAG,eAAe,CAACG,YAAY,YAAYD,MAAM,CAAC,QAAUN,EAAI8C,QAAQ,MAAQ9C,EAAI+C,MAAMC,YAAYhD,EAAIiD,GAAG,CAAC,CAACb,IAAI,aAAac,GAAG,SAASC,GAC/wE,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACpD,EAAIsC,GAAG,IAAItC,EAAIuC,GAAIa,EAAU,MAAEC,kBAAkB,QAAQ,CAACjB,IAAI,aAAac,GAAG,SAASC,GAC/F,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACpD,EAAIsC,GAAG,IAAItC,EAAIuC,GAAIa,EAAU,MAAEC,kBAAkB,QAAQ,CAACjB,IAAI,oBAAoBc,GAAG,SAASC,GACtG,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACpD,EAAIsC,GAAG,IAAItC,EAAIuC,GAAG,IAAIe,KAAKF,EAAKG,cAAcC,cAAcC,MAAM,KAAK,IAAI,QAAQ,CAACrB,IAAI,eAAec,GAAG,SAASC,GAC3H,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAAChD,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,cAAc,QAAQ,cAAc,gBAAgBQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI0D,mBAAmBN,MAAS,CAAChD,EAAG,SAAS,CAACJ,EAAIsC,GAAG,mBAAmB,GAAGlC,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,SAASQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI2D,eAAeP,EAAKQ,qBAAqB,CAACxD,EAAG,SAAS,CAACJ,EAAIsC,GAAG,mBAAmB,OAAO,MAAK,MAAS,KAAKlC,EAAG,MAAM,CAACG,YAAY,wEAAwED,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,MAAM,CAACG,YAAY,yBAAyB,CAACH,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,SAAS,CAACG,YAAY,iBAAiBD,MAAM,CAAC,eAAe,SAASQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI4C,mBAAmB,CAAC5C,EAAIsC,GAAG,OAAOlC,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACP,EAAIsC,GAAG,iBAAiBlC,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,cAAclC,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAoB,MAAEhD,WAAW,yBAAyBN,YAAY,8BAA8BO,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,KAAO1B,EAAI8D,KAAK9D,EAAI6D,eAAgB,QAAS9C,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,OAAO,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAMN,EAAI8B,GAAI9B,EAAI+B,OAAOZ,QAAO,SAAUa,GAAO,OAAOA,EAAIC,eAAiBjC,EAAIkC,sBAAuB,SAASC,GAAO,OAAO/B,EAAG,SAAS,CAACgC,IAAID,EAAMP,MAAMS,SAAS,CAAC,MAAQF,EAAMP,QAAQ,CAAC5B,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGJ,EAAMK,YAAY,WAAU,KAAKpC,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,aAAalC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAA2B,aAAEhD,WAAW,gCAAgCN,YAAY,8BAA8BD,MAAM,CAAC,KAAO,QAAQ+B,SAAS,CAAC,MAASrC,EAAI6D,eAA2B,cAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,eAAgB9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,4BAA4B,CAACP,EAAIsC,GAAG,gBAAgBlC,EAAG,WAAW,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAA2B,aAAEhD,WAAW,gCAAgCN,YAAY,mCAAmC8B,SAAS,CAAC,MAASrC,EAAI6D,eAA2B,cAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,eAAgB9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,iBAAiBlC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAkB,IAAEhD,WAAW,uBAAuBN,YAAY,8BAA8BD,MAAM,CAAC,KAAO,UAAU+B,SAAS,CAAC,MAASrC,EAAI6D,eAAkB,KAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,MAAO9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,aAAalC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAmB,KAAEhD,WAAW,wBAAwBN,YAAY,8BAA8BD,MAAM,CAAC,KAAO,QAAQ+B,SAAS,CAAC,MAASrC,EAAI6D,eAAmB,MAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,OAAQ9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,cAAclC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAoB,MAAEhD,WAAW,yBAAyBN,YAAY,8BAA8BD,MAAM,CAAC,KAAO,UAAU+B,SAAS,CAAC,MAASrC,EAAI6D,eAAoB,OAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,QAAS9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,gBAAgBlC,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAyB,WAAEhD,WAAW,8BAA8BN,YAAY,8BAA8BO,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,KAAO1B,EAAI8D,KAAK9D,EAAI6D,eAAgB,aAAc9C,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,OAAO,CAACZ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAMN,EAAI8B,GAAI9B,EAAY,UAAE,SAASgE,GAAS,OAAO5D,EAAG,SAAS,CAACgC,IAAI4B,EAAQC,WAAW5B,SAAS,CAAC,MAAQ2B,EAAQC,aAAa,CAACjE,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGyB,EAAQE,cAAc,WAAU,KAAK9D,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,sBAAsB,CAACP,EAAIsC,GAAG,iBAAiBlC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAI6D,eAAuB,SAAEhD,WAAW,4BAA4BN,YAAY,8BAA8BD,MAAM,CAAC,KAAO,QAAQ+B,SAAS,CAAC,MAASrC,EAAI6D,eAAuB,UAAG/C,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAI6D,eAAgB,WAAY9C,EAAOM,OAAOT,aAAaR,EAAG,MAAM,CAACG,YAAY,YAAY,CAAGP,EAAI6D,eAAeD,iBAA0NxD,EAAG,SAAS,CAACG,YAAY,iCAAiCD,MAAM,CAAC,GAAK,cAAcQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAImE,oBAAoB,CAACnE,EAAIsC,GAAG,YAAYlC,EAAG,IAAI,CAACG,YAAY,iBAAhYH,EAAG,SAAS,CAACG,YAAY,iCAAiCD,MAAM,CAAC,GAAK,WAAWQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIoE,iBAAiB,CAACpE,EAAIsC,GAAG,iBAAiBlC,EAAG,IAAI,CAACG,YAAY,6BAAsOH,EAAG,MAAM,CAACG,YAAY,wEAAwED,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,SAAS,CAACG,YAAY,iBAAiBD,MAAM,CAAC,eAAe,SAASQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI6C,mBAAmB,CAAC7C,EAAIsC,GAAG,SAASlC,EAAG,KAAK,CAACG,YAAY,aAAa,CAACP,EAAIsC,GAAG,iBAAiBlC,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,iBAAiB,CAACP,EAAIsC,GAAG,WAAWlC,EAAG,QAAQ,CAACG,YAAY,sCAAsC,CAACP,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGvC,EAAIqE,eAAeJ,YAAY,SAAS7D,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,QAAQ,CAACG,YAAY,iBAAiB,CAACP,EAAIsC,GAAG,qBAAqBlC,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAIqE,eAA2B,aAAExD,WAAW,gCAAgCN,YAAY,wBAAwBD,MAAM,CAAC,KAAO,QAAQ+B,SAAS,CAAC,MAASrC,EAAIqE,eAA2B,cAAGvD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,WAAqB/D,EAAI8D,KAAK9D,EAAIqE,eAAgB,eAAgBtD,EAAOM,OAAOT,aAAaR,EAAG,MAAMA,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACkE,MAAM,CAAE,WAA6C,MAAjCtE,EAAIqE,eAAeJ,WAAoB,YAA8C,MAAjCjE,EAAIqE,eAAeJ,aAAsB,CAAC7D,EAAG,SAAS,CAACG,YAAY,4BAA4BO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIuE,iBAAiB,CAACvE,EAAIsC,GAAG,SAASlC,EAAG,IAAI,CAACG,YAAY,mBAAqD,MAAjCP,EAAIqE,eAAeJ,WAAoB7D,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,SAAS,CAACG,YAAY,4BAA4BD,MAAM,CAAC,GAAK,sBAAsBQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIwE,oBAAoB,CAACxE,EAAIsC,GAAG,kBAAkBlC,EAAG,IAAI,CAACG,YAAY,mBAAmBP,EAAIyE,OAAOrE,EAAG,MAAMA,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAkB,eAAEa,WAAW,mBAAmBN,YAAY,oBAAoBD,MAAM,CAAC,KAAO,OAAO,YAAc,cAAc+B,SAAS,CAAC,MAASrC,EAAkB,gBAAGc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAO0C,YAAqB/D,EAAI0E,eAAe3D,EAAOM,OAAOT,WAAUR,EAAG,QAAQ,CAACG,YAAY,4DAA4D,CAACP,EAAI2E,GAAG,GAAGvE,EAAG,QAAQJ,EAAI8B,GAAI9B,EAAqB,mBAAE,SAASgE,GAAS,OAAO5D,EAAG,KAAK,CAACgC,IAAI4B,EAAQC,YAAY,CAAC7D,EAAG,KAAK,CAACJ,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGyB,EAAQC,YAAY,OAAO7D,EAAG,KAAK,CAACJ,EAAIsC,GAAG,IAAItC,EAAIuC,GAAGyB,EAAQE,cAAc,OAAO9D,EAAG,KAAK,CAACA,EAAG,SAAS,CAACG,YAAY,uBAAuBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI4E,YAAYZ,EAAQC,eAAe,CAAC7D,EAAG,IAAI,CAACG,YAAY,iBAAiBH,EAAG,SAAS,CAACG,YAAY,sBAAsBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI6E,eAAeb,EAAQC,eAAe,CAAC7D,EAAG,IAAI,CAACG,YAAY,yBAAwB,kBAAkB,IAC3qRuE,EAAkB,CAAC,WAAa,IAAI9E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACI,YAAY,CAAC,MAAQ,OAAO,CAACR,EAAIsC,GAAG,UAAUlC,EAAG,KAAK,CAACG,YAAY,aAAa,CAACP,EAAIsC,GAAG,oBAAoBlC,EAAG,KAAK,CAACI,YAAY,CAAC,MAAQ,QAAQ,CAACR,EAAIsC,GAAG,mB,wBC4JzR,MAAMyC,EAAa,CAAC,GAAI,MAET,OACfrE,sBACAsE,OACA,OACApD,WACAiC,gBACAD,sBACAqB,kBACArD,WACAsD,MACAC,UACAC,QACAC,QACA9B,oDACAU,gBACAqB,eAEAjB,gBACAJ,gBACAC,iBAEAnC,UACAgB,QACAsC,MACAE,YACAC,QACAC,YAEA3C,SACA,CACA4C,YACAC,cACAC,YACAhF,cAEA,CACA8E,eACAC,cACAC,YACAhF,sBAEA,CACA8E,aACAC,cACAC,YACAhF,oBAEA,CACA8E,gBACAC,cACAC,YACAhF,aAEA,CACA8E,YACAC,cACAC,YACAhF,cAEA,CACA8E,aACAC,cACAC,YACAhF,eAEA,CACA8E,aACAC,cACAC,YACAhF,eAEA,CACA8E,eACAC,cACAC,YACAhF,sBAEA,CACA8E,gBACAC,cACAC,YACAhF,kBAEA,CACA8E,YACAC,cACAC,YACAhF,sBAEA,CACA8E,YACAC,cACAC,YACAhF,cAEA,CACA8E,eACAC,eACAC,YACAhF,kBAGAsB,0BACA2D,YACAnB,oBAGAoB,eACAC,8BAEAC,UACA,yCAAAhB,WACA,8FAEA,yCAAAA,WACA,8BACA,sBACA,gCAEA,gBAEAiB,UACAC,oBACA,+BACA,gFAIAC,UACAC,gBACA,4CAAApB,WACA,mBAEA,MAEAqB,SACAzD,gBACA,qBACAgB,sBACAqB,kBACArD,WACAsD,MACAC,UACAC,QACAC,QACA9B,oDACAU,gBACAqB,gBAGA5B,sBACA,wDACA,gDACA,kCACA,4CACA,wCACA,8BACA,gCACA,kCACA,uFAEA4C,UACA,WACA,gEAAAtB,WACA,cAGA,6CAAAA,WACA,eAIAZ,cACA,4CACAmC,uEACA,qEAAAvB,WACA,yDACA,qBAEA,uCACA,yCACA,2CACA,iDACAwB,QAAA,KACAD,kEAGApC,iBACA,4CACAoC,0EACA,+GACA,wDACA,uFACA,6CACA,2DACA,yCACA,2CACA,6CACA,iGACA,2CACA,uEACAC,QAAA,KACAD,qEAGA5C,kBACA,6FACA,yDACA,wDACA,0DAIAY,cACA,6CAaA,iDAZA,wCACAL,gDACAuC,KAAA,EAAAzB,WACA,oBACAf,wBACAC,gDAEA,uBACAwC,MAAAC,IACAC,qBAMA/D,gBACA,oCACA,qCAEA+B,eACA,kDACA,4CACA,iDAEAC,kBACA,4EACA,0DACA,uDACA,uBACA6B,MAAAC,IACAC,uBAIApC,iBACA,qCACA,6CACA,6CACA,iDAEA,wEACA+B,kFACA,2CACAtC,0CACAC,gDACAuC,KAAA,KACA,+EACA,+DACA,oCACA,uBACAC,MAAAC,IACAC,oBACAJ,QAAA,KACAD,gFAMAM,OACAjF,QACA,kBC3bwV,I,iFCOpVkF,EAAY,eACd,EACA/G,EACA+E,GACA,EACA,KACA,KACA,MAIa,aAAAgC,EAAiB,QAQhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,YAAA,KAAUC,aAAA,KAAWC,QAAA","file":"js/chunk-2d0dee28.15853198.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('navbar',{staticClass:\"no-print animate__animated animate__fadeInLeft\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"nav\"}}),_c('div',{staticClass:\"d-flex flex-column animate__animated animate__fadeInRight\",staticStyle:{\"display\":\"none !important\"},attrs:{\"id\":\"content-wrapper\"}},[_c('div',{attrs:{\"id\":\"content\"}},[_c('header-btn',{staticClass:\"no-print\"}),_c('div',{staticClass:\"container-fluid text-dark\"},[_c('div',{staticClass:\"row\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.st_id),expression:\"st_id\"}],staticClass:\"col-sm-4 form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.st_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.staffs.filter(function (obj) { return obj.special_staff == _vm.showSpecialStaffs; })),function(staff){return _c('option',{key:'s' + staff.st_id,domProps:{\"value\":staff.st_id}},[_vm._v(\" \"+_vm._s(staff.staff_name)+\" \")])})],2),_c('span',{staticClass:\"col-1\"},[_c('v-checkbox',{staticClass:\"mt-0 custom-checkbox-label\",attrs:{\"true-value\":\"true\",\"false-value\":\"false\",\"label\":\"Specials\"},model:{value:(_vm.showSpecialStaffs),callback:function ($$v) {_vm.showSpecialStaffs=$$v},expression:\"showSpecialStaffs\"}})],1),_c('button',{staticClass:\"btn btn-success col-xl-2 col-md-5 mx-2 mb-2\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#mdl_expense\"},on:{\"click\":function($event){return _vm.clear_expense()}}},[_vm._v(\" Add Expense \"),_c('i',{staticClass:\"fa fa-plus\"})]),_c('a',{staticClass:\"btn btn-primary text-white col-xl-2 col-md-5 mx-2 mb-2\",attrs:{\"href\":\"/staff_expenses_report\"}},[_vm._v(\" Report \")]),_c('button',{staticClass:\"btn btn-info col-xl-2 col-md-5 mx-2 mb-2\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#mdl_projects\"},on:{\"click\":function($event){return _vm.clear_project()}}},[_vm._v(\" Projects \")])])]),_c('hr',{staticClass:\"my-0\"}),_c('v-data-table',{staticClass:\"mx-2 mt-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.rows},scopedSlots:_vm._u([{key:\"item.price\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s((item.price).toLocaleString())+\" \")]}},{key:\"item.total\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s((item.total).toLocaleString())+\" \")]}},{key:\"item.expense_date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(new Date(item.expense_date).toISOString().split('T')[0])+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"primary\",\"data-toggle\":\"modal\",\"data-target\":\"#mdl_expense\"},on:{\"click\":function($event){return _vm.get_single_expense(item)}}},[_c('v-icon',[_vm._v(\" mdi-pencil \")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.delete_expense(item.staff_expense_id)}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)]}}],null,true)})],1)]),_c('div',{staticClass:\"modal text-dark animate__animated animate__fadeInDown animate__faster\",attrs:{\"id\":\"mdl_expense\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.clear_expense()}}},[_vm._v(\"×\")]),_c('h5',{staticClass:\"mt-2\"},[_vm._v(\" Expense \")])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Staff: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.st_id),expression:\"single_expense.st_id\"}],staticClass:\"form-control col-xl-11 mx-0\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.single_expense, \"st_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.staffs.filter(function (obj) { return obj.special_staff == _vm.showSpecialStaffs; })),function(staff){return _c('option',{key:staff.st_id,domProps:{\"value\":staff.st_id}},[_vm._v(\" \"+_vm._s(staff.staff_name)+\" \")])})],2)]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Date: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.expense_date),expression:\"single_expense.expense_date\"}],staticClass:\"form-control col-xl-11 mx-0\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.single_expense.expense_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"expense_date\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0 ms-n1\"},[_vm._v(\" Expense: \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.expense_text),expression:\"single_expense.expense_text\"}],staticClass:\"form-control col-xl-11 ms-1 mx-0\",domProps:{\"value\":(_vm.single_expense.expense_text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"expense_text\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Quantity: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.qty),expression:\"single_expense.qty\"}],staticClass:\"form-control col-xl-11 mx-0\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.single_expense.qty)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"qty\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Unit: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.unit),expression:\"single_expense.unit\"}],staticClass:\"form-control col-xl-11 mx-0\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.single_expense.unit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"unit\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Price: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.price),expression:\"single_expense.price\"}],staticClass:\"form-control col-xl-11 mx-0\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.single_expense.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"price\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Project: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.project_id),expression:\"single_expense.project_id\"}],staticClass:\"form-control col-xl-11 mx-0\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.single_expense, \"project_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.projects),function(project){return _c('option',{key:project.project_id,domProps:{\"value\":project.project_id}},[_vm._v(\" \"+_vm._s(project.project_name)+\" \")])})],2)]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-xl-1 mt-2 px-0\"},[_vm._v(\" Location: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_expense.location),expression:\"single_expense.location\"}],staticClass:\"form-control col-xl-11 mx-0\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.single_expense.location)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_expense, \"location\", $event.target.value)}}})]),_c('div',{staticClass:\"row mb-3\"},[(!_vm.single_expense.staff_expense_id)?_c('button',{staticClass:\"btn btn-success col-xl-12 mx-0\",attrs:{\"id\":\"btn-add\"},on:{\"click\":function($event){return _vm.add_expense()}}},[_vm._v(\" Add Expense \"),_c('i',{staticClass:\"fa fa-plus\"})]):_c('button',{staticClass:\"btn btn-warning col-xl-12 mx-0\",attrs:{\"id\":\"btn-update\"},on:{\"click\":function($event){return _vm.update_expense()}}},[_vm._v(\" Update \"),_c('i',{staticClass:\"fa fa-save\"})])])])])])])]),_c('div',{staticClass:\"modal text-dark animate__animated animate__fadeInDown animate__faster\",attrs:{\"id\":\"mdl_projects\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.clear_project()}}},[_vm._v(\" × \")]),_c('h5',{staticClass:\"mt-2 jobs\"},[_vm._v(\" Project \")])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row mb-2\"},[_c('label',{staticClass:\"col-sm-3 mt-3\"},[_vm._v(\" ID: \")]),_c('label',{staticClass:\"col-sm-9 form-control disable mt-2\"},[_vm._v(\" \"+_vm._s(_vm.single_project.project_id)+\" \")])]),_c('div',{staticClass:\"row mb-2\"},[_c('label',{staticClass:\"col-sm-3 mt-2\"},[_vm._v(\" Project Name: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.single_project.project_name),expression:\"single_project.project_name\"}],staticClass:\"col-sm-9 form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.single_project.project_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.single_project, \"project_name\", $event.target.value)}}})]),_c('hr'),_c('div',{staticClass:\"row mb-2\"},[_c('div',{class:{ 'col-sm-6': _vm.single_project.project_id != null, 'col-sm-12': _vm.single_project.project_id == null }},[_c('button',{staticClass:\"btn btn-success btn-block\",on:{\"click\":function($event){return _vm.add_project()}}},[_vm._v(\" Add \"),_c('i',{staticClass:\"fa fa-plus\"})])]),(_vm.single_project.project_id != null)?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-warning btn-block\",attrs:{\"id\":\"btn_update_project\"},on:{\"click\":function($event){return _vm.update_project()}}},[_vm._v(\" Save Changes \"),_c('i',{staticClass:\"fa fa-save\"})])]):_vm._e()]),_c('hr'),_c('div',{staticClass:\"row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.project_search),expression:\"project_search\"}],staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":'Search ...'},domProps:{\"value\":(_vm.project_search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.project_search=$event.target.value}}}),_c('table',{staticClass:\"table table-bordered table-striped text-center text-dark\"},[_vm._m(0),_c('tbody',_vm._l((_vm.filtered_projects),function(project){return _c('tr',{key:project.project_id},[_c('td',[_vm._v(\" \"+_vm._s(project.project_id)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(project.project_name)+\" \")]),_c('td',[_c('button',{staticClass:\"btn btn-primary mx-1\",on:{\"click\":function($event){return _vm.get_project(project.project_id)}}},[_c('i',{staticClass:\"fa fa-edit\"})]),_c('button',{staticClass:\"btn btn-danger mx-1\",on:{\"click\":function($event){return _vm.delete_project(project.project_id)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])])}),0)])])])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{staticStyle:{\"width\":\"6%\"}},[_vm._v(\" ID \")]),_c('th',{staticClass:\"job_title\"},[_vm._v(\" Project Name \")]),_c('th',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\" Actions \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"wrapper\">\r\n        <navbar id=\"nav\" class=\"no-print animate__animated animate__fadeInLeft\"  style=\"display: none;\"/>\r\n        <div class=\"d-flex flex-column animate__animated animate__fadeInRight\" id=\"content-wrapper\" style=\"display: none !important;\">\r\n            <div id=\"content\">\r\n                <header-btn class=\"no-print\"/>\r\n                <div class=\"container-fluid text-dark\">\r\n                    <div class=\"row\">\r\n                        <select class=\"col-sm-4 form-control\" v-model=\"st_id\">\r\n                            <option value=\"\"></option>\r\n                            <option v-for=\"staff in staffs.filter(obj => obj.special_staff == showSpecialStaffs)\" :key=\"'s' + staff.st_id\" :value=\"staff.st_id\"> {{ staff.staff_name }} </option>\r\n                        </select>\r\n                        <span class=\"col-1\">\r\n                            <v-checkbox class=\"mt-0 custom-checkbox-label\" v-model=\"showSpecialStaffs\" true-value=\"true\" false-value=\"false\" label=\"Specials\"></v-checkbox>\r\n                        </span>\r\n                        <button class=\"btn btn-success col-xl-2 col-md-5 mx-2 mb-2\" @click=\"clear_expense()\" data-toggle=\"modal\" data-target=\"#mdl_expense\" >\r\n                            Add Expense &nbsp;\r\n                            <i class=\"fa fa-plus\"></i>\r\n                        </button>\r\n                        <a class=\"btn btn-primary text-white col-xl-2 col-md-5 mx-2 mb-2\" href=\"/staff_expenses_report\"> Report </a>\r\n\r\n                        <button class=\"btn btn-info col-xl-2 col-md-5 mx-2 mb-2\" @click=\"clear_project()\" data-toggle=\"modal\" data-target=\"#mdl_projects\" >\r\n                            Projects \r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <hr class=\"my-0\">\r\n                <v-data-table class=\"mx-2 mt-1\" :headers=\"headers\" :items=\"rows\">\r\n                    <template v-slot:[`item.price`]=\"{item}\"> {{ (item.price).toLocaleString() }} </template>\r\n                    <template v-slot:[`item.total`]=\"{item}\"> {{ (item.total).toLocaleString() }} </template>\r\n                    <template v-slot:[`item.expense_date`]=\"{item}\"> {{ new Date(item.expense_date).toISOString().split('T')[0] }} </template>\r\n                    <template v-slot:[`item.actions`]=\"{item}\">\r\n                        <v-btn icon color=\"primary\" @click=\"get_single_expense(item)\" data-toggle=\"modal\" data-target=\"#mdl_expense\"> <v-icon> mdi-pencil </v-icon> </v-btn>\r\n                        <v-btn icon color=\"error\" @click=\"delete_expense(item.staff_expense_id)\" > <v-icon> mdi-delete </v-icon> </v-btn>\r\n                    </template>\r\n                </v-data-table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal text-dark animate__animated animate__fadeInDown animate__faster\" id=\"mdl_expense\">\r\n            <div class=\"modal-dialog modal-lg\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <button class=\"btn btn-danger\" data-dismiss=\"modal\" @click=\"clear_expense()\">&times;</button>\r\n                        <h5 class=\"mt-2\"> Expense </h5>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"container-fluid\">\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Staff: </label>\r\n                                <select class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.st_id\">\r\n                                    <option value=\"\"></option>\r\n                                    <option v-for=\"staff in staffs.filter(obj => obj.special_staff == showSpecialStaffs)\" :key=\"staff.st_id\" :value=\"staff.st_id\"> {{ staff.staff_name }} </option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Date: </label>\r\n                                <input class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.expense_date\" type=\"date\">\r\n                            </div>\r\n\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0 ms-n1\"> Expense: </label>\r\n                                <textarea class=\"form-control col-xl-11 ms-1 mx-0\" v-model=\"single_expense.expense_text\"> </textarea>\r\n                            </div>\r\n                            \r\n                            \r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Quantity: </label>\r\n                                <input class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.qty\" type=\"number\">\r\n                            </div>\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Unit: </label>\r\n                                <input class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.unit\" type=\"text\">\r\n                            </div>\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Price: </label>\r\n                                <input class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.price\" type=\"number\">\r\n                            </div>\r\n\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Project: </label>\r\n                                <select class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.project_id\" >\r\n                                    <option value=\"\"></option>\r\n                                    <option v-for=\"project in projects\" :key=\"project.project_id\" :value=\"project.project_id\"> {{ project.project_name }} </option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"row mb-3\">\r\n                                <label class=\"col-xl-1 mt-2 px-0\"> Location: </label>\r\n                                <input class=\"form-control col-xl-11 mx-0\" v-model=\"single_expense.location\" type=\"text\">\r\n                            </div>\r\n                            \r\n                            <div class=\"row mb-3\">\r\n                                <button class=\"btn btn-success col-xl-12 mx-0\" id=\"btn-add\" @click=\"add_expense()\" v-if=\"!single_expense.staff_expense_id\"> Add Expense &nbsp; <i class=\"fa fa-plus\"></i> </button>\r\n                                <button class=\"btn btn-warning col-xl-12 mx-0\" id=\"btn-update\" @click=\"update_expense()\" v-else> Update &nbsp; <i class=\"fa fa-save\"></i> </button>\r\n                            </div>\r\n\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"modal text-dark animate__animated animate__fadeInDown animate__faster\" id=\"mdl_projects\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <button class=\"btn btn-danger\" v-on:click=\"clear_project()\" data-dismiss=\"modal\"> &times; </button>\r\n                        <h5 class=\"mt-2 jobs\"> Project </h5>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"container-fluid\">\r\n                            <div class=\"row mb-2\">\r\n                                <label class=\"col-sm-3 mt-3\"> ID: </label>\r\n                                <label class=\"col-sm-9 form-control disable mt-2\"> {{ single_project.project_id }} </label>\r\n                            </div>\r\n                            <div class=\"row mb-2\">\r\n                                <label class=\"col-sm-3 mt-2\"> Project Name:  </label>\r\n                                <input class=\"col-sm-9 form-control\" type=\"text\" v-model=\"single_project.project_name\">\r\n                            </div>\r\n                            <hr>\r\n                            <div class=\"row mb-2\">\r\n                                <div v-bind:class=\"{ 'col-sm-6': single_project.project_id != null, 'col-sm-12': single_project.project_id == null }\"> \r\n                                    <button class=\"btn btn-success btn-block\" v-on:click=\"add_project()\"> Add &nbsp; <i class=\"fa fa-plus\"></i> </button> \r\n                                </div>\r\n                                <div class=\"col-sm-6\" v-if=\"single_project.project_id != null\"> \r\n                                    <button class=\"btn btn-warning btn-block\" id=\"btn_update_project\" v-on:click=\"update_project()\"> Save Changes &nbsp; <i class=\"fa fa-save\"></i> </button>\r\n                                </div>\r\n                            </div>\r\n                            <hr>\r\n                            <div class=\"row\">\r\n                                <input type=\"text\" v-bind:placeholder=\"'Search ...'\" class=\"form-control mb-2\" v-model=\"project_search\">\r\n                                <table class=\"table table-bordered table-striped text-center text-dark\">\r\n                                    <thead>\r\n                                        <th style=\"width: 6%;\"> ID </th>\r\n                                        <th class=\"job_title\"> Project Name </th>\r\n                                        <th style=\"width: 30%;\"> Actions </th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"project in filtered_projects\" :key=\"project.project_id\">\r\n                                            <td> {{ project.project_id }} </td>\r\n                                            <td> {{ project.project_name }} </td>\r\n                                            <td>\r\n                                                <button class=\"btn btn-primary mx-1\" v-on:click=\"get_project(project.project_id)\"> <i class=\"fa fa-edit\"></i> </button>\r\n                                                <button class=\"btn btn-danger mx-1\" v-on:click=\"delete_project(project.project_id)\"> <i class=\"fa fa-trash\"></i> </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport showError from \"../showError.js\";\r\nimport auth from '../auth';\r\nconst nullValues = [\"\", null];\r\n\r\nexport default {\r\n    name: \"staff_expenses\",\r\n    data() {\r\n        return {\r\n            st_id: null,\r\n            single_expense: {\r\n                staff_expense_id: null,\r\n                expense_text: null,\r\n                st_id: null,\r\n                qty: 0,\r\n                unit: null,\r\n                price: 0,\r\n                user: \"\",\r\n                expense_date: new Date().toISOString().split('T')[0],\r\n                project_id: null,\r\n                location: null\r\n            },\r\n            single_project: {\r\n                project_id: null,\r\n                project_name: \"\"\r\n            },\r\n            staffs: [],\r\n            rows: [],\r\n            user: {\r\n                username: \"\",\r\n                role: \"\",\r\n                en_id: null\r\n            },\r\n            headers: [\r\n                {\r\n                    text: 'Form',\r\n                    align: 'start',\r\n                    sortable: true,\r\n                    value: 'form'\r\n                },\r\n                {\r\n                    text: 'Expense',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'expense_text'\r\n                },\r\n                {\r\n                    text: 'Staff',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'staff_name'\r\n                },\r\n                {\r\n                    text: 'Quantity',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'qty'\r\n                },\r\n                {\r\n                    text: 'Unit',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'unit'\r\n                },\r\n                {\r\n                    text: 'Price',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'price'\r\n                },\r\n                {\r\n                    text: 'Total',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'total'\r\n                },\r\n                {\r\n                    text: 'Project',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'project_name'\r\n                },\r\n                {\r\n                    text: 'Location',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'location'\r\n                },\r\n                {\r\n                    text: 'Date',\r\n                    align: 'start',\r\n                    sortable: true,\r\n                    value: 'expense_date'\r\n                },\r\n                {\r\n                    text: 'User',\r\n                    align: 'start',\r\n                    sortable: false,\r\n                    value: 'user'\r\n                },\r\n                {\r\n                    text: 'Actions',\r\n                    align: 'center',\r\n                    sortable: false,\r\n                    value: 'actions'\r\n                },\r\n            ],\r\n            showSpecialStaffs: \"false\",\r\n            projects: [],\r\n            project_search: ''\r\n        }\r\n    },\r\n    beforeCreate(){\r\n        auth(\"salaryList\");\r\n    },\r\n    created() {\r\n        this.$http.post('/staff/getData').then(({data})=>{\r\n            this.staffs = data.filter(obj => obj.show_staff == '1').sort((a, b) => a.staff_sort_code - b.staff_sort_code)\r\n        })\r\n        this.$http.post(\"/getLoggedInfo\").then(({data}) => {\r\n            this.user.username = data.username;\r\n            this.user.role = data.type;\r\n            this.user.en_id = data.en_id || null;\r\n        });\r\n        this.getData()\r\n    },\r\n    computed: {\r\n        filtered_projects() {\r\n            return this.projects.filter(obj => {\r\n                return obj.project_id == this.project_search || obj.project_name.match(this.project_search);\r\n            });\r\n        },\r\n    },\r\n    mounted() {\r\n        setTimeout(() => {\r\n            this.$http.post('/projects/getData').then(({data}) => {\r\n                this.projects = data;\r\n            });\r\n        }, 1000)\r\n    },\r\n    methods: {\r\n        clear_expense() {\r\n            this.single_expense = {\r\n                staff_expense_id: null,\r\n                expense_text: null,\r\n                st_id: null,\r\n                qty: 0,\r\n                unit: null,\r\n                price: 0,\r\n                user: \"\",\r\n                expense_date: new Date().toISOString().split('T')[0],\r\n                project_id: null,\r\n                location: null\r\n            }\r\n        },\r\n        get_single_expense(obj) {\r\n            this.single_expense.staff_expense_id = obj.staff_expense_id;\r\n            this.single_expense.expense_text = obj.expense_text;\r\n            this.single_expense.st_id = obj.st_id;\r\n            this.single_expense.project_id = obj.project_id;\r\n            this.single_expense.location = obj.location;\r\n            this.single_expense.qty = obj.qty;\r\n            this.single_expense.unit = obj.unit;\r\n            this.single_expense.price = obj.price;\r\n            this.single_expense.expense_date = new Date(obj.expense_date).toISOString().split('T')[0];\r\n        },\r\n        getData() {\r\n            if(this.st_id) {\r\n                this.$http.get('/staff_expenses/getByStaff/' + this.st_id).then(({data})=>{\r\n                    this.rows = data;\r\n                })\r\n            } else {\r\n                this.$http.get('/staff_expenses/all').then(({data})=>{\r\n                    this.rows = data;\r\n                })\r\n            }\r\n        },\r\n        add_expense() {\r\n            this.single_expense.user = this.user.username;\r\n            document.getElementById('btn-add').setAttribute('disabled', 'disabled');\r\n            this.$http.post('/staff_expenses/create', this.single_expense).then(({data})=>{\r\n                if(this.single_expense.st_id == this.st_id || this.st_id == null) {\r\n                    this.rows.unshift(data);\r\n                }\r\n                this.$set(this.single_expense, 'qty', 0);\r\n                this.$set(this.single_expense, 'price', 0);\r\n                this.$set(this.single_expense, 'unit', null);\r\n                this.$set(this.single_expense, 'location', null);\r\n            }).finally(() => {\r\n                document.getElementById('btn-add').removeAttribute('disabled');\r\n            })\r\n        },\r\n        update_expense() {\r\n            this.single_expense.user = this.user.username;\r\n            document.getElementById('btn-update').setAttribute('disabled', 'disabled');\r\n            this.$http.patch('/staff_expenses/update/' + this.single_expense.staff_expense_id, this.single_expense).then(()=>{\r\n                this.$alert(\"Updated Successfully\", \"Success\", \"success\");\r\n                let index = this.rows.findIndex(obj => obj.staff_expense_id == this.single_expense.staff_expense_id);\r\n                this.rows[index].st_id = this.single_expense.st_id;\r\n                this.rows[index].expense_text = this.single_expense.expense_text;\r\n                this.rows[index].qty = this.single_expense.qty;\r\n                this.rows[index].unit = this.single_expense.unit;\r\n                this.rows[index].price = this.single_expense.price;\r\n                this.rows[index].expense_date = new Date(this.single_expense.expense_date).toISOString().split('T')[0];\r\n                this.rows[index].user = this.single_expense.user;\r\n                this.rows[index].total = this.single_expense.qty * this.single_expense.price;\r\n            }).finally(() => {\r\n                document.getElementById('btn-update').removeAttribute('disabled');\r\n            })\r\n        },\r\n        delete_expense(staff_expense_id) {\r\n            this.$confirm(\"Are you sure you want to delete this expense?\", \"Delete\", \"question\").then(() => {\r\n                this.$http.delete('/staff_expenses/delete/' + staff_expense_id).then(()=>{\r\n                    this.$alert(\"Deleted Successfully\", \"Success\", \"success\");\r\n                    this.rows = this.rows.filter(obj => obj.staff_expense_id != staff_expense_id);\r\n                })\r\n            })\r\n        },\r\n        add_project() {\r\n            if(!nullValues.includes(this.single_project.project_name)){\r\n                this.$http.post(\"/projects/addProject\", {\r\n                    project_name: this.single_project.project_name\r\n                }).then(({data}) => {\r\n                    this.projects.push({\r\n                        project_id: data.project_id,\r\n                        project_name: this.single_project.project_name\r\n                    });\r\n                    this.clear_project();\r\n                }).catch((err) => {\r\n                    showError(err);\r\n                });\r\n            } else {\r\n                this.$alert(\"Enter a project name\", \"\", \"warning\");\r\n            }\r\n        },\r\n        clear_project() {\r\n            this.single_project.project_id = null;\r\n            this.single_project.project_name = \"\";\r\n        },\r\n        get_project(project_id) {\r\n            const [project] = this.projects.filter(obj => obj.project_id == project_id);\r\n            this.single_project.project_id = project.project_id;\r\n            this.single_project.project_name = project.project_name;\r\n        },\r\n        delete_project(project_id) {\r\n            this.$confirm(\"Are you sure delete this project ?\", \"\", \"question\").then(() => {\r\n                this.$http.delete(\"/projects/deleteProject/\" + project_id).then(() => {\r\n                    this.projects = this.projects.filter(obj => obj.project_id != project_id)\r\n                    this.clear_project()\r\n                }).catch((err) => {\r\n                    showError(err)\r\n                });\r\n            });\r\n        },\r\n        update_project() {\r\n            if(this.single_project.project_id == null){\r\n                this.$alert(\"Select a project\", \"\", \"warning\");\r\n            } else if(nullValues.includes(this.single_project.project_name)){\r\n                this.$alert(\"Enter a project name\", \"\", \"warning\");\r\n            } else {\r\n                this.$confirm(\"Are you sure to save changes ?\", \"\", \"question\").then(() => {\r\n                    document.getElementById(\"btn_update_project\").setAttribute(\"disabled\", \"disabled\");\r\n                    this.$http.post(\"/projects/updateProject\", {\r\n                        project_id: this.single_project.project_id,\r\n                        project_name: this.single_project.project_name\r\n                    }).then(() => {\r\n                        let index = this.projects.findIndex(obj => obj.project_id == this.single_project.project_id);\r\n                        this.projects[index].project_name = this.single_project.project_name;\r\n                        this.$alert(\"\", \"Success\", \"success\");\r\n                        this.clear_project()\r\n                    }).catch((err) => {\r\n                        showError(err);\r\n                    }).finally(() => {\r\n                        document.getElementById(\"btn_update_project\").removeAttribute(\"disabled\");\r\n                    });\r\n                });\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        st_id() {\r\n            this.getData();\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staff_expenses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staff_expenses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./staff_expenses.vue?vue&type=template&id=eddf2dfa&\"\nimport script from \"./staff_expenses.vue?vue&type=script&lang=js&\"\nexport * from \"./staff_expenses.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCheckbox,VDataTable,VIcon})\n"],"sourceRoot":""}