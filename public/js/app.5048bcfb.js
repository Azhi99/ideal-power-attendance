(function(t){function e(e){for(var a,i,o=e[0],r=e[1],d=e[2],c=0,_=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&_.push(n[i][0]),n[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(_.length)_.shift()();return l.push.apply(l,d||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],a=!0,i=1;i<s.length;i++){var o=s[i];0!==n[o]&&(a=!1)}a&&(l.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n={app:0},l=[];function o(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-0c66f035":"7ba27d8f","chunk-0d8f1530":"7338d1af","chunk-13656cf4":"4ae0d6d8","chunk-1e525c18":"e8ee414f","chunk-2d21648e":"59f96cd1","chunk-331e44ac":"a063262e","chunk-4587756c":"b2c6bd73","chunk-4a5f46a6":"bd0a1b1c","chunk-05a7be38":"9b862ea4","chunk-9f32f720":"71334def","chunk-4e59d779":"a6de21e5","chunk-58420164":"d316a5dd","chunk-6ec7f5d9":"ab2358ce","chunk-7a683150":"79c415bc","chunk-a19d3982":"53db1aaa","chunk-d2a2d6e6":"e165bf11"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(t){var e=[],s={"chunk-0c66f035":1,"chunk-0d8f1530":1,"chunk-13656cf4":1,"chunk-1e525c18":1,"chunk-331e44ac":1,"chunk-4587756c":1,"chunk-05a7be38":1,"chunk-9f32f720":1,"chunk-4e59d779":1,"chunk-58420164":1,"chunk-6ec7f5d9":1,"chunk-7a683150":1,"chunk-a19d3982":1,"chunk-d2a2d6e6":1};i[t]?e.push(i[t]):0!==i[t]&&s[t]&&e.push(i[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-0c66f035":"c713a4c4","chunk-0d8f1530":"efb140f7","chunk-13656cf4":"8e1c0f96","chunk-1e525c18":"b576d4c9","chunk-2d21648e":"31d6cfe0","chunk-331e44ac":"972d0f75","chunk-4587756c":"6c039207","chunk-4a5f46a6":"31d6cfe0","chunk-05a7be38":"9b91ae61","chunk-9f32f720":"5023f4c6","chunk-4e59d779":"4bdd306a","chunk-58420164":"f886cdf0","chunk-6ec7f5d9":"6052ce53","chunk-7a683150":"4f7a61f8","chunk-a19d3982":"689c7067","chunk-d2a2d6e6":"c39450ce"}[t]+".css",n=r.p+a,l=document.getElementsByTagName("link"),o=0;o<l.length;o++){var d=l[o],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===a||c===n))return e()}var _=document.getElementsByTagName("style");for(o=0;o<_.length;o++){d=_[o],c=d.getAttribute("data-href");if(c===a||c===n)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var a=e&&e.target&&e.target.src||n,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=a,delete i[t],u.parentNode.removeChild(u),s(l)},u.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(u)})).then((function(){i[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var l=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=l);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(t);var _=new Error;d=function(e){c.onerror=c.onload=null,clearTimeout(u);var s=n[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;_.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",_.name="ChunkLoadError",_.type=a,_.request=i,s[1](_)}n[t]=void 0}};var u=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=e,d=d.slice();for(var _=0;_<d.length;_++)e(d[_]);var u=c;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0b7f":function(t,e,s){},"188b":function(t,e,s){"use strict";s("0b7f")},"18d5":function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACFQTFRF5+fn2tra29rb6Ojo6+vr6enp6urq3Nvc/v7+////3dzdt9Y8UgAAC8FJREFUeNrt3b+OG8kRBvBK/QAKpPRgHcTsjEvIVMGBzGT7YJChE2E2thZYvkGHEv9c92bikhxwntKU4LVhwL6d6f6qWNVTHRxwiYD+8evqmtmZHupGO9rv/6Vu5MMBHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHMABHOD3x4/HX/+Svo/Nr39tJyMDmLz/PvXwn/9uFpPRALTv/z335xHj9f83v4wC4Nv0/3v2zyPcgkAa4HC+TvR/z/+ag5B2h7oBjsv0/2b/nIKf1/UCXNMf0wsjCq8DSYBJ88LP/xyCu0mVAPcv//zPIditKwQ49/r5/xWC/bo2gOvy7z//q4BYIRACaJtB8/9eCGoCaJcxDRwxfawIYD54/t8EFtUA3GfM/yogshdIAJwHrn/RvUAA4D5z/leB3aQGgOz5XwUe7QO0y/z5XwU+mgeYx4L5C2wF3AD3RfP/thVMbAOkUAbAXgaYAZrS+V8F7gwDnGPx/Ln7IdK9APgXASvAHDH/q8DCKMDbCJl/jLs3JgEOS0wArhH4YBLgUwTNP8XNxCJAQgWAtQ7yAVxw878KGASIwPmn+GgOYB6QCeDrB7kAjtAAXCOwNwbQBCwAWzdEFioAZxVgArigA8C2EZCRALBFgAfgIeATkMLaDMBhmTjGBzMAP0SO+cfNGysATWBJQFgZATiyBICpGeIAuPAEgGcnZABomQJwjcBvJgBOiW3sTQA0gQ2A4YKAASDyJYChG8QDPPAFgKMbxAM0iXOs1AMcI+f88a0AmVoBDGsADrBMvONOO0DknT98HyBbKwC/BsjUHsCwD4AB2sg9f/T1ABjgxB4A9PUAGSsB8CJA1koAughgAY6Rf/7gZpCsrQD0GsACLJPEuFML0EaJ+WM3QijAWSQAaacWQKQEgIsAFGAukwDoI/RQgKkQwEwpgEwNBFdBJMBJKADQywGyVwOxVRAJ0EglAHk5AAQ4RKn5x886EyAWAOSNQSDAWQwA2QuSwRoIrYJAgLlcAoC9IBBgKggwUwjQRrn5A3tBHMBRMABxqxDgSRAgbRQCvAuCAGGiD+AimYCkMAGNKMBKH0CUnD+uGYYBtKIBSL+pAzjKAmzVATzJAmzUAVyCKEBQB/Agm4C01gYwFwZYaAOYCgPMtAFE2fnDGgEYgHAAkjaAgzTAZ0+ALoCjNMBWGcCTNMBGGYBwI4hrBWEA0glIygBeiwNMdAG8EwdY+xJQBTAXB1joAmjEAVYO4ACaAKbiADNdAFF6/qgbAigA8QAkB3AAB3AAB3AAB3AAB3AAvxbwq0EN9wOk/y7gN0QcwO8K+98F/C9DowaY+BLQBTD25wNG/4SI9DNCUdszQv6coDTAF0+AMoDRPyssfUNA3dPic+FGYKEN4MHmpYC/M+RvjaH+IdlWMOp7b3D0b46O/t1hoeM0wbdEoecHiG4DnT6A12M/QWL0Z4iI7oMaT5EZ/TlCoz9JSvR6cKERYPSnyZ3kAgA8VdXkiZJJ54mSgmeKftGZALmrgTudAKM/V1jsVFXk+fp+tjjw3xr96fJiveBCK8DovzBxMtcH+ldmwN8ZknledKUXYPRfmhr9t8ZELgc0f23OvzcocDmw6zQDjP6bo+xFIKK/vOzfHQYDjP7L0+zN4Eo7wOi/Ps/bDILbQA4A1n0gwlcAAwDrGoCvAAYAzn0AvgewADC+RhwWFgBOiU1g11kA4LseQF8HMAHwPTAXOhsAXK0AvglgAuiWPBEIKysAr1giEHcTKwBfpyxd4E+dFQCebhDfBfIBMHSDkaELZARg2AlDZwkAHwGmALABwC8IGC4DWAHOEVwBtp0tAPTTIlwB4AOAVgGuLYAVALoRhM4eQAe8LRAeLQJ8irirgLVFgK9TVATCT51FgO5tRAVgYhMA1Q2Fu84oAKYOMlZAdoD7CGgBOBcANwCiH2TrAUUAyhcB7wLgByi9KOJsAUQAuiYWFQD0I0HyAG3RXhi4588PUFQGuAuADMA5WyDs1zUAdPeZAmHHP38RgMytIErMXwag+0NWAmZdJQCHc8xaA7NJHQBtk1cDYtpXUQP+Mc1uhcLmF/sA51TQCgb2RpAboH1fdjUU08+mrwVyl79gIWAFaJeAu4LM7RCx/v6Qu6K8DTEp//3ZM0Daf3/uDJD63585A6T/9+fNABn4/VkzQBZ+f84M8ABcGB4VDYYekzuzPCrLc4OUA+A+BYYnRWNMH40AcL0xEpMJgHbJ9sYMx11CPMCc8a2xsNUPcM/65mj4qB3gmFjfHY7QY7QYAA5L5vMD4I9LgAEu7EdooPshLMAfBc4RCn/WC9AuBU6SAu+FUIBG5DC1oPY0ubdCR2qGv+sEOEyFDpSMm4lKgIvYwcpB5cnSZ8HvCwCvjGEAh6Xg6frAdggG8En0O0Phb+oAkuhXdnC3Bqx+d1jbFyePwl/cxD1DDQKYB+kEoN6kxAC8FQ8ArB+EAHydBnmAuHmjBuDVDQJwjcAHLQA3CQAqAgiATzcJAKgbQgCkcBsASDcEALjcaP6YbggAENPNRtAAcLsAQCJAlgOAiEAxwEO4JUD5AXtU3AOkm47iXqAU4FW8LUBxO0ilAQi3BShuB8l2AMojUAiwDLcGiLtbAhxvHoDiW0NlAPNwe4DCW0NkPQClESgCuAQNAGX9cAlAqyIAhWdtlgD8kHQkIP3pRgBN0JGAogOXCwDOSlZA2R+LyX4AyiJQAKAmAEW3BfIBHoIegILbAvkAy6Ro7OQBjlETQH43mA1wCZoA8rvBXIBWVQAKusFcgFPSlYDsLzCR+SagsBUg+01AWStA9puAslaAKmgCiloBqqAJKGoFqJIVkL0G8gCapHDs5QA0roDcNUC1rIDcNUCV7AHZ+wBVswIy1wBVswIy1wDVsgfk7gNUzwrIWwNUzwrIWwNUzR6QuQ8MB2ijXoCM+0LDAU5J8VgJADRB7/wz7gtRTSsgZw1QVSsgYw1QPZtg3kZI1bSBmc0gVVUCMooA1VUChhcBqmgTzNoIqa4VMHwNDAQ4J/XjjhXgIWif/9CNcCDAUn8CdpwA+kvA4CJAtZWAoUWAKisBg4sA1VYChhYBqq0EDC0CVF0JGFgEqLYSMLQIUHUlYGARoOpKwMAiQPWVgGFFgKorAQOLwBCAuZUEbJkAplYANjwAVmrgsCo4AOCUzIwVC4CVGjisCg4AaOwkYM8BYKcEDCoC/QGOydBYMAA8WQKYMQDYqYGDqmB/gKWlBOzwAJZq4JAqSFXWwAFVkKqsgQOqINVYA4dUQaqwDxzUC/YFOERbAGGCTkAyNtAJOFsDuAMD2KqBA6pgX4C5tQRswQBTawAbLEAbrQH0bYapykZ4QDNMVTbCA5phqnMT6L8NUKWbQO9tgCrdBHpvA1TpJtB7G6BaN4G+2wDVugn03Qb6AbwL9uYfvwABLhYT8AgEaCwC7IEA0SJAwAG0yeRYwwCONgEWMIAnmwAzGMDrYHH+8TMM4GIzAY8wgLlNgC0MYGoTYIMCOESbAL3+OtQrAcnoQCXgaBVgAQJ4sgowAwHYbAN6NgJUbxvQrxGgetuAfo0A1dsG9GsE+gBEqwABA3BIZscEkwC7AJgEHO0CLCAAT3YBZhCAS7A6/z4f3ugB8NpuAj5jEmAXAJOAuV2ALQRgahdgAwGIdgECAsBwI9inFaSaG8E+rSDV3Aj2aQVfBjhZBlgBAJ4sA8wAAHY74V698MsA7ywn4IsDAJaAZQDEEphbBtgCABrLRXAPAJhaTsAGABAtAwQAQDI9ygEOtgEmxQCtbYC1L4FSgKNtgEUxwMk2wMoBSgGebAPMigEs3w7oc0OAqr4Y7HE56ABV3w/pcUfEARzAa0DFd8R63BN7EaCxDbB3gBfGPwH8NUHnja3onQAAAABJRU5ErkJggg=="},"1ab6":function(t,e,s){"use strict";var a=s("683f"),i=s("bc3a"),n=s.n(i);n.a.defaults.withCredentials=!0,e["a"]=function(t){var e=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","foodList"],s=["index","attendance","give_salary","staffReport","staffListReport","salaryList","employeeReport","LoanAccomodation","notifications"];n.a.post("/isLogged").then(()=>{n.a.post("/getLoggedInfo").then(({data:i})=>{"U"==i.type&&!e.includes(t)||"E"==i.type&&!s.includes(t)?a["a"].alert("You are not authorized to use this part","Sorry","warning").then(()=>{window.location.href="/"}):(document.getElementById("content-wrapper").style.display="block",document.getElementById("nav").style.display="")})}).catch(()=>{window.location.href="/login"})}},2770:function(t,e,s){"use strict";s("ef2e")},"32a9":function(t,e,s){"use strict";s("b13c")},"394c":function(t,e,s){},"42fe":function(t,e,s){"use strict";s("7d2b")},"4f33":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=s("683f"),n=(s("77ed"),s("bc3a")),l=s.n(n),o=s("bf15"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",[s("div",{attrs:{id:"app"}},[s("router-view")],1)])],1)},d=[],c=(s("d55e"),s("2877")),_=s("6544"),u=s.n(_),m=s("7496"),p=s("f6c4"),g={},f=Object(c["a"])(g,r,d,!1,null,null,null),h=f.exports;u()(f,{VApp:m["a"],VMain:p["a"]});var v=s("9483");Object(v["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var y=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"text-dark mb-4 multi-language"},[t._v(t._s(t.enginnerslanguage[t.language].enginners_page))]),s("hr"),s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_engineer,expression:"search_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search_engineer},on:{input:function(e){e.target.composing||(t.search_engineer=e.target.value)}}}),s("button",{staticClass:"btn btn-danger float-right mb-2 mx-2",attrs:{"data-toggle":"modal","data-target":"#mdl_deactived_engineers"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_deactive)+" ")])]),s("div",{staticClass:"row overflow-auto"},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[s("thead",[s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),s("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),s("tbody",t._l(t.filtered_engineers,(function(e){return s("tr",{key:e.en_id},[s("td",[t._v(" "+t._s(e.en_id)+" ")]),s("td",[t._v(" "+t._s(e.first_name)+" ")]),s("td",[t._v(" "+t._s(e.last_name)+" ")]),s("td",[t._v(" "+t._s(e.job_title)+" ")]),s("td",[t._v(" "+t._s(e.phone1)+" ")]),s("td",[t._v(" "+t._s(e.phone2)+" ")]),s("td",[t._v(" "+t._s(t._f("date_filter")(e.reg_date))+" ")]),s("td",{staticClass:"text-success"},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),s("td",[s("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_engineer"},on:{click:function(s){return t.get_engineer(e.en_id)}}},[s("i",{staticClass:"fa fa-edit"})]),s("button",{staticClass:"btn btn-danger mx-1",on:{click:function(s){return t.deactive_engineer(e.en_id)}}},[s("i",{staticClass:"fa fa-lock"})])])])})),0)])])])],1)]),s("change-pass"),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_engineer"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_engineer()}}},[t._v(" × ")]),s("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.enginnerslanguage[t.language].en_info)+" ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.first_name,expression:"single_engineer.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first name"},domProps:{value:t.single_engineer.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"first_name",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.last_name,expression:"single_engineer.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter last name"},domProps:{value:t.single_engineer.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"last_name",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" : ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.job_id,expression:"single_engineer.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_engineer,"job_id",e.target.multiple?s:s[0])}}},t._l(t.jobs,(function(e){return s("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])})),0)]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone1,expression:"single_engineer.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter first phone number"},domProps:{value:t.single_engineer.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone1",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_engineer.phone2,expression:"single_engineer.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",placeholder:"Enter second phone number"},domProps:{value:t.single_engineer.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_engineer,"phone2",e.target.value)}}})]),s("hr"),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-xl-6 mb-1"},[s("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_engineer"},on:{click:function(e){return t.update_engineer()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_save)+" "),s("i",{staticClass:"fa fa-save"})])]),s("div",{staticClass:"col-xl-6 mb-1"},[s("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.delete_engineer()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_delete)+" "),s("i",{staticClass:"fa fa-trash"})])])])])])])])]),s("div",{staticClass:"modal",attrs:{id:"mdl_deactived_engineers"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content text-dark"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.enginnerslanguage[t.language].deactive_list)+" ")]),s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row overflow-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_deactive_engineer,expression:"search_deactive_engineer"}],staticClass:"form-control col-xl-3 col-md-5 mb-2",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search_deactive_engineer},on:{input:function(e){e.target.composing||(t.search_deactive_engineer=e.target.value)}}}),s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[s("thead",[s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),s("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),s("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),s("tbody",t._l(t.filtered_deactived_engineers,(function(e){return s("tr",{key:e.en_id},[s("td",[t._v(" "+t._s(e.en_id)+" ")]),s("td",[t._v(" "+t._s(e.first_name)+" ")]),s("td",[t._v(" "+t._s(e.last_name)+" ")]),s("td",[t._v(" "+t._s(e.job_title)+" ")]),s("td",[t._v(" "+t._s(e.phone1)+" ")]),s("td",[t._v(" "+t._s(e.phone2)+" ")]),s("td",[t._v(" "+t._s(e.reg_date.slice(0,10))+" ")]),s("td",{staticClass:"text-danger"},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),s("td",[s("button",{staticClass:"btn btn-success mx-1",on:{click:function(s){return t.active_engineer(e.en_id)}}},[s("i",{staticClass:"fa fa-unlock"})])])])})),0)])])])])])])])],1)},C=[],w=s("1ab6"),x=s("c735"),A=s("1157"),k=s.n(A),S={Kurdish:{enginners_page:"سەرپەرشتیارەکان",btn_deactive:"سەرپەرشتیارە ناچالاکەکان",search:"گەڕان",ID:"کۆد",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",job_title:"جۆری کار",phone:"ژ.مۆبایل",registration_date:"بەرواری تۆمارکردن",status:"دۆخ",actions:"کردارەکان",deactive:"ناچالاک",active:"چالاک",en_info:"زانیاری سەرپەرشتیارەکان",btn_save:"گۆڕینی زانیاری",btn_delete:"سڕینەوە",deactive_list:"لیستی سەرپەرشتیارە ناچالاکەکان",btn_deactived:"ناچالاک کراوەکان",btn_actived:"چالاک کراوەکان",see_staff:"بینینی ستافەکان",staffs:"ستافەکان",staff:"ستاف"},English:{enginners_page:"Supervisors",btn_deactive:"Deactived Supervisors",search:"Search",ID:"ID",first_name:"First Name",last_name:"Last Name",job_title:"Job Title",phone:"phone",registration_date:"Registration Date",status:"Status",actions:"Actions",deactive:"Deactive",active:"Active",en_info:"Supervisors Information",btn_save:"Save Change",btn_delete:"Delete",deactive_list:"Deactived Supervisors List",btn_deactived:"Deactived",btn_actived:"Actived",see_staff:"See Staffs",staffs:"Staffs",staff:"Staff"},Arabic:{enginners_page:"المشرفين",btn_deactive:"المشرفون غير النشطين",search:"بحث",ID:"رقـم",first_name:"الاسم الاول",last_name:"الاسم الثاني",job_title:"نوع العمل",phone:"موبایل",registration_date:"تاريخ التسجيل",status:"حالة",actions:"أجراءات",deactive:"معاق",active:"نشيط",en_info:"معلومات المشرفين",btn_save:"تغيير المعلومات",btn_delete:"حذف",deactive_list:"قائمة المشرفين غير النشطين",btn_deactived:"معاق",btn_actived:"منشط",see_staff:"انظر العاملين",staffs:"العاملين",staff:"العاملين"}},D=s("cba0");const E=["",null];var j={name:"Engineers",data(){return{jobs:[],engineers:[],single_engineer:{en_id:null,first_name:"",last_name:"",job_id:null,phone1:"",phone2:""},deactived_engineers:[],search_engineer:"",search_deactive_engineer:"",enginnerslanguage:S,language:"English"}},beforeCreate(){Object(w["a"])("engineers")},created(){this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t}),this.$http.post("/engineer/getData").then(({data:t})=>{this.engineers=t}),this.$http.post("/engineer/getDeactived").then(({data:t})=>{this.deactived_engineers=t})},mounted(){D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_engineer(t){const[e]=this.engineers.filter(e=>e.en_id==t);this.single_engineer.en_id=e.en_id,this.single_engineer.first_name=e.first_name,this.single_engineer.last_name=e.last_name,this.single_engineer.job_id=this.jobs.filter(t=>t.job_title==e.job_title)[0].job_id,this.single_engineer.phone1=e.phone1,this.single_engineer.phone2=e.phone2},clear_engineer(){this.single_engineer.en_id=null,this.single_engineer.first_name="",this.single_engineer.last_name="",this.single_engineer.job_id=null,this.single_engineer.phone1="",this.single_engineer.phone2=""},deactive_engineer(t){this.$confirm("Are you sure deactive this engineer ?","","question").then(()=>{this.$http.patch("/engineer/deactiveEngineer/"+t).then(()=>{this.$alert("Engineer Deactived","Success","success");const[e]=this.engineers.filter(e=>e.en_id==t);e.active_status="0",this.deactived_engineers.push(e),this.engineers=this.engineers.filter(e=>e.en_id!=t)}).catch(t=>{Object(x["a"])(t)})})},active_engineer(t){this.$confirm("Are you sure active this engineer ?","","question").then(()=>{this.$http.patch("/engineer/activeEngineer/"+t).then(()=>{this.$alert("Engineer Actived","Success","success");const[e]=this.deactived_engineers.filter(e=>e.en_id==t);e.active_status="1",this.engineers.push(e),this.deactived_engineers=this.deactived_engineers.filter(e=>e.en_id!=t)}).catch(t=>{Object(x["a"])(t)})})},delete_engineer(){null!=this.single_engineer.en_id?this.$confirm("Are you sure delete this engineer ?","","question").then(()=>{this.$http.delete("/engineer/deleteEngineer/"+this.single_engineer.en_id).then(()=>{this.$alert("Engineer deleted","Success","success"),this.engineers=this.engineers.filter(t=>t.en_id!=this.single_engineer.en_id),this.clear_engineer()}).catch(t=>{Object(x["a"])(t)})}):this.$alert("Select an Engineer","","warning")},update_engineer(){null==this.single_engineer.en_id?this.$alert("Select an engineer","","warning"):E.includes(this.single_engineer.first_name)||E.includes(this.single_engineer.last_name)||E.includes(this.single_engineer.job_id)||E.includes(this.single_engineer.phone1)?this.$alert("Fill all required fields","Empty Field","warning"):this.$confirm("Are you sure save changes ?","","question").then(()=>{document.getElementById("btn_update_engineer").setAttribute("disabled","disabled"),this.$http.patch("/engineer/updateEngineer/"+this.single_engineer.en_id,{first_name:this.single_engineer.first_name,last_name:this.single_engineer.last_name,job_id:this.single_engineer.job_id,phone1:this.single_engineer.phone1,phone2:this.single_engineer.phone2}).then(()=>{let t=this.engineers.findIndex(t=>t.en_id==this.single_engineer.en_id);this.engineers[t].first_name=this.single_engineer.first_name,this.engineers[t].last_name=this.single_engineer.last_name,this.engineers[t].job_id=this.single_engineer.job_id,this.engineers[t].phone1=this.single_engineer.phone1,this.engineers[t].phone2=this.single_engineer.phone2,this.$alert("Successfully change saved","Success","success")}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn_update_engineer").removeAttribute("disabled")})})}},computed:{filtered_engineers(){return this.engineers.filter(t=>t.en_id==this.search_engineer||t.first_name.match(this.search_engineer)||t.last_name.match(this.search_engineer)||t.reg_date.match(this.search_engineer)||t.phone1.match(this.search_engineer)||t.phone2.match(this.search_engineer))},filtered_deactived_engineers(){return this.deactived_engineers.filter(t=>t.en_id==this.search_deactive_engineer||t.first_name.match(this.search_deactive_engineer)||t.last_name.match(this.search_deactive_engineer)||t.reg_date.match(this.search_deactive_engineer)||t.phone1.match(this.search_deactive_engineer)||t.phone2.match(this.search_deactive_engineer))}},filters:{status_filter(t,e){return[S[e].deactive,S[e].active][t]},date_filter(t){var e=new Date(t);return e.toISOString().split("T")[0]}}},$=j,L=(s("32a9"),Object(c["a"])($,b,C,!1,null,"b8372a4c",null)),B=L.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("h3",{staticClass:"text-dark mb-0"},[t._v(" "+t._s(t.userLanguage[t.language].users)+" ")])]),s("hr"),s("div",{staticClass:"row"},[s("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_user"}},[t._v(" "+t._s(t.userLanguage[t.language].add_user)+" "),s("i",{staticClass:"fa fa-plus"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_search,expression:"user_search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:t.userLanguage[t.language].search+"..."},domProps:{value:t.user_search},on:{input:function(e){e.target.composing||(t.user_search=e.target.value)}}}),s("span",{staticClass:"col-1"},[s("v-checkbox",{staticClass:"mt-0 custom-checkbox-label",attrs:{"true-value":"1","false-value":"0",label:"Actives"},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}})],1)]),s("div",{staticClass:"row overflow-auto"},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[s("thead",[s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.userLanguage[t.language].id)+" ")]),s("th",[t._v(" "+t._s(t.userLanguage[t.language].username)+" ")]),s("th",[t._v(" "+t._s(t.userLanguage[t.language].full_name)+" ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.userLanguage[t.language].role)+" ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" ")]),s("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.userLanguage[t.language].status)+" ")]),s("th",{staticStyle:{width:"16%"}},[t._v(" "+t._s(t.userLanguage[t.language].actions)+" ")])]),s("tbody",t._l(t.filtered_users,(function(e){return s("tr",{key:e.user_id},[s("td",[t._v(" "+t._s(e.user_id)+" ")]),s("td",[t._v(" "+t._s(e.username)+" ")]),s("td",[t._v(" "+t._s(e.full_name)+" ")]),s("td",[t._v(" "+t._s(t._f("role_filter")(e.role))+" ")]),s("td",[t._v(" "+t._s(e.phone)+" ")]),s("td",{class:{"text-success":"1"==e.active_status,"text-danger":"0"==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),s("td",[s("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_user"},on:{click:function(s){return t.get_user(e.user_id)}}},[s("i",{staticClass:"fa fa-edit"})]),"1"==e.active_status?s("button",{staticClass:"btn btn-danger mx-1",on:{click:function(s){return t.deactive_user(e.user_id)}}},[s("i",{staticClass:"fa fa-lock"})]):t._e(),"0"==e.active_status?s("button",{staticClass:"btn btn-success mx-1",on:{click:function(s){return t.active_user(e.user_id)}}},[s("i",{staticClass:"fa fa-unlock"})]):t._e(),["U","A"].includes(e.role)?s("button",{staticClass:"btn btn-danger mx-1",on:{click:function(s){return t.delete_user(e.user_id)}}},[s("i",{staticClass:"fa fa-trash"})]):t._e()])])})),0)])])])],1)]),s("change-pass"),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_user"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_user()}}},[t._v(" × ")]),s("h5",{staticClass:"mt-2"},[t._v(" User Information ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].role)+": ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.role,expression:"single_user.role"}],staticClass:" form-control col-sm-9",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"role",e.target.multiple?s:s[0])}}},[null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?s("option",{attrs:{value:"A"}},[t._v("Admin")]):t._e(),null==t.single_user.user_id||["U","A"].includes(t.single_user.role)?s("option",{attrs:{value:"U"}},[t._v("User")]):t._e(),null==t.single_user.user_id?s("option",{attrs:{value:"E"}},[t._v("Supervisor")]):t._e()])]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].first_name)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.first_name,expression:"single_user.first_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.first_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"first_name",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].last_name)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.last_name,expression:"single_user.last_name"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.last_name},on:{input:function(e){e.target.composing||t.$set(t.single_user,"last_name",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].password)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.password,expression:"single_user.password"}],staticClass:"form-control col-sm-9",attrs:{type:"text"},domProps:{value:t.single_user.password},on:{input:function(e){e.target.composing||t.$set(t.single_user,"password",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" 1: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone1,expression:"single_user.phone1"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:t.single_user.phone1},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone1",e.target.value)}}})]),"E"==t.single_user.role&&null==t.single_user.user_id?s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].phone)+" 2: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_user.phone2,expression:"single_user.phone2"}],staticClass:"form-control col-sm-9",attrs:{type:"text",maxlength:"11"},domProps:{value:t.single_user.phone2},on:{input:function(e){e.target.composing||t.$set(t.single_user,"phone2",e.target.value)}}})]):t._e(),"E"==t.single_user.role&&null==t.single_user.user_id?s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.userLanguage[t.language].job_title)+": ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_user.job_id,expression:"single_user.job_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_user,"job_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.jobs,(function(e){return s("option",{key:e.job_id,domProps:{value:e.job_id}},[t._v(" "+t._s(e.job_title)+" ")])}))],2)]):t._e(),s("hr"),s("div",{staticClass:"row mb-3"},[null==t.single_user.user_id?s("div",{staticClass:"col-sm-12 mb-2"},[s("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_user"},on:{click:function(e){return t.add_user()}}},[t._v(" "+t._s(t.userLanguage[t.language].add)+" "),s("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.single_user.user_id?s("div",{staticClass:"col-sm-6 mb-2"},[s("button",{staticClass:"btn btn-warning btn-block",on:{click:function(e){return t.update_user()}}},[t._v(" "+t._s(t.userLanguage[t.language].save)+" "),s("i",{staticClass:"fa fa-save"})])]):t._e(),null!=t.single_user.user_id?s("div",{staticClass:"col-sm-6 mb-2"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.update_password()}}},[t._v(" "+t._s(t.userLanguage[t.language].update_password)+" "),s("i",{staticClass:"fa fa-lock"})])]):t._e()])])])])])])],1)},N=[],P={Kurdish:{users:"بەکارهێنەرەکان",add_user:"زیادکردنی بەکارهێنەر",search:"گـەڕان",id:"کۆد",username:"ناوی بەکارهێنەر",full_name:"ناوی تەواو",role:"ڕۆڵ",phone:"ژ.مۆبایل",status:"دۆخ",actions:"کردارەکان",user_information:"زانیاری بەکارهێنەر",first_name:"ناوی یەکەم",last_name:"ناوی دووەم",password:"وشەی نهێنی",job_title:"کار",add:"زیادکردن",save:"گۆڕانکاری",update_password:"گۆڕینی وشەی نهێنی",active:"چالاک",deactive:"ناچالاک"},English:{users:"Users",add_user:"Add User",search:"Search",id:"ID",username:"Username",full_name:"Full name",role:"Role",phone:"Phone",status:"Status",actions:"Actions",user_information:"User Information",first_name:"First name",last_name:"Last name",password:"Password",job_title:"Job Title",add:"Add",save:"Save",update_password:"Update Password",active:"Active",deactive:"Deactive"},Arabic:{users:"المستخدمون",add_user:"إضافة المستخدمين",search:"بحث",id:"رقـم",username:"اسم المستخدم",full_name:"الاسم الكامل",role:"وظيفة",phone:"موبایل",status:"حالة",actions:"أجراءات",user_information:"معلومات المستخدم",first_name:"الاسم الاول",last_name:"الاسم الثاني",password:"كلمه السر",job_title:"عمل",add:"اضافة",save:"تغيير المعلومات",update_password:"تغیير كلمة السر",active:"نشيط",deactive:"معاق"}};const M=["",null];var O={name:"Users",data(){return{users:[],single_user:{user_id:null,first_name:"",last_name:"",password:"",phone1:"",phone2:"",role:"U",job_id:null},jobs:[],user_search:"",userLanguage:P,language:"English",activeStatus:"1"}},beforeCreate(){Object(w["a"])("users")},created(){this.$http.post("/user/getData").then(({data:t})=>{this.users=t}),this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t})},mounted(){D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_user(t){const[e]=this.users.filter(e=>e.user_id==t);this.single_user.user_id=e.user_id,this.single_user.first_name=e.full_name.split(" ")[0],this.single_user.last_name=e.full_name.split(" ")[1],this.single_user.phone1=e.username,this.single_user.phone2=e.phone,this.single_user.role=e.role},clear_user(){this.single_user.user_id=null,this.single_user.first_name="",this.single_user.last_name="",this.single_user.password="",this.single_user.phone1="",this.single_user.phone2="",this.single_user.role="U",this.single_user.job_id=null},async add_user(){"E"==this.single_user.role?M.includes(this.single_user.first_name)||M.includes(this.single_user.last_name)||M.includes(this.single_user.phone1)||M.includes(this.single_user.phone2)||M.includes(this.single_user.job_id)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):(document.getElementById("btn_add_user").setAttribute("disabled","disabled"),this.$http.post("/engineer/addEngineer",{first_name:this.single_user.first_name,last_name:this.single_user.last_name,job_id:this.single_user.job_id,phone1:this.single_user.phone1,phone2:this.single_user.phone2}).then(({data:t})=>{this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,en_id:t.en_id,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:t})=>{this.$alert("Successfully user added","Success","success"),this.users.unshift({user_id:t.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()})}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn_add_user").removeAttribute("disabled")})):M.includes(this.single_user.phone1)||M.includes(this.single_user.first_name)||M.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.single_user.password.length<6?this.$alert("Minimum password character: 6","Password","warning"):this.$http.post("/user/addUser",{username:this.single_user.phone1,password:this.single_user.password,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(({data:t})=>{this.$alert("Successfully user added","Success","success"),this.users.push({user_id:t.user_id,username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1,active_status:"1"}),this.clear_user()}).catch(t=>{Object(x["a"])(t)})},update_user(){M.includes(this.single_user.phone1)||M.includes(this.single_user.first_name)||M.includes(this.single_user.last_name)?this.$alert("Fill all required fields","Empty Filed","warning"):this.$confirm("Do you want update the informations ?","","question").then(()=>{this.$http.patch("/user/updateUser/"+this.single_user.user_id,{username:this.single_user.phone1,full_name:this.single_user.first_name+" "+this.single_user.last_name,role:this.single_user.role,phone:this.single_user.phone1}).then(()=>{let t=this.users.findIndex(t=>t.user_id==this.single_user.user_id);this.users[t].username=this.single_user.phone1,this.users[t].full_name=this.single_user.first_name+" "+this.single_user.last_name,this.users[t].role=this.single_user.role,this.users[t].phone=this.single_user.phone1,this.$alert("Informations successfully updated","Success","success")}).catch(t=>{Object(x["a"])(t)})})},update_password(){this.single_user.password.length>=6?this.$confirm("Are you sure update password for this user account ?","","question").then(()=>{this.$http.patch("/user/updatePassword/"+this.single_user.user_id,{password:this.single_user.password}).then(()=>{this.$alert("Password successfully updated","Success","success"),this.single_user.password=""})}):this.$alert("Minimum password character: 6","Password","warning")},deactive_user(t){this.$confirm("Are you sure deactive this user account ?","","question").then(()=>{this.$http.patch("/user/deactiveUser/"+t).then(()=>{let e=this.users.findIndex(e=>e.user_id==t);this.users[e].active_status="0",this.$alert("User successfully deactived","Success","success")}).catch(t=>{Object(x["a"])(t)})})},active_user(t){this.$confirm("Are you sure active this user account ?","","question").then(()=>{this.$http.patch("/user/activeUser/"+t).then(()=>{let e=this.users.findIndex(e=>e.user_id==t);this.users[e].active_status="1",this.$alert("User successfully actived","Success","success")}).catch(t=>{Object(x["a"])(t)})})},delete_user(t){this.$confirm("Are you sure delete this user account ?","","question").then(()=>{this.$http.delete("/user/deleteUser/"+t).then(()=>{this.$alert("User successfully deleted","Success","success"),this.users=this.users.filter(e=>e.user_id!=t)}).catch(t=>{Object(x["a"])(t)})})}},computed:{filtered_users(){return this.users.filter(t=>(t.user_id==this.user_search||t.username.match(this.user_search)||t.full_name.match(this.user_search)||t.phone.match(this.user_search)||t.role.toLowerCase().match(this.user_search))&&t.active_status==this.activeStatus)}},filters:{status_filter(t,e){return[P[e].deactive,P[e].active][t]},role_filter(t){return"A"==t?"Admin":"U"==t?"User":"Engineer"}}},T=O,H=(s("f357"),s("ac7c")),F=Object(c["a"])(T,I,N,!1,null,"b750c668",null),Q=F.exports;u()(F,{VCheckbox:H["a"]});var R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("h3",{staticClass:"text-dark mb-0"},[t._v(" "+t._s(t.attendanceLanguage[t.language].daily_staff_list_and_employee_attendance)+" ")])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 text-dark py-1"},[s("button",{staticClass:"btn btn-info btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#list_info"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].list_info)+" "),s("i",{staticClass:"fa fa-arrow-down"})]),s("div",{staticClass:"collapse mb-3",attrs:{id:"list_info"}},[s("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].list_id)+": "),t.dsl_list.st_id?s("span",{staticClass:"ms-5"},[t._v(" "+t._s(t.dsl_list.datetime_list?new Date(t.dsl_list.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(t.dsl_list.datetime_list?new Date(t.dsl_list.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.dsl_id,expression:"dsl_list.dsl_id"}],staticClass:"form-control text-center",attrs:{type:"number",readonly:""},domProps:{value:t.dsl_list.dsl_id},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"dsl_id",e.target.value)}}}),s("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].work_date)+": ")]),"E"!=t.user.role?s("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date"},domProps:{value:t.dsl_list.work_date},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"work_date",e.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.work_date,expression:"dsl_list.work_date"}],staticClass:"form-control text-center",attrs:{type:"date",min:t.startDate,max:t.endDate},domProps:{value:t.dsl_list.work_date},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"work_date",e.target.value)}}}),s("div",{staticClass:"row mt-2 float-left col-sm-12"},[s("label",{staticClass:"mt-2 px-2 col-sm-9 multi-language",attrs:{id:"work_date"}},[s("span",[t._v(" "+t._s(t.attendanceLanguage[t.language].staff)+": ")])]),s("span",{staticClass:"col-2",staticStyle:{height:"40px"}},["A"==t.user.role?s("v-checkbox",{staticClass:"custom-checkbox-label mt-0",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(e){t.showSpecialStaffs=e},expression:"showSpecialStaffs"}}):t._e()],1)]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.st_id,expression:"dsl_list.st_id"}],staticClass:"form-control text-center",attrs:{id:"staff"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dsl_list,"st_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return"A"!=t.user.role||e.special_staff==t.showSpecialStaffs})),(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("label",{staticClass:"mt-2 px-2 multi-language col-sm-10"},[t._v(" "+t._s(t.attendanceLanguage[t.language].location)+" : ")]),t.is_edit?s("button",{staticClass:"btn btn-success btn-sm col-sm-2",on:{click:function(e){return t.dsl_list.location.push("")}}},[s("i",{staticClass:"fa fa-plus"})]):t._e(),t._l(t.dsl_list.location,(function(e,a){return s("div",{key:a,staticClass:"row mt-2 float-left col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.location[a],expression:"dsl_list.location[index]"}],staticClass:"form-control text-center col-sm-10 mb-1 locations",attrs:{type:"text",readonly:1==t.dsl_list.location.length&&t.employees.length>0||0==t.is_edit},domProps:{value:t.dsl_list.location[a]},on:{change:function(e){return t.update_list_location(t.dsl_list.location[a],a)},input:function(e){e.target.composing||t.$set(t.dsl_list.location,a,e.target.value)}}}),t.dsl_list.location.length>1&&t.is_edit?s("button",{staticClass:"btn btn-danger btn-sm mb-1 mx-1",on:{click:function(e){return t.delete_location(t.dsl_list.location[a])}}},[s("i",{staticClass:"fa fa-minus"})]):t._e()])})),s("br"),s("br"),s("br"),s("br"),s("label",{staticClass:"px-2 multi-language col-sm-12"},[t._v(" "+t._s(t.attendanceLanguage[t.language].note)+": ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.note,expression:"dsl_list.note"}],staticClass:"form-control mb-3",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"5"},domProps:{value:t.dsl_list.note},on:{input:function(e){e.target.composing||t.$set(t.dsl_list,"note",e.target.value)}}}),s("label",{staticClass:"mt-2 px-2 col-sm-12 multi-language"},[t._v(" "+t._s(t.attendanceLanguage[t.language].foods)+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.food_number,expression:"dsl_list.food_number"}],staticClass:"form-control mb-3 text-center",attrs:{type:"number",disabled:!t.is_edit||null==t.dsl_list.dsl_id},domProps:{value:t.dsl_list.food_number},on:{change:function(e){return t.set_food_number()},input:function(e){e.target.composing||t.$set(t.dsl_list,"food_number",e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.dsl_list.food_group,expression:"dsl_list.food_group"}],staticClass:"form-control mb-3 text-center",attrs:{disabled:!t.is_edit||null==t.dsl_list.dsl_id},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dsl_list,"food_group",e.target.multiple?s:s[0])},function(e){return t.set_food_group()}]}},[s("option",{attrs:{value:"barzayakan"}},[t._v("بەرزاییەکان")]),s("option",{attrs:{value:"A"}},[t._v("A")]),s("option",{attrs:{value:"B"}},[t._v("B")]),s("option",{attrs:{value:"C"}},[t._v("C")]),s("option",{attrs:{value:"D"}},[t._v("D")]),s("option",{attrs:{value:"E"}},[t._v("E")])]),null==t.dsl_list.dsl_id?s("div",{staticClass:"col-xl-12 mb-1"},[s("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn-add"},on:{click:function(e){return t.add_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].add_list)+" "),s("i",{staticClass:"fa fa-plus"})])]):t._e(),null!=t.dsl_list.dsl_id?s("div",{staticClass:"col-xl-12 mb-1"},[s("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update"},on:{click:function(e){return t.update_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].save_changes)+" "),s("i",{staticClass:"fa fa-save"})])]):t._e(),s("div",{staticClass:"col-xl-12 mb-1"},[s("button",{staticClass:"btn btn-info btn-block",attrs:{id:"btn_clear"},on:{click:function(e){return t.clear_list()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].clear)+" "),s("i",{staticClass:"fa fa-trash"})])])],2),"A"==t.user.role?s("button",{staticClass:"btn btn-danger btn-block mb-2",attrs:{"data-toggle":"collapse","data-target":"#missed_employees"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].missed_employees)+" "),s("i",{staticClass:"fa fa-arrow-down"})]):t._e(),s("div",{staticClass:"collapse px-2",attrs:{id:"missed_employees"}},t._l(t.missed_employees,(function(e){return s("button",{key:e.emp_id,staticClass:"btn btn-primary btn-block",attrs:{id:"missed"+e.emp_id},on:{click:function(s){return t.add_missed_to_attendance(e.emp_id,"missed"+e.emp_id)}}},[t._v(" "+t._s(e.full_name)+" ")])})),0)]),s("div",{staticClass:"col-xl-9",staticStyle:{"overflow-x":"auto"}},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[s("thead",[s("th",{staticStyle:{width:"23%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].employee)+" ")]),s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].overtime)+" ")]),s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].worked_hours)+" ")]),t.is_edit?s("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].status)+" ")]):t._e(),s("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].location)+" ")]),s("th",{staticStyle:{width:"15%"}},[t._v(" Work ")]),t.is_edit?s("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.attendanceLanguage[t.language].actions)+" ")]):t._e()]),s("tbody",t._l(t.employees,(function(e){return s("tr",{key:e.at_id},[s("td",{class:{"bg-success text-white":e.main_st_id!=t.dsl_list.st_id}},[t._v(" "+t._s(e.full_name)+" "),e.main_st_id!=t.dsl_list.st_id?s("hr"):t._e(),e.main_st_id!=t.dsl_list.st_id?s("small",[t._v(" "+t._s(t.other.staffs.filter((function(t){return t.st_id==e.main_st_id}))[0].staff_name)+" ")]):t._e()]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.overtime,expression:"employee.overtime",modifiers:{lazy:!0}}],staticClass:"form-control text-center",staticStyle:{padding:"0 !important"},attrs:{type:"number",min:"0",readonly:0==t.is_edit||1==e.absent},domProps:{value:e.overtime},on:{change:[function(s){return t.$set(e,"overtime",s.target.value)},function(s){return t.set_overtime(e.overtime,e.at_id)}]}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.worked_hours,expression:"employee.worked_hours",modifiers:{lazy:!0}}],staticClass:"form-control text-center",attrs:{type:"number",min:"0",readonly:0==t.is_edit||1==e.absent||2==e.absent},domProps:{value:e.worked_hours},on:{change:[function(s){return t.$set(e,"worked_hours",s.target.value)},function(s){return t.set_worked_hours(e.worked_hours,e.at_id)}]}})]),t.is_edit?s("td",[t.isFriday?t._e():s("button",{staticClass:"btn btn-danger btn-block mx-1 mb-1",attrs:{disabled:1==e.absent},on:{click:function(s){return t.set_to_absent(e.at_id)}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].absent)+" ")]),t.isFriday?t._e():s("button",{staticClass:"btn btn-success btn-block mx-1 mb-1",attrs:{disabled:0==e.absent},on:{click:function(s){return t.set_to_present(e.at_id)}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].present)+" ")]),t.isFriday?s("button",{staticClass:"btn btn-warning btn-block mx-1 mb-1",attrs:{disabled:2==e.absent},on:{click:function(s){return t.set_to_off(e.at_id)}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].off)+" ")]):t._e()]):t._e(),s("td",t._l(t.dsl_list.location.filter((function(t){return t.length>0})),(function(a,i){return s("button",{key:i,staticClass:"btn m-1",class:{"btn-secondary":a!=e.location,"btn-success":a==e.location},attrs:{disabled:a==e.location||0==t.is_edit},on:{click:function(s){return t.set_location(a,e.at_id)}}},[t._v(" "+t._s(a)+" ")])})),0),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.work,expression:"employee.work",modifiers:{lazy:!0}}],staticClass:"form-control text-center",staticStyle:{padding:"0 !important"},attrs:{type:"text"},domProps:{value:e.work},on:{change:[function(s){return t.$set(e,"work",s.target.value)},function(s){return t.setWork(e.work,e.at_id)}]}})]),t.is_edit?s("td",[s("button",{staticClass:"btn btn-primary mx-1 mb-1",attrs:{disabled:"1"==e.absent,"data-toggle":"modal","data-target":"#mdl_fine"},on:{click:function(s){return t.get_attendance(e.at_id)}}},[s("i",{staticClass:"fa fa-edit"})]),e.main_st_id!=t.dsl_list.st_id?s("button",{staticClass:"btn btn-danger mx-1 mb-1",on:{click:function(s){return t.return_employee(e.at_id,e.main_st_id)}}},[s("i",{staticClass:"fa fa-trash"})]):t._e()]):t._e()])})),0)])])])])],1)]),s("change-pass"),s("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_fine"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee}},[t._v(" × ")]),s("h5",{staticClass:"text-dark mt-2"},[t._v(" Information ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Transport: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.transport,expression:"single_employee.transport"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.transport},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"transport",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Transport Reason: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.transport_reason,expression:"single_employee.transport_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.transport_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"transport_reason",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Food: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.food,expression:"single_employee.food"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.food},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"food",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Food Reason: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.food_reason,expression:"single_employee.food_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.food_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"food_reason",e.target.value)}}})]),s("hr"),"A"==t.user.role?[s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Expense: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expense,expression:"single_employee.expense"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.expense},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expense",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Expense Reason: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.expense_reason,expression:"single_employee.expense_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.expense_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"expense_reason",e.target.value)}}})]),s("hr"),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Loan: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.loan,expression:"single_employee.loan"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.loan},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"loan",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Loan Reason: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.loan_reason,expression:"single_employee.loan_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.loan_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"loan_reason",e.target.value)}}})]),s("hr"),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Accomodation: ("+t._s(t.single_employee.salary_type?"Daily"==t.single_employee.salary_type?"IQD.":"$":"")+") ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.accomodation,expression:"single_employee.accomodation"}],staticClass:"form-control text-center col-sm-8",attrs:{type:"number",min:"0"},domProps:{value:t.single_employee.accomodation},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"accomodation",e.target.value)}}})]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-4"},[t._v(" Accomodation Reason: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_employee.accomodation_reason,expression:"single_employee.accomodation_reason"}],staticClass:"form-control col-sm-8",staticStyle:{resize:"none","text-align":"right",direction:"rtl"},attrs:{rows:"5"},domProps:{value:t.single_employee.accomodation_reason},on:{input:function(e){e.target.composing||t.$set(t.single_employee,"accomodation_reason",e.target.value)}}})]),s("hr")]:t._e(),s("div",{staticClass:"row mb-2"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{id:"btn_update_attendance"},on:{click:function(e){return t.update_attendance()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].save)+" "),s("i",{staticClass:"fa fa-save"})])])],2)])])])]),s("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_change_staff"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:t.clear_single_employee_staff}},[t._v(" × ")]),s("h5",{staticClass:"text-dark mt-2"},[t._v(" "+t._s(t.attendanceLanguage[t.language].send_employee_to_another_staff)+" ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-sm-3 mt-1"},[t._v(" "+t._s(t.attendanceLanguage[t.language].new_staff)+": ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_employee_staff.new_st_id,expression:"single_employee_staff.new_st_id"}],staticClass:"form-control col-sm-9",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_employee_staff,"new_st_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.filtered_other_staffs,(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),s("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.send_employee()}}},[t._v(" "+t._s(t.attendanceLanguage[t.language].send)+" "),s("i",{staticClass:"fa fa-paper-plane"})])])])])])])],1)},U=[],Y={Kurdish:{daily_staff_list_and_employee_attendance:"لیستی ڕۆژانەی ستافەکان و غیاباتی کارمەندان",list_info:"زانیاری لیست",list_id:"کۆدی لیست",work_date:"بەروار",staff:"ستاف",location:"شوێن",note:"تێبینی",add_list:"زیادکردنی لیست",save_changes:"گۆڕینی زانیاری",clear:"سڕینەوە",employee:"کارمەند",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",status:"دۆخ",actions:"کردارەکان",absent:"نەهاتوو",present:"ئامادەبوو",off:"پشوو",fine_information:"زانیاری سەرپێچی",fine:"بڕی سەرپێچی",fine_reason:"هۆکاری سەرپێچی",save:"خەزن کردن",send_employee_to_another_staff:"ناردنی کارمەند بۆ ستافێکی دیکە",new_staff:"ستافی تازە",send:"ناردن",foods:"خواردنەکان",missed_employees:"کارمەندە داخڵ نەکراوەکان"},English:{daily_staff_list_and_employee_attendance:"Daily staff list and employee attendance",list_info:"List Info",list_id:"List ID",work_date:"Work Date",staff:"Staff",location:"Location",note:"Note",add_list:"Add List",save_changes:"Save Changes",clear:"Clear",employee:"Employee",overtime:"Over Time",worked_hours:"Worked(h)",status:"Status",actions:"Actions",absent:"Absent",present:"Present",off:"Off",fine_information:"Fine Information",fine:"Fine",fine_reason:"Fine reason",save:"Save",send_employee_to_another_staff:"Send employee to another staff",new_staff:"New Staff",send:"Send",foods:"Foods",missed_employees:"Missed employees"},Arabic:{daily_staff_list_and_employee_attendance:"القائمة اليومية لغياب الموظفين",list_info:"معلومات القائمة",list_id:"رقم القائمة",work_date:"تاريخ",staff:"العاملين",location:"موقع",note:"ملاحظة",add_list:"اضـف قائمة",save_changes:"تغيير المعلومات",clear:"حذف",employee:"موظـف",overtime:"وقت إضافي",worked_hours:"وقت العمل",status:"حالة",actions:"أجراءات",absent:"غـیاب",present:"كان حاضرا",off:"يوم الاجازة",fine_information:"معلومات الغرامة",fine:"مقدار الغرامة",fine_reason:"سبب الغرامة",save:"حفظ",send_employee_to_another_staff:"إرسال الموظفين إلى قائمة آخر",new_staff:"قائمة جديد",send:"ارسال",foods:"طعام",missed_employees:"موظفين غير مدمجين"}};const z=["",null];var G={name:"Attendance",data(){return{employees:[],missed_employees:[],staffs:[],single_employee:{at_id:null,fine:0,fine_reason:"",expense:0,expense_reason:"",transport:0,transport_reason:"",food:0,food_reason:"",loan:0,loan_reason:"",accomodation:0,accomodation_reason:""},single_employee_staff:{at_id:null,new_st_id:null},dsl_list:{dsl_id:null,st_id:null,work_date:(new Date).toISOString().split("T")[0],location:[""],note:"",food_number:0,food_group:null,datetime_list:null},other:{staffs:[]},user:{username:"",role:"",en_id:null},attendanceLanguage:Y,language:"English",showSpecialStaffs:"false"}},beforeCreate(){Object(w["a"])("attendance")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null,null!=this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})}),this.$http.post("/staff/getData").then(({data:t})=>{this.other.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})},mounted(){D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_attendance(t){const[e]=this.employees.filter(e=>e.at_id==t);this.single_employee.at_id=t,this.single_employee.fine=e.fine,this.single_employee.fine_reason=e.fine_reason,this.single_employee.expense=e.expense,this.single_employee.expense_reason=e.expense_reason,this.single_employee.transport=e.transport,this.single_employee.transport_reason=e.transport_reason,this.single_employee.food=e.food,this.single_employee.food_reason=e.food_reason,this.single_employee.loan=e.loan,this.single_employee.loan_reason=e.loan_reason,this.single_employee.accomodation=e.accomodation,this.single_employee.accomodation_reason=e.accomodation_reason,this.single_employee.salary_type=e.salary_type},get_list(t,e){this.$http.post("/daily_staff_list/getListAndAttendance",{st_id:t,work_date:e}).then(({data:t})=>{if(this.employees=t.employees.sort((t,e)=>t.sort_code-e.sort_code),null!=t.dsl_list){this.dsl_list.dsl_id=t.dsl_list.dsl_id;let e=t.dsl_list.location;this.dsl_list.location=e.split(","),this.dsl_list.note=t.dsl_list.note,this.dsl_list.food_number=t.dsl_list.food_number,this.dsl_list.food_group=t.dsl_list.food_group,this.dsl_list.datetime_list=t.dsl_list.datetime_list}else this.dsl_list.dsl_id=null,this.dsl_list.location=[""],this.dsl_list.note="",this.dsl_list.food_number=0,this.dsl_list.food_group=null,this.dsl_list.datetime_list=null}).catch(t=>{Object(x["a"])(t)})},get_missed_employees(){this.$http.post("/attendance/getMissedEmployees",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date}).then(({data:t})=>{this.missed_employees=t})},clear_list(){this.dsl_list.dsl_id=null,this.dsl_list.st_id=null,this.dsl_list.work_date=(new Date).toISOString().split("T")[0],this.dsl_list.location=[""],this.dsl_list.note="",this.employees=[],this.dsl_list.food_number=0,this.dsl_list.food_group=null,this.dsl_list.datetime_list=null},clear_single_employee(){this.single_employee.at_id=null,this.single_employee.fine=0,this.single_employee.fine_reason="",this.single_employee.expense=0,this.single_employee.expense_reason="",this.single_employee.transport=0,this.single_employee.transport_reason="",this.single_employee.food=0,this.single_employee.food_reason="",this.single_employee.loan=0,this.single_employee.loan_reason="",this.single_employee.accomodation=0,this.single_employee.accomodation_reason=""},clear_single_employee_staff(){this.single_employee_staff.at_id=null,this.single_employee_staff.new_st_id=null},async add_list(){if(this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),z.includes(this.dsl_list.st_id)||z.includes(this.dsl_list.work_date)||z.includes(this.dsl_list.st_id)||this.dsl_list.location.includes(""))this.$alert("Fill all required fields","Empty Field","warning");else{this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),document.getElementById("btn-add").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3);var e=null;"A"!=this.user.role||this.isFriday||(e=confirm("Are you sure you want to add this list with Present?")),await this.$http.post("/daily_staff_list/addList",{st_id:this.dsl_list.st_id,work_date:this.dsl_list.work_date,user:this.user.username,location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:t,datetime_log:t,absent:this.isFriday?"2":"E"==this.user.role||"A"==this.user.role&&e?"0":"1"}).then(({data:t})=>{document.getElementById("btn-add").removeAttribute("disabled"),this.dsl_list.dsl_id=t.dsl_id,this.dsl_list.datetime_list=t.datetime_list,this.employees=t.employees,this.other.staffs.push({dsl_id:t.dsl_id,st_id:this.dsl_list.st_id,staff_name:this.staffs.filter(t=>t.st_id==this.dsl_list.st_id)[0].staff_name}),this.missed_employees=[],this.$alert("List Created","Successfull","success")}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled"),document.getElementById("btn-update").removeAttribute("disabled")})}},add_missed_to_attendance(t,e){null!=this.dsl_list.dsl_id&&this.$confirm("Are you sure add this employee ?","","question").then(()=>{var s=null;"A"!=this.user.role||this.isFriday||(s=confirm("Are you sure you want to add this employee with Present?")),document.getElementById(e).setAttribute("disabled","disabled");var a=new Date;a.setHours(a.getHours()+3),this.$http.post("/attendance/addAttendance",{emp_id:t,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id,location:this.dsl_list.location[0]||"",user:this.user.username,employee:this.missed_employees.find(e=>e.emp_id==t).full_name,datetime_log:a,datetime_list:a,absent:this.isFriday?"2":"E"==this.user.role||"A"==this.user.role&&s?"0":"1"}).then(({data:e})=>{this.employees.push({at_id:e.at_id,emp_id:t,full_name:this.missed_employees.filter(t=>t.emp_id)[0].full_name,main_st_id:this.dsl_list.st_id,st_id:this.dsl_list.st_id,salary_type:this.missed_employees.filter(t=>t.emp_id)[0].salary_type,overtime:0,worked_hours:this.isFriday?0:"E"==this.user.role||"A"==this.user.role&&s?8:0,fine:0,fine_reason:null,expense:0,expense_reason:null,transport:0,transport_reason:null,food:0,food_reason:null,loan:0,loan_reason:null,accomodation:0,accomodation_reason:null,absent:this.isFriday?"2":"E"==this.user.role||"A"==this.user.role&&s?"0":"1",location:this.dsl_list.location[0]||""}),this.missed_employees=this.missed_employees.filter(e=>e.emp_id!=t)}).catch(()=>{document.getElementById(e).removeAttribute("disabled")})})},set_to_absent(t){this.$confirm("Are you sure this employee is absent ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/setAbsent/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="1",this.employees[e].worked_hours=0,this.employees[e].overtime=0,this.employees[e].fine=0,this.employees[e].fine_reason=null,this.employees[e].location="",this.employees[e].expense=0,this.employees[e].expense_reason=null,this.employees[e].transport=0,this.employees[e].transport_reason=null,this.employees[e].food=0,this.employees[e].food_reason=null,this.employees[e].loan=0,this.employees[e].loan_reason=null,this.employees[e].accomodation=0,this.employees[e].accomodation_reason=null,this.$alert("Employee absented","Successfull","success")})})},set_to_present(t){this.$confirm("Are you sure this employee is present ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/cancelAbsent/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="0",this.employees[e].worked_hours=8,this.$alert("Employee presented","Successfull","success")})})},set_to_off(t){this.$confirm("Are you sure this employee is iff ?","","question").then(()=>{var e=new Date;e.setHours(e.getHours()+3),this.$http.patch("/attendance/setOff/"+t,{dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.filter(e=>e.at_id==t)[0].full_name,datetime_log:e,st_id:this.dsl_list.st_id,datetime_list:e}).then(()=>{let e=this.employees.findIndex(e=>e.at_id==t);this.employees[e].absent="2",this.employees[e].worked_hours=0,this.employees[e].overtime=0,this.$alert("Employee set to Off","Successfull","success")})})},set_worked_hours(t,e){if(this.is_edit){var s=new Date;s.setHours(s.getHours()+3),this.$http.patch("/attendance/setWorkedHours/"+e,{worked_hours:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:s,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:s}).then(()=>{}).catch(t=>{Object(x["a"])(t)})}},set_overtime(t,e){if(this.is_edit){var s=new Date;s.setHours(s.getHours()+3),this.$http.patch("/attendance/setOvertime/"+e,{overtime:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:s,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:s}).then(()=>{}).catch(t=>{Object(x["a"])(t)})}},set_location(t,e){var s=new Date;s.setHours(s.getHours()+3),this.$http.patch("/attendance/setLocation/"+e,{location:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,st_id:this.dsl_list.st_id,datetime_log:s,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_list:s}).then(()=>{let s=this.employees.findIndex(t=>t.at_id==e);this.employees[s].location=t})},set_food_number(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/setFoodNumber/"+this.dsl_list.dsl_id,{food_number:this.dsl_list.food_number,st_id:this.dsl_list.st_id,user:this.user.username,datetime_food:t,datetime_log:t}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},set_food_group(){document.getElementById("work_date").setAttribute("disabled","disabled"),document.getElementById("staff").setAttribute("disabled","disabled"),document.getElementById("btn_update").setAttribute("disabled","disabled"),document.getElementById("btn_clear").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/setFoodGroup/"+this.dsl_list.dsl_id,{food_group:this.dsl_list.food_group,st_id:this.dsl_list.st_id,user:this.user.username,datetime_food:t,datetime_log:t}).finally(()=>{document.getElementById("work_date").removeAttribute("disabled"),document.getElementById("staff").removeAttribute("disabled"),document.getElementById("btn_update").removeAttribute("disabled"),document.getElementById("btn_clear").removeAttribute("disabled")})},get_employee_staff(t){this.single_employee_staff.at_id=t},send_employee(){z.includes(this.single_employee_staff.new_st_id)?this.$alert("Select new staff","Empty staff","warning"):this.$confirm("Are you sure send this employee to choosed staff ? ","","question").then(()=>{const[t]=this.employees.filter(t=>t.at_id==this.single_employee_staff.at_id);this.$http.patch("/attendance/changeStaff/"+this.single_employee_staff.at_id+"/"+this.single_employee_staff.new_st_id+"/"+this.dsl_list.work_date+"/"+this.dsl_list.st_id,{emp_id:t.emp_id,overtime:t.overtime,worked_hours:t.worked_hours,fine:t.fine,fine_reason:t.fine_reason,expense:t.expense,expense_reason:t.expense_reason,transport:t.transport,transport_reason:t.transport_reason,food:t.food,food_reason:t.food_reason,loan:t.loan,loan_reason:t.loan_reason,accomodation:t.accomodation,accomodation_reason:t.accomodation_reason,absent:t.absent,work_date:this.dsl_list.work_date}).then(()=>{this.$alert("Employee sended","Success","success"),this.employees=this.employees.filter(t=>t.at_id!=this.single_employee_staff.at_id)})})},return_employee(t,e){this.$confirm("Are you sure return this employee to own staff ?","","question").then(()=>{this.$http.patch("/attendance/returnEmployee/"+t+"/"+e,{work_date:this.dsl_list.work_date}).then(()=>{this.employees=this.employees.filter(e=>e.at_id!=t)}).catch(t=>{Object(x["a"])(t)})})},update_list(){null!=this.dsl_list.dsl_id&&(z.includes(this.dsl_list.location)?this.$alert("Write a location","Empty Field","warning"):this.$confirm("Are you sure update the list informations ? ","","question").then(()=>{this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0);var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,st_id:this.dsl_list.st_id,user:this.user.username,datetime_list:t,datetime_log:t}).then(()=>{this.$alert("List Updated","Success","success")})}))},update_list_location(t,e){if(z.includes(this.dsl_list.location.join(",")))this.$alert("Enter location","Empty location","warning");else if(this.dsl_list.location=this.dsl_list.location.filter(t=>t.length>0),this.dsl_list.location.filter(e=>e==t).length>1)this.$alert("Duplicate location","Warning","warning"),this.dsl_list.location[e]="";else{var s=new Date;s.setHours(s.getHours()+3),this.$http.patch("/daily_staff_list/updateList/"+this.dsl_list.dsl_id,{location:this.dsl_list.location.join(","),note:this.dsl_list.note||null,datetime_list:s}).then(()=>{var e=[];this.employees.forEach(t=>{this.dsl_list.location.includes(t.location)||e.push(t.at_id)}),e.length>0&&this.$http.patch("/attendance/updateAttendancesLocation",{emps:e,location:t,datetime_log:s,user:this.user.username,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id}).then(()=>{e.forEach(e=>{let s=this.employees.findIndex(t=>t.at_id==e);this.employees[s].location=t})})})}},delete_location(t){this.employees.filter(e=>e.location==t).length>0?this.$alert("One of the employees in this location","You can't delete this location","error"):(this.dsl_list.location=this.dsl_list.location.filter(e=>e!=t),this.update_list_location(t,0))},update_attendance(){if(null!=this.single_employee.at_id)if(this.single_employee.fine<0)this.$alert("You can't set this fine","Warning","warning");else{document.getElementById("btn_update_attendance").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.patch("/attendance/updateAttendance/"+this.single_employee.at_id,{fine:this.single_employee.fine,fine_reason:this.single_employee.fine_reason,expense:this.single_employee.expense,expense_reason:this.single_employee.expense_reason,transport:this.single_employee.transport,transport_reason:this.single_employee.transport_reason,food:this.single_employee.food,food_reason:this.single_employee.food_reason,loan:this.single_employee.loan,loan_reason:this.single_employee.loan_reason,accomodation:this.single_employee.accomodation,accomodation_reason:this.single_employee.accomodation_reason,user:this.user.username,datetime_log:t,dsl_id:this.dsl_list.dsl_id,st_id:this.dsl_list.st_id,employee:this.employees.find(t=>t.at_id==this.single_employee.at_id).full_name}).then(()=>{this.$alert("Update Successfull","Success","success");let t=this.employees.findIndex(t=>t.at_id==this.single_employee.at_id);this.employees[t].fine_reason=this.single_employee.fine_reason,this.employees[t].fine=this.single_employee.fine,this.employees[t].expense_reason=this.single_employee.expense_reason,this.employees[t].expense=this.single_employee.expense,this.employees[t].transport_reason=this.single_employee.transport_reason,this.employees[t].transport=this.single_employee.transport,this.employees[t].food_reason=this.single_employee.food_reason,this.employees[t].food=this.single_employee.food,this.employees[t].loan_reason=this.single_employee.loan_reason,this.employees[t].loan=this.single_employee.loan,this.employees[t].accomodation_reason=this.single_employee.accomodation_reason,this.employees[t].accomodation=this.single_employee.accomodation}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn_update_attendance").removeAttribute("disabled")})}},validateNumber(t){var e=t||window.event;if("paste"===e.type)s=event.clipboardData.getData("text/plain");else{var s=e.keyCode||e.which;s=String.fromCharCode(s)}var a=/[0-9]|\./;a.test(s)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())},setWork(t,e){if(this.is_edit){var s=new Date;s.setHours(s.getHours()+3),this.$http.patch("/attendance/setWork/"+e,{work:t,dsl_id:this.dsl_list.dsl_id,user:this.user.username,employee:this.employees.find(t=>t.at_id==e).full_name,datetime_log:s,st_id:this.dsl_list.st_id,datetime_list:s}).then(()=>{}).catch(t=>{Object(x["a"])(t)})}}},watch:{"dsl_list.work_date":function(t){z.includes(t)||z.includes(this.dsl_list.st_id)||(this.get_list(this.dsl_list.st_id,t),this.get_missed_employees())},"dsl_list.st_id":function(t){z.includes(t)||z.includes(this.dsl_list.work_date)||(this.get_list(t,this.dsl_list.work_date),this.get_missed_employees())}},computed:{is_edit(){var t=new Date(this.dsl_list.work_date),e=new Date,s=t.getTime()-e.getTime(),a=Math.ceil(s/864e5);return!(a<=-3&&"E"==this.user.role)},filtered_other_staffs(){return this.other.staffs.filter(t=>t.st_id!=this.dsl_list.st_id)},startDate(){const t=new Date,e=t.getFullYear(),s=t.getMonth();return new Date(e,s,2).toISOString().split("T")[0]},endDate(){const t=new Date,e=t.getFullYear(),s=t.getMonth();return new Date(e,s+1,1).toISOString().split("T")[0]},isFriday(){const t=new Date(this.dsl_list.work_date);return 5==t.getDay()}}},K=G,q=(s("c836"),Object(c["a"])(K,R,U,!1,null,"18007d56",null)),V=q.exports;u()(q,{VCheckbox:H["a"]});var J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-6 col-xl-6"},[s("div",{staticClass:"card shadow-lg o-hidden border-0 my-5 animate__animated animate__fadeInDown"},[s("div",{staticClass:"card-body p-0"},[s("div",{staticClass:"p-5"},[t._m(0),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-user",attrs:{type:"text",id:"exampleInputEmail",placeholder:"Enter Phone Number...",name:"email"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-user",attrs:{type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-success btn-block text-white btn-user",attrs:{id:"btn_login",disabled:0==t.username.length||t.password.length<6},on:{click:function(e){return t.login()}}},[t._v("Login")]),s("hr"),t.calculateExpireDate<=14?s("div",{class:"mt-8 alert alert-"+(t.calculateExpireDate>5?"warning":"danger")+" text-center"},[s("i",{staticClass:"fa fa-exclamation-circle mx-2"}),t._v(" Warning: The System will Expires within "+t._s(t.calculateExpireDate)+" Days ")]):t._e()])])])])])])},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h4",{staticClass:"text-dark mb-4"},[t._v(" Ideal Power Company ")])])}],Z={name:"Login",data(){return{username:"",password:"",date:"2024-11-19"}},beforeCreate(){this.$http.post("/isLogged").then(()=>window.location.href="/")},methods:{login(){document.getElementById("btn_login").setAttribute("disabled","disabled"),this.$http.post("/login",{username:this.username,password:this.password}).then(({data:t})=>{1==t&&(window.location.href="/")}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn_login").removeAttribute("disabled")})}},computed:{calculateExpireDate(){let t=new Date(this.date),e=new Date;const s=t.getTime()-e.getTime();let a=Math.ceil(s/864e5);return a}}},X=Z,tt=Object(c["a"])(X,J,W,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"alert alert-danger text-center m-4"},[s("h1",[t._v(" Error 404! This page not found ")]),s("hr"),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v(" Home Page "),s("i",{staticClass:"fa fa-home"})])],1)])},at=[],it={},nt=Object(c["a"])(it,st,at,!1,null,null,null),lt=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.enginnerslanguage[t.language].enginners_page)+" ")]),s("hr"),s("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[s("div",{staticClass:"mb-2 p-1 no-print"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control ",attrs:{type:"text",placeholder:t.enginnerslanguage[t.language].search+"..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),s("button",{staticClass:"btn btn-success mb-2 mx-1 no-print",on:{click:function(e){return t.get_actived()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_actived)+" ")]),s("button",{staticClass:"btn btn-danger mb-2 mx-1 no-print",on:{click:function(e){return t.get_deactived()}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].btn_deactived)+" ")]),t._m(0),s("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",on:{click:function(e){return t.refresh()}}},[s("i",{staticClass:"fa fa-redo"})]),s("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[s("thead",[s("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].ID)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].first_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].last_name)+" ")]),s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].job_title)+" ")]),s("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 1 ")]),s("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].phone)+" 2 ")]),s("th",{staticStyle:{width:"14%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].registration_date)+" ")]),s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.enginnerslanguage[t.language].status)+" ")]),s("th",{staticClass:"no-print"},[t._v(" "+t._s(t.enginnerslanguage[t.language].actions)+" ")])]),s("tbody",t._l(t.filtered_engineers,(function(e){return s("tr",{key:e.en_id},[s("td",[t._v(" "+t._s(e.en_id)+" ")]),s("td",[t._v(" "+t._s(e.first_name)+" ")]),s("td",[t._v(" "+t._s(e.last_name)+" ")]),s("td",[t._v(" "+t._s(e.job_title)+" ")]),s("td",[t._v(" "+t._s(e.phone1)+" ")]),s("td",[t._v(" "+t._s(e.phone2)+" ")]),s("td",[t._v(" "+t._s(t._f("date_filter")(e.reg_date))+" ")]),s("td",{class:{"text-success":1==e.active_status,"text-danger":0==e.active_status}},[t._v(" "+t._s(t._f("status_filter")(e.active_status,t.language))+" ")]),s("td",{staticClass:"no-print"},[s("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#mdl_staff"},on:{click:function(s){t.en_id=e.en_id}}},[t._v(" "+t._s(t.enginnerslanguage[t.language].see_staff)+" ")])])])})),0)])])])],1)]),s("div",{staticClass:"modal animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content text-dark"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),s("h5",{staticClass:"mt-2 multi-language"},[t._v(" "+t._s(t.enginnerslanguage[t.language].staffs)+" ")])]),s("div",{staticClass:"modal-body"},[s("table",{staticClass:"table table-bordered table-striped text-center"},[s("thead",[s("th",[t._v(" "+t._s(t.enginnerslanguage[t.language].staff)+" ")])]),s("tbody",t._l(t.filtered_staffs,(function(e){return s("tr",{key:e.st_id},[s("td",[t._v(" "+t._s(e.staff_name)+" ")])])})),0)])])])])])],1)},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-primary mb-2 mx-1 no-print",attrs:{onclick:"window.print()"}},[t._v(" Print "),s("i",{staticClass:"fa fa-print"})])}],dt={name:"staffReport",data(){return{engineers:[],search:"",staffs:[],en_id:null,enginnerslanguage:S,language:"English"}},beforeCreate(){Object(w["a"])("engineerReport")},created(){this.$http.post("/engineer/getEngineerReport").then(({data:t})=>{this.engineers=t}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t})},mounted(){D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{get_actived(){this.$http.post("/engineer/getActived").then(({data:t})=>{this.engineers=t})},get_deactived(){this.$http.post("/engineer/getDeactived").then(({data:t})=>{this.engineers=t})},refresh(){this.$http.post("/engineer/getEngineerReport").then(({data:t})=>{this.engineers=t})}},computed:{filtered_engineers(){return this.engineers.filter(t=>t.en_id==this.search||t.first_name.match(this.search)||t.last_name.match(this.search)||t.job_title.match(this.search)||t.phone1.match(this.search)||t.phone2.match(this.search)||t.reg_date.match(this.search))},filtered_staffs(){return this.staffs.filter(t=>t.en_id==this.en_id)}},filters:{status_filter(t,e){return[S[e].deactive,S[e].active][t]},date_filter(t){var e=new Date(t);return e.toISOString().split("T")[0]}}},ct=dt,_t=(s("2770"),Object(c["a"])(ct,ot,rt,!1,null,"3ef6a75c",null)),ut=_t.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("h3",{staticClass:"text-dark "},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_employee_list)+" "+t._s(t.month+"/"+t.year)+" ")])]),s("hr"),s("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[s("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].month)+" : ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),s("option",{attrs:{value:"2"}},[t._v("2")]),s("option",{attrs:{value:"3"}},[t._v("3")]),s("option",{attrs:{value:"4"}},[t._v("4")]),s("option",{attrs:{value:"5"}},[t._v("5")]),s("option",{attrs:{value:"6"}},[t._v("6")]),s("option",{attrs:{value:"7"}},[t._v("7")]),s("option",{attrs:{value:"8"}},[t._v("8")]),s("option",{attrs:{value:"9"}},[t._v("9")]),s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"11"}},[t._v("11")]),s("option",{attrs:{value:"12"}},[t._v("12")])]),s("label",{staticClass:"col-sm-1 mt-1 no-print"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].year)+" : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),s("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].search)+" "),s("i",{staticClass:"fa fa-search"})]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.search_staff,expression:"search_staff"}],staticClass:"form-control col-sm-2 float-left no-print",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.search_staff=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return s("option",{key:e.st_id,domProps:{value:e.staff_name}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),t._l(t.filtered_staffs,(function(e){return s("div",{key:e.st_id,staticClass:"col-xl-12 col-md-12 col-sm-12"},[s("label",{staticClass:"w-100 multi-language my-3"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].staff)+" : "+t._s(e.staff_name)+" ")]),s("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[s("thead",[s("th",{staticStyle:{width:"7%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].id)+" ")]),s("th",{staticStyle:{width:"25%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].name)+" ")]),s("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_fine)+" ")]),s("th",{staticStyle:{width:"18%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_overtime)+" ")]),s("th",{staticStyle:{width:"18%"}},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].gived_amount)+" ")])]),s("tbody",t._l(t.employees.filter((function(t){return t.staff_name==e.staff_name})),(function(e){return s("tr",{key:e.emp_id},[s("td",[t._v(" "+t._s(e.emp_id)+" ")]),s("td",[t._v(" "+t._s(e.full_name)+" ")]),s("td",[t._v(" "+t._s(t._f("fine_filter")(e.total_fine))+" "),s("span",[t._v(" IQD ")])]),s("td",[t._v(" "+t._s(t._f("money_filter")(e.total_overtime))+" "),"Monthly"==e.salary_type?s("span",[t._v(" $ ")]):s("span",[t._v(" IQD ")])]),s("td",[t._v(" "+t._s(t._f("money_filter")(e.gived_salary))+" "),"Monthly"==e.salary_type?s("span",[t._v(" $ ")]):s("span",[t._v(" IQD ")])])])})),0),s("caption",{staticClass:"alert alert-primary text-center"},[t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_dollar)+" : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dollar:0}).total_gived_dollar))+" $ "),s("hr"),t._v(" "+t._s(t.givedSalaryLanguage[t.language].total_dinar)+" : "+t._s(t._f("money_filter")((t.gived_salary_staffs.filter((function(t){return t.staff_name==e.staff_name}))[0]||{total_gived_dinar:0}).total_gived_dinar))+" IQD ")])]),s("hr")])}))],2)])],1)])],1)},pt=[],gt={Kurdish:{gived_employee_list:"لـیـستی مووچەی وەرگیراوی کارمەندان بۆ مانگی",month:"مـانـگ",year:"سـاڵ",search:"گـەڕان",id:"کـۆد",name:"نـاو",total_fine:"کۆی بڕی سەرپێچی",total_overtime:"کۆی بڕی کاتی زیادە",gived_amount:"بڕی مووچەی وەرگیراو",total_dollar:"کۆی بڕی دۆلار",total_dinar:"کۆی بڕی دینار",staff:"نـاوی سـتاف"},English:{gived_employee_list:"Employee gived salary list for month",month:"Month",year:"Year",search:"Search",id:"ID",name:"Name",total_fine:"Total fine",total_overtime:"Total overtime",gived_amount:"Gived amount",total_dollar:"Total dollar",total_dinar:"Total dinar",staff:"Staff"},Arabic:{gived_employee_list:"قائمة الرواتب التي يتقاضاها الموظفون عن الشهر",month:"شـهـر",year:"عـام",search:"بـحـث",id:"رقـم",name:"اسـم",total_fine:"المبلغ الإجمالي غرامة",total_overtime:"إجمالي الوقت الإضافي",gived_amount:"مبلغ الراتب المستلم",total_dollar:"المبلغ الإجمالي بالدولار",total_dinar:"المبلغ الإجمالي بالدينار",staff:"اسم العاملین"}},ft={name:"givedSalaryReport",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),employees:[],staffs:[],gived_salary_staffs:[],search_staff:"",givedSalaryLanguage:gt,language:"English"}},beforeCreate(){Object(w["a"])("givedSalaryReport")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t})},mounted(){this.search(),D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/gived_salary/getGivedSalary/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t.employees,this.gived_salary_staffs=t.gived_salary_staffs})}},computed:{filtered_staffs(){return""==this.search_staff?this.staffs:this.staffs.filter(t=>t.staff_name==this.search_staff)}},filters:{money_filter(t){var e=[],s="";t=null==t?"":t.toString(),t.includes(".")?(s=t.substring(t.indexOf(".")),e=t.substring(0,t.indexOf(".")).split("").reverse()):e=t.split("").reverse();var a=[];for(let n=0;n<e.length;n++)a.unshift(e[n]),(n+1)%3==0&&a.unshift(",");".000"==s&&(s="");var i=a.join("")+s;return","==i.charAt(0)?i.slice(1):i},fine_filter(t){return"0.00"==t?0:t}},watch:{month(){this.search()},year(){this.search()}}},ht=ft,vt=(s("7e2b3"),Object(c["a"])(ht,mt,pt,!1,null,"70ee8686",null)),yt=vt.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft no-print",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid text-dark"},[s("h3",{staticClass:"text-dark multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].employees_data)+" "+t._s(t.month+"/"+t.year)+" ")]),s("hr"),s("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[s("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].month)+" : ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-sm-1 no-print mb-1",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),s("option",{attrs:{value:"2"}},[t._v("2")]),s("option",{attrs:{value:"3"}},[t._v("3")]),s("option",{attrs:{value:"4"}},[t._v("4")]),s("option",{attrs:{value:"5"}},[t._v("5")]),s("option",{attrs:{value:"6"}},[t._v("6")]),s("option",{attrs:{value:"7"}},[t._v("7")]),s("option",{attrs:{value:"8"}},[t._v("8")]),s("option",{attrs:{value:"9"}},[t._v("9")]),s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"11"}},[t._v("11")]),s("option",{attrs:{value:"12"}},[t._v("12")])]),s("label",{staticClass:"col-sm-1 mt-1 no-print mb-1"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].year)+" : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-sm-1 no-print mb-1",attrs:{type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),s("button",{staticClass:"btn btn-success mx-3 no-print",on:{click:function(e){return t.search()}}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].search)+" "),s("i",{staticClass:"fa fa-search"})])]),s("div",{staticClass:"row ",staticStyle:{"overflow-x":"auto"}},[s("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[s("label",{staticClass:"float-right my-3 alert alert-success w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].overtime)+" : ")]),s("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[s("thead",[s("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),s("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),s("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_overtime)+" ")])]),s("tbody",t._l(t.top_overtime,(function(e){return s("tr",{key:e.emp_id},[s("td",[t._v(" "+t._s(e.emp_id)+" ")]),s("td",[t._v(" "+t._s(e.full_name)+" ")]),s("td",[t._v(" "+t._s(e.total_o)+" ")])])})),0)])]),s("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[s("label",{staticClass:"float-right my-3 alert alert-danger w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].absent)+" : ")]),s("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[s("thead",[s("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),s("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),s("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_absent)+" ")])]),s("tbody",t._l(t.top_absent,(function(e){return s("tr",{key:e.emp_id},[s("td",[t._v(" "+t._s(e.emp_id)+" ")]),s("td",[t._v(" "+t._s(e.full_name)+" ")]),s("td",[t._v(" "+t._s(e.total_apsent)+" ")])])})),0)])]),s("div",{staticClass:"col-xl-6 col-md-12 col-sm-12 float-right"},[s("label",{staticClass:"float-right my-3 alert alert-primary w-100 multi-language"},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].fine)+" : ")]),s("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-2"},[s("thead",[s("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].id)+" ")]),s("th",{staticStyle:{width:"50%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].name)+" ")]),s("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.topEmployeeLanguage[t.language].amount_fine)+" (IQD) ")])]),s("tbody",t._l(t.top_fine,(function(e){return s("tr",{key:e.emp_id},[s("td",[t._v(" "+t._s(e.emp_id)+" ")]),s("td",[t._v(" "+t._s(e.full_name)+" ")]),s("td",[t._v(" "+t._s(e.total_f)+" ")])])})),0)])])])])],1)])],1)},Ct=[],wt={Kurdish:{employees_data:"داتای کارمەندان بۆ : ( غیابات - کاتی زیادە - سەرپێچی ) لە مانگی",month:"مانگ",year:"سـاڵ",search:"گـەڕان",overtime:"کاتی زیادە",absent:"ئامادە نەبوون",fine:"بڕی سەرپێچی",id:"کۆد",name:"نـاو",amount_overtime:"کاتی زیادە",amount_absent:"ڕۆژی نەهاتوو",amount_fine:"سەرپێچی"},English:{employees_data:"Employee's data for: (Absents, Overtime, Fine) in month",month:"Month",year:"Year",search:"Search",overtime:"Overtime",absent:"Absent",fine:"Fine",id:"ID",name:"Name",amount_overtime:"Overtime",amount_absent:"Absent days",amount_fine:"Fine"},Arabic:{employees_data:"بيانات الموظف عن: (الغياب - العمل الإضافي - المخالفة) شهرياً",month:"شـهر",year:"عـام",search:"بـحـث",overtime:"وقت إضافي",absent:"غیابات",fine:"مقدار الغرامة",id:"رقـم",name:"اسـم",amount_overtime:"وقت إضافي",amount_absent:"یوم الغیاب",amount_fine:"الغرامة"}},xt={name:"topEmployees",data(){return{month:(new Date).getMonth(),year:(new Date).getFullYear(),top_overtime:[],top_absent:[],top_fine:[],topEmployeeLanguage:wt,language:"English"}},beforeCreate(){Object(w["a"])("topEmployeeReport")},created(){this.search()},mounted(){D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(k()(".multi-language").addClass("rtl"),k()("#wrapper").attr("dir","rtl")):(k()(".multi-language").removeClass("rtl"),k()("#wrapper").attr("dir","ltr"))})},methods:{search(){this.$http.post("/employee/topOvertime/"+this.month+"/"+this.year).then(({data:t})=>{this.top_overtime=t.top_overtime,this.top_absent=t.top_absent,this.top_fine=t.top_fine})}},filters:{money_filter(t){var e=t.toString().split("").reverse(),s=[];for(let i=0;i<e.length;i++)s.unshift(e[i]),(i+1)%3==0&&s.unshift(",");var a=s.join("");return","==a.charAt(0)?a.slice(1):a},fine_filter(t){return"0.00"==t?0:t}},watch:{year(){this.search()},month(){this.search()}}},At=xt,kt=(s("c1e4"),Object(c["a"])(At,bt,Ct,!1,null,"e293f7c6",null)),St=kt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[t._m(0),s("hr"),s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"modal","data-target":"#mdlNotification"},on:{click:function(e){return t.clearSingleNotification()}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" Add Notification ")])]),s("v-data-table",{attrs:{"items-per-page":20,"footer-props":{"items-per-page-options":[15,20,25,30]},headers:t.headers,items:t.notifications},scopedSlots:t._u([{key:"item.display_type",fn:function(e){var s=e.item;return[t._v(" "+t._s(t._f("display_type_filter")(s.display_type))+" ")]}},{key:"item.date_from",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.date_from?new Date(s.date_from).toISOString().split("T")[0]:"")+" ")]}},{key:"item.date_to",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.date_to?new Date(s.date_to).toISOString().split("T")[0]:"")+" ")]}},{key:"item.color",fn:function(t){var e=t.item;return[s("i",{staticClass:"fas fa-circle fa-2x",style:"color: "+e.color})]}},{key:"item.show_notification",fn:function(e){var a=e.item;return["A"==t.user.type?s("v-switch",{staticStyle:{height:"30px",margin:"0"},attrs:{"true-value":"true","false-value":"false",dense:"",inset:""},on:{change:function(e){return t.changeShowNotification(a.notification_id,a.show_notification)}},model:{value:a.show_notification,callback:function(e){t.$set(a,"show_notification",e)},expression:"item.show_notification"}}):t._e()]}},{key:"item.actions",fn:function(e){var a=e.item;return["A"==t.user.type?[s("v-btn",{attrs:{icon:"",color:"blue","data-toggle":"modal","data-target":"#mdlNotification"},on:{click:function(e){return t.getNotification(a.notification_id)}}},[s("v-icon",[t._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.deleteNotification(a.notification_id)}}},[s("v-icon",[t._v(" mdi-delete ")])],1)]:t._e()]}}],null,!0)})],1)],1)]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlNotification"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v("×")]),s("h5",{staticClass:"mt-2"},[t._v(" Notification "),t.single_notification.notification_id?s("button",{staticClass:"btn btn-warning ms-2",attrs:{disabled:t.loading_notification},on:{click:function(e){return t.updateNotification()}}},[s("v-icon",{attrs:{color:"white"}},[t._v(" mdi-content-save ")])],1):s("button",{staticClass:"btn btn-primary ms-2",attrs:{disabled:t.loading_notification},on:{click:function(e){return t.addNotification()}}},[s("v-icon",{attrs:{color:"white"}},[t._v(" mdi-plus ")])],1)])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Type: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.display_type,expression:"single_notification.display_type"}],staticClass:"form-control col-lg-11 col-xl-11 col-sm-12 ",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_notification,"display_type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"daily"}},[t._v(" Daily ")]),s("option",{attrs:{value:"multi_day"}},[t._v(" Multi Day ")]),s("option",{attrs:{value:"monthly"}},[t._v(" Monthly ")]),"A"==t.user.type?s("option",{attrs:{value:"active_employee"}},[t._v(" Active Employee ")]):t._e()])]),"daily"==t.single_notification.display_type?s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" From: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.date_from,expression:"single_notification.date_from"}],staticClass:"form-control col-lg-5 col-xl-5 col-sm-12 ",attrs:{type:"date"},domProps:{value:t.single_notification.date_from},on:{input:function(e){e.target.composing||t.$set(t.single_notification,"date_from",e.target.value)}}}),s("label",{staticClass:"col-1 mt-2"},[t._v(" To: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.date_to,expression:"single_notification.date_to"}],staticClass:"form-control col-lg-5 col-xl-5 col-sm-12 ",attrs:{type:"date"},domProps:{value:t.single_notification.date_to},on:{input:function(e){e.target.composing||t.$set(t.single_notification,"date_to",e.target.value)}}})]):t._e(),"multi_day"==t.single_notification.display_type?s("div",{staticClass:"row mb-3"},t._l(31,(function(e){return s("v-checkbox",{key:"d"+e,staticClass:"custom-checkbox-label",staticStyle:{width:"75px"},attrs:{label:e,value:e},model:{value:t.selected_days,callback:function(e){t.selected_days=e},expression:"selected_days"}})})),1):t._e(),"monthly"==t.single_notification.display_type?s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Day: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.day,expression:"single_notification.day"}],staticClass:"form-control col-lg-11 col-xl-11 col-sm-12 ",attrs:{type:"number"},domProps:{value:t.single_notification.day},on:{input:function(e){e.target.composing||t.$set(t.single_notification,"day",e.target.value)}}})]):t._e(),"active_employee"==t.single_notification.display_type?s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Staff: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"form-control col-lg-5 col-xl-5 col-sm-12 ",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return s("option",{key:"st"+e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("label",{staticClass:"col-2 mt-2"},[t._v(" Employee: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.emp_id,expression:"single_notification.emp_id"}],staticClass:"form-control col-lg-4 col-xl-4 col-sm-12",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_notification,"emp_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return s("option",{key:"emp"+e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)]):t._e(),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Color: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.color,expression:"single_notification.color"}],staticClass:" col-lg-2 col-xl-2 col-sm-12 mt-1 ",attrs:{type:"color"},domProps:{value:t.single_notification.color},on:{input:function(e){e.target.composing||t.$set(t.single_notification,"color",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Text: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_notification.text,expression:"single_notification.text"}],staticClass:"form-control col-lg-11 col-xl-11 mt-1 col-sm-12",attrs:{dir:t.isEnglishText(t.single_notification.text)?"ltr":"rtl"},domProps:{value:t.single_notification.text},on:{input:function(e){e.target.composing||t.$set(t.single_notification,"text",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-1 mt-2"},[t._v(" Users: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],staticClass:"form-control col-lg-5 col-xl-5 col-sm-12 ",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.user_id=e.target.multiple?s:s[0]},t.addUser]}},[s("option",{attrs:{value:""}}),s("option",{attrs:{value:"all_users"}},[t._v("All")]),t._l(t.users,(function(e){return s("option",{key:"user"+e.user_id,domProps:{value:e.user_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2),"A"==t.user.type||"K"==t.user.type?s("label",{staticClass:"col-2 mt-2"},[t._v(" Special: ")]):t._e(),"A"==t.user.type||"K"==t.user.type?s("select",{directives:[{name:"model",rawName:"v-model",value:t.user_id_eng,expression:"user_id_eng"}],staticClass:"form-control col-lg-4 col-xl-4 col-sm-12 ",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.user_id_eng=e.target.multiple?s:s[0]},t.addUser]}},[s("option",{attrs:{value:""}}),s("option",{attrs:{value:"all_engineers"}},[t._v("All")]),t._l(t.engineers,(function(e){return s("option",{key:"usere"+e.user_id,domProps:{value:e.user_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2):t._e()]),s("div",{staticClass:"row mb-3"},t._l(t.selected_users,(function(e){return s("v-chip",{key:"su"+e.user_id,staticClass:"me-3 mt-2"},[t._v(" "+t._s(e.full_name)+" "),s("span",{staticClass:"ms-2",staticStyle:{"font-size":"10pt",color:"red",cursor:"pointer"},on:{click:function(s){t.selected_users=t.selected_users.filter((function(t){return t.user_id!=e.user_id}))}}},[s("i",{staticClass:"fas fa-trash"})])])})),1)])])])])])],1)},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("h3",{staticClass:"text-dark mb-0"},[t._v(" Notifications ")])])}],jt={data(){return{user:{user_id:null,username:"",type:""},notifications:[],single_notification:{display_type:"daily",date_from:null,date_to:null,day:null,emp_id:null,color:null,text:""},st_id:null,user_id:null,user_id_eng:null,staffs:[],employees:[],users:[],engineers:[],selected_users:[],headers:[{text:"Type",align:"start",sortable:!1,value:"display_type"},{text:"Date From",value:"date_from"},{text:"Date To",value:"date_to"},{text:"Day",value:"day"},{text:"Days",value:"days"},{text:"Employee",value:"emp_name"},{text:"Color",value:"color",sortable:!1},{text:"Text",value:"text"},{text:"Username",value:"username"},{text:"Show",value:"show_notification",sortable:!1},{text:"Actions",value:"actions",align:"center",sortable:!1}],loading_notification:!1,selected_days:[]}},beforeCreate(){Object(w["a"])("notifications")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.type=t.type,this.user.user_id=t.user_id,"A"==this.user.type?(this.$http.post("/notifications/getData").then(({data:t})=>{this.notifications=t}),this.$http.post("/user/getActived").then(({data:t})=>{this.users=t.users,this.engineers=t.engineers})):(this.$http.post("/notifications/getDataByUser/"+this.user.user_id).then(({data:t})=>{this.notifications=t}),this.$http.post("/user/getSelf/"+this.user.user_id).then(({data:t})=>{this.users=t}))}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})},methods:{addUser(t){if("all_engineers"==t.target.value){const t=this.engineers.filter(t=>!this.selected_users.find(e=>e.user_id==t.user_id));return this.selected_users.push(...t),this.user_id=null,void(this.user_id_eng=null)}if("all_users"==t.target.value){const t=this.users.filter(t=>!this.selected_users.find(e=>e.user_id==t.user_id));return this.selected_users.push(...t),this.user_id=null,void(this.user_id_eng=null)}const e=this.selected_users.find(e=>e.user_id==t.target.value);if(e)return this.user_id=null,void(this.user_id_eng=null);const s=this.users.find(e=>e.user_id==t.target.value)||this.engineers.find(e=>e.user_id==t.target.value);this.selected_users.push(s),this.user_id=null,this.user_id_eng=null},clearSingleNotification(){this.single_notification={display_type:"daily",date_from:null,date_to:null,day:null,emp_id:null,color:null,text:""},this.selected_users=[],this.selected_days=[],this.st_id=null},addNotification(){if(0==this.selected_users.length)return void alert("Please select users");if("multi_day"==this.single_notification.display_type&&0==this.selected_days.length)return void alert("Please select days");this.loading_notification=!0;const t={display_type:this.single_notification.display_type,date_from:"daily"==this.single_notification.display_type?this.single_notification.date_from:null,date_to:"daily"==this.single_notification.display_type?this.single_notification.date_to:null,day:"monthly"==this.single_notification.display_type?this.single_notification.day:null,emp_id:"active_employee"==this.single_notification.display_type?this.single_notification.emp_id:null,days:"multi_day"==this.single_notification.display_type?this.selected_days.join(","):null,color:this.single_notification.color,text:this.single_notification.text,username:this.user.username,user_id:this.user.user_id};this.$http.post("/notifications/addNotification",{notification:t,selected_users:this.selected_users}).then(({data:t})=>{this.notifications.unshift(t.new_data),this.single_notification={display_type:"daily",date_from:null,date_to:null,day:null,emp_id:null,color:null,text:""},this.selected_users=[],this.selected_days=[],this.loading_notification=!1})},getNotification(t){this.$http.post("/notifications/getByID/"+t).then(({data:t})=>{let e=t.notification;this.st_id=e.st_id,this.single_notification={notification_id:e.notification_id,display_type:e.display_type,day:e.day,emp_id:e.emp_id,color:e.color,text:e.text},"multi_day"==e.display_type?this.selected_days=e.days.split(",").map(t=>parseInt(t)):this.selected_days=[],e.date_from?this.single_notification.date_from=new Date(e.date_from).toISOString().split("T")[0]:this.single_notification.date_from=null,e.date_to?this.single_notification.date_to=new Date(e.date_to).toISOString().split("T")[0]:this.single_notification.date_to=null,this.selected_users=t.users})},updateNotification(){if(0==this.selected_users.length)return void alert("Please select users");if("multi_day"==this.single_notification.display_type&&0==this.selected_days.length)return void alert("Please select days");this.loading_notification=!0;const t={display_type:this.single_notification.display_type,date_from:"daily"==this.single_notification.display_type?this.single_notification.date_from:null,date_to:"daily"==this.single_notification.display_type?this.single_notification.date_to:null,day:"monthly"==this.single_notification.display_type?this.single_notification.day:null,emp_id:"active_employee"==this.single_notification.display_type?this.single_notification.emp_id:null,days:"multi_day"==this.single_notification.display_type?this.selected_days.join(","):null,color:this.single_notification.color,text:this.single_notification.text};this.$http.patch("/notifications/updateNotification/"+this.single_notification.notification_id,{notification:t,selected_users:this.selected_users}).then(()=>{let e=this.notifications.findIndex(t=>t.notification_id==this.single_notification.notification_id);this.notifications[e].display_type=t.display_type,this.notifications[e].date_from=t.date_from,this.notifications[e].date_to=t.date_to,this.notifications[e].day=t.day,this.notifications[e].days=t.days,this.notifications[e].emp_id=t.emp_id,this.notifications[e].color=t.color,this.notifications[e].text=t.text,this.$alert("Notification updated successfully","Success","success")})},changeShowNotification(t,e){this.$http.patch("/notifications/changeShow/"+t,{show_notification:e}).then(()=>{})},deleteNotification(t){this.$confirm("Do you want to delete this notification ?","Delete Notification","question").then(()=>{this.$http.delete("/notifications/deleteNotification/"+t).then(()=>{this.notifications=this.notifications.filter(e=>e.notification_id!=t)})})},isEnglishText(t){if(!t)return!0;var e=/^[a-zA-Z0-9\s!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]+$/;return e.test(t)}},watch:{st_id(){this.$http.post("/employee/getDeactivedEmployeeBystaff/"+this.st_id).then(({data:t})=>{this.employees=t.sort((t,e)=>t.sort_code-e.sort_code)})}},filters:{display_type_filter(t){return{daily:"Daily",multi_day:"Multi Day",monthly:"Monthly",active_employee:"Active Employee"}[t]}}},$t=jt,Lt=s("8336"),Bt=s("cc20"),It=s("8fea"),Nt=s("132d"),Pt=s("b73d"),Mt=Object(c["a"])($t,Dt,Et,!1,null,null,null),Ot=Mt.exports;u()(Mt,{VBtn:Lt["a"],VCheckbox:H["a"],VChip:Bt["a"],VDataTable:It["a"],VIcon:Nt["a"],VSwitch:Pt["a"]});var Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn",{staticClass:"no-print"}),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id,expression:"st_id"}],staticClass:"col-sm-4 form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.st_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return e.special_staff==t.showSpecialStaffs})),(function(e){return s("option",{key:"s"+e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("span",{staticClass:"col-1"},[s("v-checkbox",{staticClass:"mt-0 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(e){t.showSpecialStaffs=e},expression:"showSpecialStaffs"}})],1),s("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_expense"},on:{click:function(e){return t.clear_expense()}}},[t._v(" Add Expense "),s("i",{staticClass:"fa fa-plus"})]),s("a",{staticClass:"btn btn-primary text-white col-xl-2 col-md-5 mx-2 mb-2",attrs:{href:"/staff_expenses_report"}},[t._v(" Report ")]),s("button",{staticClass:"btn btn-info col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_projects"},on:{click:function(e){return t.clear_project()}}},[t._v(" Projects ")])])]),s("hr",{staticClass:"my-0"}),s("v-data-table",{staticClass:"mx-2 mt-1",attrs:{headers:t.headers,items:t.rows},scopedSlots:t._u([{key:"item.price",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.price.toLocaleString())+" ")]}},{key:"item.total",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.total.toLocaleString())+" ")]}},{key:"item.expense_date",fn:function(e){var s=e.item;return[t._v(" "+t._s(new Date(s.expense_date).toISOString().split("T")[0])+" ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-btn",{attrs:{icon:"",color:"primary","data-toggle":"modal","data-target":"#mdl_expense"},on:{click:function(e){return t.get_single_expense(a)}}},[s("v-icon",[t._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.delete_expense(a.staff_expense_id)}}},[s("v-icon",[t._v(" mdi-delete ")])],1)]}}],null,!0)})],1)]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expense"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_expense()}}},[t._v("×")]),s("h5",{staticClass:"mt-2"},[t._v(" Expense ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Staff: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.st_id,expression:"single_expense.st_id"}],staticClass:"form-control col-xl-11 mx-0",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_expense,"st_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return e.special_staff==t.showSpecialStaffs})),(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2)]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Date: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.expense_date,expression:"single_expense.expense_date"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"date"},domProps:{value:t.single_expense.expense_date},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"expense_date",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0 ms-n1"},[t._v(" Expense: ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.expense_text,expression:"single_expense.expense_text"}],staticClass:"form-control col-xl-11 ms-1 mx-0",domProps:{value:t.single_expense.expense_text},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"expense_text",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Quantity: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.qty,expression:"single_expense.qty"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"number"},domProps:{value:t.single_expense.qty},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"qty",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Unit: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.unit,expression:"single_expense.unit"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"text"},domProps:{value:t.single_expense.unit},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"unit",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Price: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.price,expression:"single_expense.price"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"number"},domProps:{value:t.single_expense.price},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"price",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Project: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.project_id,expression:"single_expense.project_id"}],staticClass:"form-control col-xl-11 mx-0",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.single_expense,"project_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),t._l(t.projects,(function(e){return s("option",{key:e.project_id,domProps:{value:e.project_id}},[t._v(" "+t._s(e.project_name)+" ")])}))],2)]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[t._v(" Location: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_expense.location,expression:"single_expense.location"}],staticClass:"form-control col-xl-11 mx-0",attrs:{type:"text"},domProps:{value:t.single_expense.location},on:{input:function(e){e.target.composing||t.$set(t.single_expense,"location",e.target.value)}}})]),s("div",{staticClass:"row mb-3"},[t.single_expense.staff_expense_id?s("button",{staticClass:"btn btn-warning col-xl-12 mx-0",attrs:{id:"btn-update"},on:{click:function(e){return t.update_expense()}}},[t._v(" Update "),s("i",{staticClass:"fa fa-save"})]):s("button",{staticClass:"btn btn-success col-xl-12 mx-0",attrs:{id:"btn-add"},on:{click:function(e){return t.add_expense()}}},[t._v(" Add Expense "),s("i",{staticClass:"fa fa-plus"})])])])])])])]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_projects"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clear_project()}}},[t._v(" × ")]),s("h5",{staticClass:"mt-2 jobs"},[t._v(" Project ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-3 mt-3"},[t._v(" ID: ")]),s("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_project.project_id)+" ")])]),s("div",{staticClass:"row mb-2"},[s("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Project Name: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.single_project.project_name,expression:"single_project.project_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text"},domProps:{value:t.single_project.project_name},on:{input:function(e){e.target.composing||t.$set(t.single_project,"project_name",e.target.value)}}})]),s("hr"),s("div",{staticClass:"row mb-2"},[s("div",{class:{"col-sm-6":null!=t.single_project.project_id,"col-sm-12":null==t.single_project.project_id}},[s("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){return t.add_project()}}},[t._v(" Add "),s("i",{staticClass:"fa fa-plus"})])]),null!=t.single_project.project_id?s("div",{staticClass:"col-sm-6"},[s("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_project"},on:{click:function(e){return t.update_project()}}},[t._v(" Save Changes "),s("i",{staticClass:"fa fa-save"})])]):t._e()]),s("hr"),s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project_search,expression:"project_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Search ..."},domProps:{value:t.project_search},on:{input:function(e){e.target.composing||(t.project_search=e.target.value)}}}),s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(0),s("tbody",t._l(t.filtered_projects,(function(e){return s("tr",{key:e.project_id},[s("td",[t._v(" "+t._s(e.project_id)+" ")]),s("td",[t._v(" "+t._s(e.project_name)+" ")]),s("td",[s("button",{staticClass:"btn btn-primary mx-1",on:{click:function(s){return t.get_project(e.project_id)}}},[s("i",{staticClass:"fa fa-edit"})]),s("button",{staticClass:"btn btn-danger mx-1",on:{click:function(s){return t.delete_project(e.project_id)}}},[s("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])])],1)},Ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"6%"}},[t._v(" ID ")]),s("th",{staticClass:"job_title"},[t._v(" Project Name ")]),s("th",{staticStyle:{width:"30%"}},[t._v(" Actions ")])])}];const Ft=["",null];var Qt={name:"staff_expenses",data(){return{st_id:null,single_expense:{staff_expense_id:null,expense_text:null,st_id:null,qty:0,unit:null,price:0,user:"",expense_date:(new Date).toISOString().split("T")[0],project_id:null,location:null},single_project:{project_id:null,project_name:""},staffs:[],rows:[],user:{username:"",role:"",en_id:null},headers:[{text:"Form",align:"start",sortable:!0,value:"form"},{text:"Expense",align:"start",sortable:!1,value:"expense_text"},{text:"Staff",align:"start",sortable:!1,value:"staff_name"},{text:"Quantity",align:"start",sortable:!1,value:"qty"},{text:"Unit",align:"start",sortable:!1,value:"unit"},{text:"Price",align:"start",sortable:!1,value:"price"},{text:"Total",align:"start",sortable:!1,value:"total"},{text:"Project",align:"start",sortable:!1,value:"project_name"},{text:"Location",align:"start",sortable:!1,value:"location"},{text:"Date",align:"start",sortable:!0,value:"expense_date"},{text:"User",align:"start",sortable:!1,value:"user"},{text:"Actions",align:"center",sortable:!1,value:"actions"}],showSpecialStaffs:"false",projects:[],project_search:""}},beforeCreate(){Object(w["a"])("salaryList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)}),this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.role=t.type,this.user.en_id=t.en_id||null}),this.getData()},computed:{filtered_projects(){return this.projects.filter(t=>t.project_id==this.project_search||t.project_name.match(this.project_search))}},mounted(){setTimeout(()=>{this.$http.post("/projects/getData").then(({data:t})=>{this.projects=t})},1e3)},methods:{clear_expense(){this.single_expense={staff_expense_id:null,expense_text:null,st_id:null,qty:0,unit:null,price:0,user:"",expense_date:(new Date).toISOString().split("T")[0],project_id:null,location:null}},get_single_expense(t){this.single_expense.staff_expense_id=t.staff_expense_id,this.single_expense.expense_text=t.expense_text,this.single_expense.st_id=t.st_id,this.single_expense.project_id=t.project_id,this.single_expense.location=t.location,this.single_expense.qty=t.qty,this.single_expense.unit=t.unit,this.single_expense.price=t.price,this.single_expense.expense_date=new Date(t.expense_date).toISOString().split("T")[0]},getData(){this.st_id?this.$http.get("/staff_expenses/getByStaff/"+this.st_id).then(({data:t})=>{this.rows=t}):this.$http.get("/staff_expenses/all").then(({data:t})=>{this.rows=t})},add_expense(){this.single_expense.user=this.user.username,document.getElementById("btn-add").setAttribute("disabled","disabled"),this.$http.post("/staff_expenses/create",this.single_expense).then(({data:t})=>{this.single_expense.st_id!=this.st_id&&null!=this.st_id||this.rows.unshift(t),this.$set(this.single_expense,"qty",0),this.$set(this.single_expense,"price",0),this.$set(this.single_expense,"unit",null),this.$set(this.single_expense,"location",null)}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled")})},update_expense(){this.single_expense.user=this.user.username,document.getElementById("btn-update").setAttribute("disabled","disabled"),this.$http.patch("/staff_expenses/update/"+this.single_expense.staff_expense_id,this.single_expense).then(()=>{this.$alert("Updated Successfully","Success","success");let t=this.rows.findIndex(t=>t.staff_expense_id==this.single_expense.staff_expense_id);this.rows[t].st_id=this.single_expense.st_id,this.rows[t].expense_text=this.single_expense.expense_text,this.rows[t].qty=this.single_expense.qty,this.rows[t].unit=this.single_expense.unit,this.rows[t].price=this.single_expense.price,this.rows[t].expense_date=new Date(this.single_expense.expense_date).toISOString().split("T")[0],this.rows[t].user=this.single_expense.user,this.rows[t].total=this.single_expense.qty*this.single_expense.price}).finally(()=>{document.getElementById("btn-update").removeAttribute("disabled")})},delete_expense(t){this.$confirm("Are you sure you want to delete this expense?","Delete","question").then(()=>{this.$http.delete("/staff_expenses/delete/"+t).then(()=>{this.$alert("Deleted Successfully","Success","success"),this.rows=this.rows.filter(e=>e.staff_expense_id!=t)})})},add_project(){Ft.includes(this.single_project.project_name)?this.$alert("Enter a project name","","warning"):this.$http.post("/projects/addProject",{project_name:this.single_project.project_name}).then(({data:t})=>{this.projects.push({project_id:t.project_id,project_name:this.single_project.project_name}),this.clear_project()}).catch(t=>{Object(x["a"])(t)})},clear_project(){this.single_project.project_id=null,this.single_project.project_name=""},get_project(t){const[e]=this.projects.filter(e=>e.project_id==t);this.single_project.project_id=e.project_id,this.single_project.project_name=e.project_name},delete_project(t){this.$confirm("Are you sure delete this project ?","","question").then(()=>{this.$http.delete("/projects/deleteProject/"+t).then(()=>{this.projects=this.projects.filter(e=>e.project_id!=t),this.clear_project()}).catch(t=>{Object(x["a"])(t)})})},update_project(){null==this.single_project.project_id?this.$alert("Select a project","","warning"):Ft.includes(this.single_project.project_name)?this.$alert("Enter a project name","","warning"):this.$confirm("Are you sure to save changes ?","","question").then(()=>{document.getElementById("btn_update_project").setAttribute("disabled","disabled"),this.$http.post("/projects/updateProject",{project_id:this.single_project.project_id,project_name:this.single_project.project_name}).then(()=>{let t=this.projects.findIndex(t=>t.project_id==this.single_project.project_id);this.projects[t].project_name=this.single_project.project_name,this.$alert("","Success","success"),this.clear_project()}).catch(t=>{Object(x["a"])(t)}).finally(()=>{document.getElementById("btn_update_project").removeAttribute("disabled")})})}},watch:{st_id(){this.getData()}}},Rt=Qt,Ut=Object(c["a"])(Rt,Tt,Ht,!1,null,null,null),Yt=Ut.exports;u()(Ut,{VBtn:Lt["a"],VCheckbox:H["a"],VDataTable:It["a"],VIcon:Nt["a"]});var zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn",{staticClass:"no-print"}),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),s("option",{attrs:{value:"2"}},[t._v("2")]),s("option",{attrs:{value:"3"}},[t._v("3")]),s("option",{attrs:{value:"4"}},[t._v("4")]),s("option",{attrs:{value:"5"}},[t._v("5")]),s("option",{attrs:{value:"6"}},[t._v("6")]),s("option",{attrs:{value:"7"}},[t._v("7")]),s("option",{attrs:{value:"8"}},[t._v("8")]),s("option",{attrs:{value:"9"}},[t._v("9")]),s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"11"}},[t._v("11")]),s("option",{attrs:{value:"12"}},[t._v("12")])]),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),t.isSaved?s("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Groups: ")]):t._e(),t.isSaved?s("select",{directives:[{name:"model",rawName:"v-model",value:t.group,expression:"group"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.group=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),s("option",{attrs:{value:"barzayakan"}},[t._v(" بەرزاییەکان ")]),s("option",{attrs:{value:"A"}},[t._v(" A ")]),s("option",{attrs:{value:"B"}},[t._v(" B ")]),s("option",{attrs:{value:"C"}},[t._v(" C ")]),s("option",{attrs:{value:"D"}},[t._v(" D ")]),s("option",{attrs:{value:"E"}},[t._v(" E ")])]):t._e(),s("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),s("i",{staticClass:"fa fa-search"})]),s("hr")]),s("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[s("label",{staticClass:"mt-2 col-xl-2 mb-1"},[t._v(" Price Barzayakan ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_barzayakan,expression:"price_barzayakan",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_barzayakan},on:{input:function(e){e.target.composing||(t.price_barzayakan=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price A ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_A,expression:"price_A",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_A},on:{input:function(e){e.target.composing||(t.price_A=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price B ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_B,expression:"price_B",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_B},on:{input:function(e){e.target.composing||(t.price_B=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price C ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_C,expression:"price_C",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_C},on:{input:function(e){e.target.composing||(t.price_C=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" Price D ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_D,expression:"price_D",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_D},on:{input:function(e){e.target.composing||(t.price_D=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"mt-2 col-xl-2 mb-1"},[t._v(" Price E ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price_E,expression:"price_E",modifiers:{number:!0}}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{disabled:t.isSaved,type:"number"},domProps:{value:t.price_E},on:{input:function(e){e.target.composing||(t.price_E=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t.group?t._e():[t.isSaved?s("button",{staticClass:"btn btn-danger col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-delete"},on:{click:function(e){return t.delete_list()}}},[t._v(" Delete "),s("i",{staticClass:"fa fa-trash"})]):s("button",{staticClass:"btn btn-primary col-xl-1 col-md-1 mx-2 mb-2",attrs:{id:"btn-add"},on:{click:function(e){return t.add_list()}}},[t._v(" Add "),s("i",{staticClass:"fa fa-plus"})])]],2),s("hr",{staticClass:"no-print"}),t._m(0),s("hr",{staticClass:"my-0"}),s("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[s("span",{staticClass:"float-start"},[t._v(" Food List For "+t._s(t.month)+"/"+t._s(t.year)+" ")]),t.staff_id?s("span",{staticClass:"float-end"},[t._v(" Food List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]):t._e()]),s("br"),s("div",{staticClass:"table-responsive mt-5"},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),s("tbody",[t._l(t.filtered_data,(function(e,a){return s("tr",{key:a},[s("td",[t._v(" "+t._s(e.staff_name)+" ")]),s("td",[t._v(" "+t._s(t._f("food_group_filter")(e.food_group))+" ")]),s("td",[t._v(" "+t._s(e.food_number)+" ")]),s("td",[t._v(" "+t._s(("barzayakan"==e.food_group?t.price_barzayakan:"A"==e.food_group?t.price_A:"B"==e.food_group?t.price_B:"C"==e.food_group?t.price_C:"D"==e.food_group?t.price_D:"E"==e.food_group?t.price_E:0).toLocaleString())+" ")]),s("td",[t._v(" "+t._s(("barzayakan"==e.food_group?e.food_number*t.price_barzayakan:"A"==e.food_group?e.food_number*t.price_A:"B"==e.food_group?e.food_number*t.price_B:"C"==e.food_group?e.food_number*t.price_C:"D"==e.food_group?e.food_number*t.price_D:"E"==e.food_group?e.food_number*t.price_E:0).toLocaleString())+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"4"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.filtered_data.reduce((function(e,s){return e+("barzayakan"==s.food_group?s.food_number*t.price_barzayakan:"A"==s.food_group?s.food_number*t.price_A:"B"==s.food_group?s.food_number*t.price_B:"C"==s.food_group?s.food_number*t.price_C:"D"==s.food_group?s.food_number*t.price_D:"E"==s.food_group?s.food_number*t.price_E:0)}),0).toLocaleString())+" ")])])],2)])])])],1)])],1)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:s("70f2")}}),a("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v(" Staff ")]),s("th",[t._v(" Food Group ")]),s("th",[t._v(" Food Numbers ")]),s("th",[t._v(" Price ")]),s("th",[t._v(" Total ")])])}],Kt={name:"FoodList",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),foodList:[],price_barzayakan:0,price_A:0,price_B:0,price_C:0,price_D:0,price_E:0,isSaved:!1,staffs:[],staff_id:null,group:null}},beforeCreate(){Object(w["a"])("foodList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{search(){this.$http.get("/daily_staff_list/getFoodList/"+this.month+"/"+this.year).then(({data:t})=>{this.foodList=t.data,this.isSaved=t.message,this.foodList.length>0&&(this.price_barzayakan=this.foodList.find(t=>"barzayakan"==t.food_group)?this.foodList.find(t=>"barzayakan"==t.food_group).price_barzayakan:0,this.price_A=this.foodList.find(t=>"A"==t.food_group)?this.foodList.find(t=>"A"==t.food_group).price_A:0,this.price_B=this.foodList.find(t=>"B"==t.food_group)?this.foodList.find(t=>"B"==t.food_group).price_B:0,this.price_C=this.foodList.find(t=>"C"==t.food_group)?this.foodList.find(t=>"C"==t.food_group).price_C:0,this.price_D=this.foodList.find(t=>"D"==t.food_group)?this.foodList.find(t=>"D"==t.food_group).price_D:0,this.price_E=this.foodList.find(t=>"E"==t.food_group)?this.foodList.find(t=>"E"==t.food_group).price_E:0)})},add_list(){if(0==this.foodList.length)return alert("No data to add");this.group=null;const t=confirm("Are you sure you want to add this list?");if(t){document.getElementById("btn-add").setAttribute("disabled","disabled");const t=this.foodList.map(t=>({dsl_id:t.dsl_id,food_group:t.food_group,food_number:t.food_number,price_barzayakan:this.price_barzayakan,price_A:this.price_A,price_B:this.price_B,price_C:this.price_C,price_D:this.price_D,price_E:this.price_E,month:this.month,year:this.year}));this.$http.post("/daily_staff_list/saveFoodList",{list:t}).then(()=>{alert("List added successfully"),document.getElementById("btn-add").removeAttribute("disabled"),this.foodList=[],this.isSaved=!1}).finally(()=>{document.getElementById("btn-add").removeAttribute("disabled")})}},delete_list(){if(0==this.foodList.length)return alert("No data to delete");this.group=null;const t=confirm("Are you sure you want to delete this list?");t&&(document.getElementById("btn-delete").setAttribute("disabled","disabled"),this.$http.delete("/daily_staff_list/deleteFoodList/"+this.month+"/"+this.year).then(()=>{alert("List deleted successfully"),document.getElementById("btn-delete").removeAttribute("disabled"),this.isSaved=!1}).finally(()=>{document.getElementById("btn-delete").removeAttribute("disabled")}))}},computed:{filtered_data(){return this.group?this.foodList.filter(t=>t.food_group==this.group):this.foodList}},watch:{month(){this.search()},year(){this.search()}},filters:{food_group_filter(t){return{A:"A",B:"B",C:"C",D:"D",E:"E",barzayakan:"بەرزاییەکان"}[t]}}},qt=Kt,Vt=(s("b9d6"),Object(c["a"])(qt,zt,Gt,!1,null,"44e9318b",null)),Jt=Vt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn",{staticClass:"no-print"}),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),s("option",{attrs:{value:"2"}},[t._v("2")]),s("option",{attrs:{value:"3"}},[t._v("3")]),s("option",{attrs:{value:"4"}},[t._v("4")]),s("option",{attrs:{value:"5"}},[t._v("5")]),s("option",{attrs:{value:"6"}},[t._v("6")]),s("option",{attrs:{value:"7"}},[t._v("7")]),s("option",{attrs:{value:"8"}},[t._v("8")]),s("option",{attrs:{value:"9"}},[t._v("9")]),s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"11"}},[t._v("11")]),s("option",{attrs:{value:"12"}},[t._v("12")])]),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),s("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs,(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),s("i",{staticClass:"fa fa-search"})]),s("hr")]),s("hr",{staticClass:"no-print"}),t._m(0),s("hr",{staticClass:"my-0"}),s("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[s("span",{staticClass:"float-start"},[t._v(" Food List For "+t._s(t.month)+"/"+t._s(t.year)+" ")]),t.staff_id?s("span",{staticClass:"float-end"},[t._v(" Food List for Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]):t._e()]),s("br"),s("div",{staticClass:"table-responsive mt-5"},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[t._m(1),s("tbody",t._l(t.list,(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.food_number)+" ")]),s("td",[t._v(" "+t._s(e.food_group)+" ")]),s("td",[t._v(" "+t._s(e.datetime_food?new Date(e.datetime_food).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_food?new Date(e.datetime_food).toLocaleString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)])])])],1)])],1)},Zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{height:"90px",width:"180px"},attrs:{src:s("70f2")}}),a("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"70%","font-size":"34px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v(" List ID ")]),s("th",[t._v(" Work Date ")]),s("th",[t._v(" Food Number ")]),s("th",[t._v(" Food Group ")]),s("th",[t._v(" Food Date ")])])}],Xt={name:"foodGroups",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staff_id:null,staffs:[],list:[]}},beforeCreate(){Object(w["a"])("salaryList")},created(){this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff)})},methods:{search(){this.month&&this.year&&this.staff_id?this.$http.get("/daily_staff_list/getFoodsByStaff/"+this.month+"/"+this.year+"/"+this.staff_id).then(({data:t})=>{this.list=t}):this.list=[]}},watch:{month(){this.search()},year(){this.search()},staff_id(){this.search()}}},te=Xt,ee=(s("188b"),Object(c["a"])(te,Wt,Zt,!1,null,"2903f412",null)),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"no-print animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn",{staticClass:"no-print"}),s("div",{staticClass:"container-fluid text-dark"},[s("div",{staticClass:"row px-1 py-3 mb-1 no-print"},[s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Month: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),s("option",{attrs:{value:"2"}},[t._v("2")]),s("option",{attrs:{value:"3"}},[t._v("3")]),s("option",{attrs:{value:"4"}},[t._v("4")]),s("option",{attrs:{value:"5"}},[t._v("5")]),s("option",{attrs:{value:"6"}},[t._v("6")]),s("option",{attrs:{value:"7"}},[t._v("7")]),s("option",{attrs:{value:"8"}},[t._v("8")]),s("option",{attrs:{value:"9"}},[t._v("9")]),s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"11"}},[t._v("11")]),s("option",{attrs:{value:"12"}},[t._v("12")])]),s("label",{staticClass:"mt-1 col-xl-1 mb-2"},[t._v(" Year: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control col-xl-1 col-md-4 mb-2",attrs:{type:"number",min:"2020"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),s("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Type: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),s("option",{attrs:{value:"fine"}},[t._v(" Fine ")]),s("option",{attrs:{value:"food"}},[t._v(" Food ")]),s("option",{attrs:{value:"transport"}},[t._v(" Transport ")]),s("option",{attrs:{value:"expense"}},[t._v(" Expense ")]),s("option",{attrs:{value:"loan"}},[t._v(" Loan ")]),s("option",{attrs:{value:"accomodation"}},[t._v(" Accomodation ")])]),s("button",{staticClass:"btn btn-success col-xl-2 col-md-4 mx-2 mb-2",on:{click:function(e){return t.search()}}},[t._v(" Search "),s("i",{staticClass:"fa fa-search"})]),s("hr")]),s("hr",{staticClass:"no-print"}),t._m(0),s("div",{staticClass:"collapse",attrs:{id:"staffs"}},[s("div",{staticClass:"row no-print"},[s("label",{staticClass:"col-sm-1 mt-1"},[t._v(" Staffs: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.staff_id,expression:"staff_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.staff_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.staffs.filter((function(e){return e.special_staff==t.showSpecialStaffs})),(function(e){return s("option",{key:e.st_id,domProps:{value:e.st_id}},[t._v(" "+t._s(e.staff_name)+" ")])}))],2),s("span",{staticClass:"col-1"},[s("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffs,callback:function(e){t.showSpecialStaffs=e},expression:"showSpecialStaffs"}})],1),s("label",{staticClass:"col-sm-1 mt-2"},[t._v(" Employee: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.emp_id,expression:"emp_id"}],staticClass:"form-control col-sm-3 mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.emp_id=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),t._l(t.employees,(function(e){return s("option",{key:e.emp_id,domProps:{value:e.emp_id}},[t._v(" "+t._s(e.full_name)+" ")])}))],2)])]),t.user.en_id?t._e():s("div",{staticClass:"row py-3 mb-1 no-print",attrs:{dir:"rtl"}},[s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" بەڕێوبەر ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.manager,expression:"manager"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.manager},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.manager=e.target.value)}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ب.دارایی ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.kargeri,expression:"kargeri"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.kargeri},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.kargeri=e.target.value)}}}),s("label",{staticClass:"mt-2 col-xl-1 mb-1"},[t._v(" ژمێریار ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.accountant,expression:"accountant"}],staticClass:"form-control col-xl-2 col-md-4 mb-2",attrs:{type:"text"},domProps:{value:t.accountant},on:{change:function(e){return t.changeNames()},input:function(e){e.target.composing||(t.accountant=e.target.value)}}})]),t._m(1),s("hr",{staticClass:"my-0"}),s("div",{staticClass:"mt-3",staticStyle:{color:"black"}},[s("span",{staticClass:"float-start"},[t._v(" Staff: "+t._s(t.staff_id?t.staffs.find((function(e){return e.st_id==t.staff_id})).staff_name:"")+" ")]),t._v(" "),s("span",{staticClass:"ml-15"},[t._v(" Employee: "+t._s(t.emp_id?t.employees.find((function(e){return e.emp_id==t.emp_id})).full_name:"")+" ")]),s("span",{staticClass:"float-end"},[t._v(" "+t._s(t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"")+" List For "+t._s(t.month)+"/"+t._s(t.year)+" ")])]),s("br"),"fine"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(2),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.fine})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.fine.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.fine_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):"transport"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(3),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.transport})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.transport.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.transport_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):"food"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(4),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.food})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.food.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.food_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):"expense"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(5),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.expense})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.expense.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.expense_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):"loan"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(6),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.loan})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.loan.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.loan_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):"accomodation"==t.type?s("table",{staticClass:"table table-bordered table-striped text-center text-dark",staticStyle:{"page-break-inside":"always","font-size":"12pt !important"}},[t._m(7),s("tbody",[t._l(t.rows.filter((function(t){return 0!=t.accomodation})),(function(e){return s("tr",{key:e.dsl_id},[s("td",[t._v(" "+t._s(e.dsl_id)+" ")]),s("td",[t._v(" "+t._s(new Date(e.work_date).toISOString().split("T")[0])+" ")]),s("td",[t._v(" "+t._s(e.accomodation.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",[t._v(" "+t._s(e.accomodation_reason)+" ")])])})),s("tr",[s("td",{staticClass:"para",attrs:{colspan:"2"}},[t._v(" Total ")]),s("td",{staticClass:"para"},[t._v(" "+t._s(t.total.toLocaleString())+" "+t._s("Monthly"==(t.employees.find((function(e){return e.emp_id==t.emp_id}))||{salary_type:""}).salary_type?"$":"IQD.")+" ")]),s("td",{staticClass:"para"})])],2)]):t._e(),s("br"),s("br"),s("div",{staticClass:"row",staticStyle:{color:"black"}},[s("div",{staticClass:"col-4 justify-content-center text-center"},[s("span",[t._v(" بەڕێوبەر ")]),s("br"),s("span",[t._v(" "+t._s(t.manager)+" ")])]),s("div",{staticClass:"col-4 justify-content-center text-center"},[s("span",[t._v(" ب.دارایی ")]),s("br"),s("span",[t._v(" "+t._s(t.kargeri)+" ")])]),s("div",{staticClass:"col-4 justify-content-center text-center"},[s("span",[t._v(" ژمێریار ")]),s("br"),s("span",[t._v(" "+t._s(t.accountant)+" ")]),s("br"),s("span",[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")]),s("br"),s("span",[t._v(" "+t._s(t.currentTime)+" ")])])])])],1)])],1)},ie=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"no-print btn btn-info btn-block mb-3",attrs:{"data-toggle":"collapse","data-target":"#staffs"}},[t._v(" Staffs "),s("i",{staticClass:"fa fa-arrow-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:s("70f2")}}),a("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[t._v(" Ideal Power Co. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Fine ")]),s("th",[t._v(" Fine Reason ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Transport ")]),s("th",[t._v(" Transport Reason ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Food ")]),s("th",[t._v(" Food Reason ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Expense ")]),s("th",[t._v(" Expense Reason ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Loan ")]),s("th",[t._v(" Loan Reason ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticStyle:{width:"10%"}},[t._v(" List ID ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Work Date ")]),s("th",{staticStyle:{width:"12%"}},[t._v(" Accomodation ")]),s("th",[t._v(" Accomodation Reason ")])])}],ne=(s("13d5"),{name:"EmployeeMonthDetail",data(){return{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),staffs:[],staff_id:null,employees:[],emp_id:null,user:{username:"",en_id:"",role:""},type:null,rows:[],manager:"",kargeri:"",accountant:"",currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),showSpecialStaffs:"false"}},beforeCreate(){Object(w["a"])("employee_month_detail")},created(){this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant}),this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.filter(t=>"1"==t.show_staff).sort((t,e)=>t.staff_sort_code-e.staff_sort_code)})},mounted(){setInterval(()=>{this.currentTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},6e4)},methods:{search(){this.month&&this.year&&this.emp_id?this.$http.get("/employee/getEmployeeMonthDetail/"+this.month+"/"+this.year+"/"+this.emp_id).then(({data:t})=>{this.rows=t}):this.rows=[]},changeNames(){this.$http.post("/setNames",{manager:this.manager,kargeri:this.kargeri,accountant:this.accountant}).then(()=>{})}},computed:{total(){return"fine"==this.type?this.rows.reduce((t,e)=>t+e.fine,0):"food"==this.type?this.rows.reduce((t,e)=>t+e.food,0):"expense"==this.type?this.rows.reduce((t,e)=>t+e.expense,0):"loan"==this.type?this.rows.reduce((t,e)=>t+e.loan,0):"accomodation"==this.type?this.rows.reduce((t,e)=>t+e.accomodation,0):"transport"==this.type?this.rows.reduce((t,e)=>t+e.transport,0):0}},watch:{staff_id(t){this.employees=[],this.$data.emp_id=null,t?this.$http.post("/employee/getEmployeeBystaff/"+this.staff_id+"/"+this.month+"/"+this.year).then(({data:t})=>{this.employees=t}):this.employees=[]},emp_id(t){t?this.search():this.rows=[]}}}),le=ne,oe=(s("42fe"),Object(c["a"])(le,ae,ie,!1,null,"fcbe943e",null)),re=oe.exports;u()(oe,{VCheckbox:H["a"]}),a["a"].use(y["a"]);const de=[{path:"/",component:()=>Promise.all([s.e("chunk-4a5f46a6"),s.e("chunk-9f32f720")]).then(s.bind(null,"6e78"))},{path:"/engineers",component:B},{path:"/employees",component:()=>Promise.all([s.e("chunk-4a5f46a6"),s.e("chunk-05a7be38")]).then(s.bind(null,"f881"))},{path:"/users",component:Q},{path:"/attendance",component:V},{path:"/debtTransaction",component:()=>s.e("chunk-2d21648e").then(s.bind(null,"c28a"))},{path:"/give_salary",component:()=>s.e("chunk-58420164").then(s.bind(null,"44d1"))},{path:"/login",component:et},{path:"/salary_list",component:()=>s.e("chunk-a19d3982").then(s.bind(null,"e83e"))},{path:"/total_salary_list/:month/:year/:dollar_price/:special",component:()=>s.e("chunk-0c66f035").then(s.bind(null,"5708"))},{path:"/print_expired_passports",component:()=>s.e("chunk-331e44ac").then(s.bind(null,"dedd"))},{path:"/staff_expenses",component:Yt},{path:"/staff_expenses_report",component:()=>s.e("chunk-0d8f1530").then(s.bind(null,"66af"))},{path:"/foodList",component:Jt},{path:"/foodGroups",component:se},{path:"/employee_month_detail",component:re},{path:"/loan_accomodation",component:()=>s.e("chunk-d2a2d6e6").then(s.bind(null,"14c4"))},{path:"/cabina",component:()=>s.e("chunk-4e59d779").then(s.bind(null,"f0e8"))},{path:"/notifications",component:Ot},{path:"/reports/staff",component:()=>s.e("chunk-1e525c18").then(s.bind(null,"07d0"))},{path:"/reports/engineer",component:ut},{path:"/reports/employee",component:()=>s.e("chunk-13656cf4").then(s.bind(null,"4a8a"))},{path:"/reports/givedSalary",component:yt},{path:"/reports/topEmployees",component:St},{path:"/reports/staffList",component:()=>s.e("chunk-6ec7f5d9").then(s.bind(null,"d696"))},{path:"/reports/monthlySalary",component:()=>s.e("chunk-4587756c").then(s.bind(null,"1724"))},{path:"/zeroList",component:()=>s.e("chunk-7a683150").then(s.bind(null,"3198"))},{path:"*",component:lt}],ce=new y["a"]({mode:"history",base:"/",routes:de});var _e=ce,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 active",attrs:{id:"nav"}},[s("div",{staticClass:"container-fluid d-flex flex-column p-0"},[t._m(0),s("hr",{staticClass:"sidebar-divider my-0"}),s("ul",{staticClass:"nav navbar-nav text-light w-100 pl-sm-1",class:{"pl-2":t.$vuetify.breakpoint.smAndDown},attrs:{id:"accordionSidebar"}},["A"==t.user_type||"K"==t.user_type||t.permissions.includes("index")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/"}},[s("i",{staticClass:"fas fa-home"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].home)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("users")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/users"}},[s("i",{staticClass:"fas fa-users"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].users)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("engineers")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/engineers"}},[s("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].supervisors)+" ")])])],1):t._e(),"A"==t.user_type||"K"==t.user_type||t.permissions.includes("employees")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/employees"}},[s("i",{staticClass:"fas fa-users"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].employees)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("attendance")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/attendance"}},[s("i",{staticClass:"fas fa-hourglass"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].attendance)+" ")])])],1):t._e(),"A"==t.user_type||"K"==t.user_type||t.permissions.includes("give_salary")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/give_salary"}},[s("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].give_salary)+" ")])])],1):t._e(),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/loan_accomodation"}},[s("i",{staticClass:"fas fa-receipt"}),t._v(" "),s("span",{staticStyle:{"font-size":"13.1px"}},[t._v(" Loan "),s("br"),t._v(" Accomodation ")])])],1),"A"==t.user_type||t.permissions.includes("debtTransaction")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/debtTransaction"}},[s("i",{staticClass:"fas fa-receipt"}),t._v(" "),s("span",[t._v(" "+t._s("Employee Debts")+" ")])])],1):t._e(),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/salary_list"}},[s("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" "),s("span",[t._v(" "+t._s("Salary List")+" ")])])],1),"A"==t.user_type||t.permissions.includes("foodList")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/foodList"}},[s("i",{staticClass:"fas fa-receipt"}),t._v(" "),s("span",[t._v(" "+t._s("Food List")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("staff_expenses")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/staff_expenses"}},[s("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" "),s("span",[t._v(" Staff Expenses ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("foodGroups")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/foodGroups"}},[s("i",{staticClass:"fas fa-receipt"}),t._v(" "),s("span",[t._v(" "+t._s("Staff Foods")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("employeeMonthDetail")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/employee_month_detail"}},[s("i",{staticClass:"fas fa-receipt"}),t._v(" "),s("span",[t._v(" "+t._s("Employee Month Detail")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("cabinas")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/cabina"}},[s("i",{staticClass:"fas fa-warehouse"}),t._v(" "),s("span",[t._v(" "+t._s("Cabina")+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("notifications")?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-1 ml-0":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/notifications"}},[s("i",{staticClass:"fas fa-bell"}),t._v(" "),s("span",[t._v(" "+t._s("Notifications")+" ")])])],1):t._e(),s("li",{staticClass:"nav-item dropdown-submenu",attrs:{"data-toggle":"dropdown",role:"button"}},[s("span",{staticClass:"nav-link multi-language"},[s("i",{staticClass:"fa fa-file"}),t._v(" "+t._s(t.navLanguage[t.language].reports)+" ")]),s("ul",{staticClass:"dropdown-menu bg-primary",class:{"pl-0":t.$vuetify.breakpoint.smAndDown}},["A"==t.user_type||t.permissions.includes("staffReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/staff"}},[s("i",{staticClass:"fas fa-users"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].staffs)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("engineerReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/engineer"}},[s("i",{staticClass:"fas fa-user-nurse"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].supervisors)+" ")])])],1):t._e(),s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/employee"}},[s("i",{staticClass:"fas fa-users"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].employees)+" ")])])],1),"A"==t.user_type||t.permissions.includes("givedSalaryReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/givedSalary"}},[s("i",{staticClass:"fas fa-money-bill-alt"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].give_salary_report)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("topEmployeeReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/topEmployees"}},[s("i",{staticClass:"fas fa-chevron-up"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].top_employees)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("staffListReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/staffList"}},[s("i",{staticClass:"fas fa-list"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].staff_list_report)+" ")])])],1):t._e(),"A"==t.user_type||t.permissions.includes("monthlySalaryReport")?s("li",[s("router-link",{staticClass:"nav-link multi-language",class:{"pl-0 ml-n4":t.$vuetify.breakpoint.smAndDown},attrs:{to:"/reports/MonthlySalary"}},[s("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" "),s("span",[t._v(" "+t._s(t.navLanguage[t.language].salary_list)+" ")])])],1):t._e()])])]),t._m(1)])])},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",attrs:{href:"#"}},[a("div",{staticClass:"sidebar-brand-icon"},[a("img",{staticStyle:{width:"105%"},attrs:{src:s("cf05")}})]),a("div",{staticClass:"sidebar-brand-text mx-3"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center d-none d-md-inline"},[s("button",{staticClass:"btn rounded-circle border-0",attrs:{id:"sidebarToggle",type:"button"}})])}],pe={Kurdish:{home:"سەرەکی",users:"بەکارهێنەرەکان",supervisors:"سەرپەرشتیارەکان",employees:"کارمەندەکان",attendance:"غیابات",give_salary:"پێدانی مووچە",reports:"ڕاپۆرتەکان",staffs:"ستافەکان",give_salary_report:"مووچە وەرگیراوەکان",top_employees:"داتای کارمەندان",staff_list_report:"لیستی کارکردنی ستافەکان",salary_list:"لیستی مووچە"},English:{home:"Home",users:"Users",supervisors:"Supervisors",employees:"Employees",attendance:"Attendance",give_salary:"Give Salary",reports:"Reports",staffs:"Staffs",give_salary_report:"Gived salary",top_employees:"Top Employees",staff_list_report:"Staff List reports",salary_list:"Salary List"},Arabic:{home:"الصفحة الرئيسية",users:"بەکارهێنەرەکان",supervisors:"المشرفين",employees:"الموظفين",attendance:"غیابات",give_salary:"كشف رواتب",reports:"التقارير",staffs:"العاملين",give_salary_report:"تم استلام الرواتب",top_employees:"بيانات الموظف",staff_list_report:"قائمة العاملین",salary_list:"قائمة رواتب"}},ge={name:"navbar",data(){return{permissions:[],isActive:!0,navLanguage:pe,language:"English",user_type:""}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user_type=t.type,"U"==t.type?this.permissions=["index","attendance","employeeReport","engineerReport","givedSalaryReport","staffReport","staffListReport","topEmployeeReport","debtTransaction"]:"E"==t.type&&(this.permissions=["index","attendance","staffReport","staffListReport","give_salary","notifications"])})},mounted(){document.getElementById("sidebarToggleTop").classList.remove("d-md-none"),document.getElementById("sidebarToggleTop").style.display="inline-block !important",k()("#sidebarToggle, #sidebarToggleTop").on("click",(function(){k()("#nav").toggleClass("active")})),D["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?k()(".multi-language").addClass("text-right"):k()(".multi-language").removeClass("text-right")})}},fe=ge,he=(s("92dc"),Object(c["a"])(fe,ue,me,!1,null,"6e0964d8",null)),ve=he.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top"},[a("div",{staticClass:"container-fluid"},[t._m(0),a("ul",{staticClass:"nav navbar-nav flex-nowrap w-100 ps-0"},[a("div",{staticClass:"w-100",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t.notifications&&t.notifications.length>0?a("marquee",{attrs:{width:"100%",direction:"right",height:"25px"}},[t._l(t.notifications,(function(e){return[a("div",{key:"ntf"+e.notification_id,style:"display: inline; color: "+e.color+";"},[a("span",{attrs:{dir:"ltr"}},[t._v(" "+t._s(e.username)+": "+t._s(e.text)+" ")])]),a("span",{key:"div-ntf"+e.notification_id,staticClass:"mx-3"},[t._v(" | ")])]}))],2):t._e()],1),a("div",{staticClass:"d-none d-sm-block topbar-divider"}),a("li",{staticClass:"nav-item dropdown no-arrow"},[a("div",{staticClass:"nav-item dropdown no-arrow"},[a("a",{staticClass:"dropdown-toggle nav-link",attrs:{"data-toggle":"dropdown","aria-expanded":"false",href:"#"}},[a("span",{staticClass:"d-none d-lg-inline mx-2 text-gray-600 small"},[t._v(" "+t._s(t.username)+" ")]),a("img",{staticClass:"border rounded-circle img-profile",attrs:{src:s("18d5")}})]),a("div",{staticClass:"dropdown-menu shadow dropdown-menu-right animated--grow-in"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}}),t._m(1),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.logout()}}},[a("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-800"}),t._v(" Logout")])])])])])])])},be=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop",type:"button"}},[s("i",{staticClass:"fas fa-bars"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)",role:"button","data-toggle":"modal","data-target":"#mdl_change_pass"}},[s("i",{staticClass:"fa fa-key fa-sm fa-fw mr-2 text-gray-800"}),t._v(" Change Password")])}];function Ce(t,e,s){var a="";if(s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3),a="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+a+"; path=/"}function we(t){for(var e=t+"=",s=document.cookie.split(";"),a=0;a<s.length;a++){var i=s[a];while(" "==i.charAt(0))i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null}var xe={props:["notifications"],name:"header-btn",data(){return{username:"",langauge:"English"}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.username=t.username}),["Kurdish","English","Arabic"].includes(we("ideal_power_lang"))?this.langauge=we("ideal_power_lang"):Ce("ideal_power_lang","English",30)},methods:{logout(){this.$http.post("/logout").then(()=>{window.location.href="/login"})}},watch:{langauge(t){Ce("ideal_power_lang",t,30),D["a"].$emit("languageChanged",t)}}},Ae=xe,ke=Object(c["a"])(Ae,ye,be,!1,null,null,null),Se=ke.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",attrs:{id:"mdl_change_pass"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},["K"!=t.user_type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control text-center mb-3",attrs:{type:"text",placeholder:"New Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}):t._e(),"K"!=t.user_type?s("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.password.length<6},on:{click:function(e){return t.change_pass()}}},[s("i",{staticClass:"fa fa-save"}),t._v(" Save ")]):t._e()])])])])},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])}],je={name:"changePass",data(){return{password:"",user_id:null,user_type:null}},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user_id=t.user_id,this.user_type=t.type})},methods:{change_pass(){this.password.length>=6&&null!=this.user_id?this.$http.patch("/user/updatePassword/"+this.user_id,{password:this.password}).then(()=>{this.$alert("Success","Success","success"),this.password=""}):this.$alert("Password must be more than 6 chatacter","Minimum 6 character","warning")}}},$e=je,Le=Object(c["a"])($e,De,Ee,!1,null,null,null),Be=Le.exports,Ie=s("f309");a["a"].use(Ie["a"]);var Ne=new Ie["a"]({});a["a"].config.productionTip=!1,l.a.defaults.withCredentials=!0,a["a"].prototype.$http=l.a,a["a"].use(i["a"]),a["a"].use(o["a"]),a["a"].component("navbar",ve),a["a"].component("header-btn",Se),a["a"].component("change-pass",Be),new a["a"]({router:_e,vuetify:Ne,render:t=>t(h)}).$mount("#app")},"5ccf":function(t,e,s){},"70f2":function(t,e,s){t.exports=s.p+"img/Ideal power logo.9f1406b9.png"},"7c72":function(t,e,s){},"7d2b":function(t,e,s){},"7e2b3":function(t,e,s){"use strict";s("a6fb")},"92dc":function(t,e,s){"use strict";s("a042")},a042:function(t,e,s){},a6fb:function(t,e,s){},b13c:function(t,e,s){},b9d6:function(t,e,s){"use strict";s("7c72")},c1e4:function(t,e,s){"use strict";s("4f33")},c735:function(t,e,s){"use strict";var a=s("683f");e["a"]=function(t){422==t.response.status?a["a"].alert(t.response.data.error[0].msg,"","error"):a["a"].alert(t.response.data.message,"","error")}},c836:function(t,e,s){"use strict";s("ca17")},ca17:function(t,e,s){},cba0:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("2b0e");const i=new a["a"]},cf05:function(t,e,s){t.exports=s.p+"img/logo.cf01e118.png"},d55e:function(t,e,s){"use strict";s("394c")},ef2e:function(t,e,s){},f357:function(t,e,s){"use strict";s("5ccf")}});
//# sourceMappingURL=app.5048bcfb.js.map