(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-683cef59"],{"36a7":function(e,t,s){},"8efc":function(e,t,s){},b4fa:function(e,t,s){"use strict";s("c166")},c166:function(e,t,s){},db95:function(e,t,s){e.exports=s.p+"img/user2.bfd4000e.jpg"},f881:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wrapper"}},[s("navbar",{staticClass:"animate__animated animate__fadeInLeft",staticStyle:{display:"none"},attrs:{id:"nav"}}),s("div",{staticClass:"d-flex flex-column animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[s("div",{attrs:{id:"content"}},[s("header-btn"),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[s("h3",{staticClass:"text-dark mb-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].employees)+" ")])]),s("hr"),s("div",{staticClass:"row"},["U"==e.user.type||"A"==e.user.type?s("button",{staticClass:"btn btn-success col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(t){return e.clear_employee()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].add_employee)+" "),s("i",{staticClass:"fa fa-plus"})]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control col-xl-2 col-md-5 mx-2 mb-2",attrs:{type:"text",placeholder:e.employeeLangauge[e.language].search+"..."},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search_employee()},input:function(t){t.target.composing||(e.search=t.target.value)}}}),s("button",{staticClass:"btn btn-success mx-1 mb-2",on:{click:function(t){return e.search_employee()}}},[s("i",{staticClass:"fa fa-search"})]),s("button",{staticClass:"btn btn-primary mx-1 mb-2",on:{click:function(t){return e.refresh()}}},[s("i",{staticClass:"fa fa-redo"})]),e._m(0),"A"==e.user.type?s("button",{staticClass:"btn btn-primary col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdlSort"}},[e._v(" Sort Employees "),s("v-icon",{staticClass:"ms-3",attrs:{color:"white"}},[e._v(" mdi-sort ")])],1):e._e()]),s("div",{staticClass:"row overflow-auto"},[s("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[s("thead",[s("th",[e._v(e._s(e.employeeLangauge[e.language].id))]),s("th",[e._v(e._s(e.employeeLangauge[e.language].first_name))]),s("th",[e._v(e._s(e.employeeLangauge[e.language].last_name))]),s("th",[e._v(e._s(e.employeeLangauge[e.language].staff))]),s("th",{staticStyle:{width:"10%"}},[e._v(e._s(e.employeeLangauge[e.language].phone))]),s("th",{staticStyle:{width:"14%"}},[e._v(e._s(e.employeeLangauge[e.language].registration_date))]),s("th",{staticClass:"px-0",staticStyle:{width:"10%"}},[e._v(e._s(e.employeeLangauge[e.language].salary_type))]),s("th",{staticClass:"px-0",staticStyle:{width:"8%"}},[e._v(e._s(e.employeeLangauge[e.language].status))]),"U"==e.user.type||"A"==e.user.type?s("th",{staticStyle:{width:"12.5%"}},[e._v(e._s(e.employeeLangauge[e.language].actions))]):e._e()]),s("tbody",e._l(e.employees,(function(t){return s("tr",{key:t.emp_id},[s("td",[e._v(" "+e._s(t.emp_id)+" ")]),s("td",[e._v(" "+e._s(t.first_name)+" ")]),s("td",[e._v(" "+e._s(t.last_name)+" ")]),s("td",[e._v(" "+e._s(t.staff_name)+" ")]),s("td",[e._v(" "+e._s(t.phone)+" ")]),s("td",[e._v(" "+e._s(e.organize_date(t.reg_date))+" ")]),s("td",{staticClass:"px-0"},[e._v(" "+e._s("Monthly"==t.salary_type?e.employeeLangauge[e.language].monthly:e.employeeLangauge[e.language].daily)+" ")]),s("td",{staticClass:"px-0"},[s("span",{class:{"text-danger":0==t.active_status,"text-success":1==t.active_status}},[e._v(e._s(e._f("employees_status_filter")(t.active_status,e.language)))])]),"U"==e.user.type||"A"==e.user.type?s("td",[[s("button",{staticClass:"btn btn-success mx-1 btn-sm",attrs:{"data-toggle":"modal","data-target":"#mdl_employee_documents"},on:{click:function(s){return e.getEmployeeDocuments(t.emp_id)}}},[s("i",{staticClass:"fa fa-file"})]),s("button",{staticClass:"btn btn-primary mx-1 btn-sm",attrs:{"data-toggle":"modal","data-target":"#mdl_employee"},on:{click:function(s){return e.get_single_employee(t.emp_id)}}},[s("i",{staticClass:"fa fa-edit"})]),1==t.active_status?s("button",{staticClass:"btn btn-danger mx-1 btn-sm",on:{click:function(s){return e.deactive_employee(t.emp_id)}}},[s("i",{staticClass:"fa fa-lock"})]):0==t.active_status?s("button",{staticClass:"btn btn-success mx-1 btn-sm",on:{click:function(s){return e.active_employee(t.emp_id)}}},[s("i",{staticClass:"fa fa-unlock"})]):e._e()]],2):e._e()])})),0)]),s("div",{staticClass:"float-right mb-3",attrs:{id:"paginations"}},[s("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.previos_pagination_btn()}}},[e._v("<")]),e._l(Math.ceil(e.noOfEmployees/15),(function(t){return s("button",{key:t,staticClass:"btn btn-outline-primary mx-1 pagination-btns",class:"pg-group-"+Math.ceil(t/5),staticStyle:{display:"none"},on:{click:function(s){return e.get_limited_data(t)}}},[e._v(" "+e._s(t)+" ")])})),s("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.next_pagination_btn()}}},[e._v(">")])],2)])])],1)]),s("change-pass"),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee_documents"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clearDocument()}}},[e._v("×")]),s("h5",{staticClass:"mt-2"},[e._v(" Employee Documents "),s("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.openUploadFile()}}},[s("i",{staticClass:"fas fa-plus"})]),e.selectedDocument.employee_document_id?s("button",{staticClass:"btn btn-success btn-sm ms-2",on:{click:function(t){return e.downloadDocument()}}},[s("i",{staticClass:"fas fa-download"})]):e._e(),s("input",{ref:"inputUploadFile",staticStyle:{display:"none"},attrs:{type:"file",multiple:"",accept:"image/*, application/pdf"},on:{change:e.proccessDocuments}})])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid px-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-12",style:"height: 450px; overflow-y: auto; border-right: 1px solid grey;"},e._l(e.documents,(function(t){return s("div",{key:"document"+t.employee_document_id,staticClass:"row p-0 mx-0 my-2"},[s("div",{staticClass:"col-8 px-0 m-0"},[s("button",{class:" btn btn-block btn-sm "+(e.selectedDocument&&t.employee_document_id==e.selectedDocument.employee_document_id?"btn-success":"btn-secondary"),on:{click:function(s){return e.selectDocument(t)}}},["pdf"==t.document_type?s("i",{staticClass:"fa fa-file-pdf"}):s("i",{staticClass:"fa fa-image"}),s("span",{staticClass:"ms-1"},[e._v(" "+e._s(t.employee_document_virtual_name)+" ")])])]),s("div",{staticClass:"col-2 pe-0 m-0"},[s("button",{staticClass:" btn btn-primary btn-block btn-sm",on:{click:function(s){return e.editDocumentName(t)}}},[s("i",{staticClass:"fa fa-edit"})])]),s("div",{staticClass:"col-2 pe-0 m-0"},[s("button",{staticClass:" btn btn-danger btn-block btn-sm",on:{click:function(s){return e.deleteDocument(t)}}},[s("i",{staticClass:"fa fa-trash"})])])])})),0),s("div",{staticClass:"col-xl-9 col-lg-9 col-md-9 col-sm-12"},[e.selectedDocumentFile?[s("div",["pdf"==e.selectedDocument.document_type?s("ViewPDF",{attrs:{download_file_name:e.selectedDocument.employee_document_virtual_name,trigger_download:e.trigger_download,src:e.documentUrl,customClass:"view-pdf",design:"border-radius: 3px; width: 96.5%; min-height: 450px; max-height: 450px; overflow-y: auto;"}}):s("viewer",{attrs:{options:{navbar:!1,title:!1,keyboard:!1,fullscreen:!0}}},[s("img",{staticStyle:{height:"450px"},attrs:{src:e.documentUrl}})])],1)]:e._e()],2)])])])])])]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_employee"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(t){return e.clear_employee()}}},[e._v("×")]),s("h5",{staticClass:"mt-2"},[e._v(" "+e._s(e.employeeLangauge[e.language].employee_information)+" ")])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid pe-0"},[e._m(1),s("div",{staticClass:"collapse",attrs:{id:"upload_image"}},[s("div",{staticClass:"d-flex justify-content-center mt-1"},[s("v-img",{staticStyle:{"margin-bottom":"8px"},attrs:{src:e.personalImagePath,contain:"",width:"100px",height:"250px"}})],1),s("div",{staticClass:"mt-1 mb-4",staticStyle:{width:"100%","text-align":"center"}},[s("button",{staticClass:"mt-auto btn btn-primary btn-sm",on:{click:e.openPersonalImageInput}},[e._v(" Upload Image ")]),e.single_employee.imageFile?s("button",{staticClass:"mt-auto btn btn-danger btn-sm ms-3",on:{click:function(t){return e.deleteImage()}}},[e._v(" Delete Image ")]):e._e(),s("input",{ref:"personalImage",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.processImage}})])]),s("div",{staticClass:"row mb-3 mt-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].first_name)+":")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.single_employee.first_name,expression:"single_employee.first_name",modifiers:{trim:!0}}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.first_name},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"first_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].last_name)+":")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.single_employee.last_name,expression:"single_employee.last_name",modifiers:{trim:!0}}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.last_name},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"last_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].phone)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.phone,expression:"single_employee.phone"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_employee.phone},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"phone",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Phone 2:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.phone2,expression:"single_employee.phone2"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.phone2},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"phone2",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Family Number:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.family_number_1,expression:"single_employee.family_number_1"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.family_number_1},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"family_number_1",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Family Number 2:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.family_number_2,expression:"single_employee.family_number_2"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.family_number_2},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"family_number_2",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].staff)+":")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.st_id,expression:"single_employee.st_id"}],staticClass:"form-control col-xl-3 mx-3",attrs:{required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"st_id",t.target.multiple?s:s[0])}}},e._l(e.staffs.filter((function(t){return t.special_staff==e.showSpecialStaffs})),(function(t){return s("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(e._s(t.staff_name))])})),0),s("span",{staticClass:"col-1"},[s("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:e.showSpecialStaffs,callback:function(t){e.showSpecialStaffs=t},expression:"showSpecialStaffs"}})],1)]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].birth_date)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.birth_date,expression:"single_employee.birth_date"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:e.single_employee.birth_date},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"birth_date",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].salary_type)+":")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.salary_type,expression:"single_employee.salary_type"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"salary_type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Monthly"}},[e._v(" "+e._s(e.employeeLangauge[e.language].monthly)+" ")]),s("option",{attrs:{value:"Daily"}},[e._v(" "+e._s(e.employeeLangauge[e.language].daily)+" ")])])]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" "+e._s(e.employeeLangauge[e.language].country)+": ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.country,expression:"single_employee.country"}],staticClass:"form-control col-xl-4 mx-3",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"country",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"1"}},[e._v(" Iraq ")]),s("option",{attrs:{value:"2"}},[e._v(" Foreign ")]),s("option",{attrs:{value:"3"}},[e._v(" Iran ")]),s("option",{attrs:{value:"4"}},[e._v(" Bangladish ")]),s("option",{attrs:{value:"5"}},[e._v(" Syria ")]),s("option",{attrs:{value:"6"}},[e._v(" India ")]),s("option",{attrs:{value:"7"}},[e._v(" Pakistan ")])]),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" City: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.city,expression:"single_employee.city"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.city},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"city",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Job: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.job,expression:"single_employee.job"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.job},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"job",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0",staticStyle:{"font-size":"11.95pt"}},[e._v(" Blood Group ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.blood_group,expression:"single_employee.blood_group"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.blood_group},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"blood_group",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Passport Number: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.passport_number,expression:"single_employee.passport_number"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.passport_number},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"passport_number",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].expire_passport)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.expiry_passport,expression:"single_employee.expiry_passport"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:e.single_employee.expiry_passport},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"expiry_passport",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Accomodation Number: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.accomodation_number,expression:"single_employee.accomodation_number"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.accomodation_number},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"accomodation_number",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Expire Accomodation:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.expire_accomodation,expression:"single_employee.expire_accomodation"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date",disabled:1==e.single_employee.country},domProps:{value:e.single_employee.expire_accomodation},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"expire_accomodation",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Cabina:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.cabina_id,expression:"single_employee.cabina_id"}],staticClass:"form-control col-xl-4 mx-3",attrs:{required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.single_employee,"cabina_id",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}}),e._l(e.cabinas,(function(t){return s("option",{key:"c"+t.cabina_id,domProps:{value:t.cabina_id}},[e._v(e._s(t.cabina_name))])}))],2),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Asaish Code: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.asaish_code,expression:"single_employee.asaish_code"}],staticClass:"form-control col-xl-4 mx-3",domProps:{value:e.single_employee.asaish_code},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"asaish_code",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Certificate:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.certificate,expression:"single_employee.certificate"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.certificate},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"certificate",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" First Work Date:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.first_work_date,expression:"single_employee.first_work_date"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"date"},domProps:{value:e.single_employee.first_work_date},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"first_work_date",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Car:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.car,expression:"single_employee.car"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_employee.car},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"car",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Car Number:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.car_number,expression:"single_employee.car_number"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text",maxlength:"11"},domProps:{value:e.single_employee.car_number},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"car_number",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(" Location:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.living_location,expression:"single_employee.living_location"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"text"},domProps:{value:e.single_employee.living_location},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"living_location",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].food)+" "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.food_money,expression:"single_employee.food_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.food_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"food_money",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v(e._s(e.employeeLangauge[e.language].transport)+" "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.transport_money,expression:"single_employee.transport_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.transport_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"transport_money",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Cabina "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.cabina_money,expression:"single_employee.cabina_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.cabina_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"cabina_money",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Expense "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.expense_money,expression:"single_employee.expense_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.expense_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"expense_money",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Fine "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.fine_money,expression:"single_employee.fine_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.fine_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"fine_money",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Loan "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.loan_money,expression:"single_employee.loan_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.loan_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"loan_money",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Accomodation "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.accomodation_money,expression:"single_employee.accomodation_money"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.accomodation_money},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"accomodation_money",t.target.value)}}})]),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Salary per month "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+": ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.other_expense,expression:"single_employee.other_expense"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.other_expense},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"other_expense",t.target.value)}}}),s("label",{staticClass:"col-xl-1 mt-2 px-0"},[e._v("Other Minus "+e._s("Monthly"==e.single_employee.salary_type?"($)":"")+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.other_minus,expression:"single_employee.other_minus"}],staticClass:"form-control col-xl-4 mx-3",attrs:{type:"number",min:"0"},domProps:{value:e.single_employee.other_minus},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"other_minus",t.target.value)}}})]),s("hr"),s("div",{staticClass:"row mb-3"},[s("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].monthly_salary)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.monthly_salary,expression:"single_employee.monthly_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Daily"==e.single_employee.salary_type},domProps:{value:e.single_employee.monthly_salary},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"monthly_salary",t.target.value)}}}),s("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].daily_salary)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.single_employee.daily_salary,expression:"single_employee.daily_salary"}],staticClass:"form-control col-xl-2 text-center",attrs:{type:"number",min:"0",readonly:"Monthly"==e.single_employee.salary_type},domProps:{value:e.single_employee.daily_salary},on:{input:function(t){t.target.composing||e.$set(e.single_employee,"daily_salary",t.target.value)}}}),s("label",{staticClass:"col-xl-2 mt-2 text-center"},[e._v(" "+e._s(e.employeeLangauge[e.language].hour_salary)+":")]),s("label",{staticClass:"form-control col-xl-2 text-center",staticStyle:{"background-color":"rgba(128, 128, 128, 0.171)"}},[e._v(" "+e._s(e.single_employee.hour_salary)+" ")])]),s("hr"),s("div",{staticClass:"row mb-3"},[null==e.single_employee.emp_id?s("div",{staticClass:"col-xl-12 mb-2"},[s("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_employee"},on:{click:function(t){return e.add_employee()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].add)+" "),s("i",{staticClass:"fa fa-plus"})])]):e._e(),null!=e.single_employee.emp_id?s("div",{staticClass:"col-xl-4 mb-2"},[s("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_employee"},on:{click:function(t){return e.update_employee()}}},[e._v(" "+e._s(e.employeeLangauge[e.language].save_changes)+" "),s("i",{staticClass:"fa fa-save"})])]):e._e()])])])])])]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlSearchByStaff"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content"},[e._m(2),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg-5 col-md-5"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.searchStaffID,expression:"searchStaffID"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchStaffID=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),e._l(e.staffs.filter((function(t){return t.special_staff==e.showSpecialStaffs})),(function(t){return s("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)]),s("span",{staticClass:"col-1"},[s("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:e.showSpecialStaffs,callback:function(t){e.showSpecialStaffs=t},expression:"showSpecialStaffs"}})],1),s("div",{staticClass:"col-12 col-lg-6 col-md-6"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.searchStaffStatus,expression:"searchStaffStatus"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchStaffStatus=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[e._v(" Actived ")]),s("option",{attrs:{value:"0"}},[e._v(" Deactived ")])])])]),s("hr"),s("div",{staticClass:"row"},e._l(e.btnEmployees.filter((function(t){return t.active_status==e.searchStaffStatus})),(function(t){return s("div",{key:t.emp_id,staticClass:"col-12 col-xl-3 col-lg-3 col-md-4 mb-2"},[s("button",{staticClass:"btn btn-block",class:{"btn-primary":"1"==e.searchStaffStatus,"btn-danger":"0"==e.searchStaffStatus},on:{click:function(s){return e.searchByID(t.emp_id)}}},[e._v(" "+e._s(t.full_name)+" ")])])})),0)])])])])]),s("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlSort"}},[s("div",{staticClass:"modal-dialog modal-md"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v("×")]),s("h5",{staticClass:"mt-2"},[e._v(" Sort Employees in Staff "),s("button",{staticClass:"btn btn-primary ms-2",on:{click:function(t){return e.saveEmployeesSort()}}},[s("v-icon",{attrs:{color:"white"}},[e._v(" mdi-content-save ")])],1)])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.searchStaffID,expression:"searchStaffID"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchStaffID=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}}),e._l(e.staffs,(function(t){return s("option",{key:t.st_id,domProps:{value:t.st_id}},[e._v(" "+e._s(t.staff_name)+" ")])}))],2)])]),s("hr"),s("div",{staticStyle:{width:"100%"}},[s("draggable",{model:{value:e.employees_to_sort,callback:function(t){e.employees_to_sort=t},expression:"employees_to_sort"}},[s("transition-group",e._l(e.employees_to_sort,(function(t,i){return s("v-btn",{key:"emp"+i,staticClass:"mb-2",attrs:{block:"",color:"primary"}},[e._v(" "+e._s(t.full_name)+" ")])})),1)],1)],1)])])])])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn btn-primary col-xl-2 col-md-5 mx-2 mb-2",attrs:{"data-toggle":"modal","data-target":"#mdlSearchByStaff"}},[e._v(" Search By Staff "),s("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%"}},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"collapse","data-target":"#upload_image"}},[e._v(" Employee Image ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[e._v("×")]),s("h5",{staticClass:"mt-2"},[e._v(" Search By Staff ")])])}],l=s("1ab6"),n=s("1157"),o=s.n(n),m=s("cba0"),r=s("cbf4"),p=s("c735"),_=s("b76a"),c=s.n(_),d=s("4220");const y=[null,""];var g={name:"Employees",components:{draggable:c.a,ViewPDF:d["a"]},data(){return{default_image:s("db95"),noOfEmployees:0,employees:[],btnEmployees:[],single_employee:{emp_id:null,first_name:null,last_name:null,st_id:null,cabina_id:null,phone:null,birth_date:null,reg_date:null,salary_type:null,monthly_salary:null,daily_salary:null,hour_salary:null,identification_image_path:null,identification_image_file:null,personal_image_path:null,personal_image_file:null,staff_name:null,country:"1",city:null,food_money:0,transport_money:0,cabina_money:0,fine_money:0,expense_money:0,loan_money:0,accomodation_money:0,other_expense:0,other_minus:0,expiry_passport:null,passport_number:null,expire_accomodation:null,accomodation_number:null,asaish_code:null,phone2:null,car:null,car_number:null,living_location:null,first_work_date:null,job:null,blood_group:null,imageFile:null,family_number_1:null,family_number_2:null,certificate:null},staffs:[],cabinas:[],search:"",current_pagination:1,max_pagination:0,searchStaffID:null,searchStaffStatus:"1",employeeLangauge:r["a"],language:"English",user:{},employees_to_sort:[],showSpecialStaffs:"false",notifications:[],selected_emp_id:null,documents:[],selectedDocument:{},selectedDocumentFile:null,trigger_download:!1}},beforeCreate(){Object(l["a"])("employees")},created(){this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.type=e.type,this.$http.post("/notifications/getActiveEmployee").then(({data:e})=>{this.notifications=e}).catch(e=>{Object(p["a"])(e)})}),this.$http.post("/employee/getNoOfEmployees").then(({data:e})=>{this.noOfEmployees=e.noOfEmployees;var t=Math.ceil(this.noOfEmployees/15),s=Math.ceil(t/5);this.max_pagination=s}).catch(e=>{Object(p["a"])(e)}),this.get_limited_data(1),this.$http.post("/staff/getStaffsAndCabinas").then(({data:e})=>{this.staffs=e.staffs.filter(e=>"1"==e.show_staff).sort((e,t)=>e.staff_sort_code-t.staff_sort_code),this.employees.staff_name=e.staffs.staff_name,this.cabinas=e.cabinas}).catch(e=>{Object(p["a"])(e)}),this.$http.post("/getLoggedInfo").then(({data:e})=>{this.user.username=e.username,this.user.type=e.type,this.user.en_id=e.en_id})},mounted(){var e=setInterval(()=>{var t=document.getElementsByClassName("pg-group-1");if(t.length>0){for(let e=0;e<t.length;e++)t[e].style.display="inline";clearInterval(e)}},750);m["a"].$on("languageChanged",e=>{this.language=e,["Kurdish","Arabic"].includes(e)?(o()(".multi-language").addClass("rtl"),o()("#wrapper").attr("dir","rtl")):(o()(".multi-language").removeClass("rtl"),o()("#wrapper").attr("dir","ltr"))})},methods:{openUploadFile(){this.$refs.inputUploadFile.value=null,this.$refs.inputUploadFile.click()},proccessDocuments(e){const t=e.target.files;if(t&&t.length>0){const e=new FormData;for(let s=0;s<t.length;s++)e.append("documents",t[s]);this.$http.post("/employee/upload_documents/"+this.selected_emp_id,e).then(({data:e})=>{this.documents=e,this.$refs.inputUploadFile.value=null}).catch(e=>{Object(p["a"])(e)})}},openPersonalImageInput(){this.$refs.personalImage.click()},processImage(e){if(this.single_employee.emp_id){const t=new FormData;t.append("personal_image",e.target.files[0]),this.$http.post("/employee/updatePersonalImage/"+this.single_employee.emp_id,t).then(({data:t})=>{this.single_employee.personal_image_path=t.personal_image_path,this.single_employee.imageFile=e.target.files[0],this.$refs.personalImage.value=null;let s=this.employees.findIndex(e=>e.emp_id==this.single_employee.emp_id);this.employees[s].personal_image_path=t.personal_image_path}).catch(e=>{Object(p["a"])(e)})}else this.single_employee.imageFile=e.target.files[0]},next_pagination_btn(){if(this.current_pagination<this.max_pagination){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";++this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},previos_pagination_btn(){if(this.current_pagination>1){var e=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let t=0;t<e.length;t++)e[t].style.display="none";--this.current_pagination;var t=document.getElementsByClassName("pg-group-"+this.current_pagination);for(let e=0;e<t.length;e++)t[e].style.display="inline"}},get_limited_data(e){var t=0;e>1&&(t=15*(e-1)),this.$http.post("/employee/getData",{offset:t}).then(({data:e})=>{this.employees=e}).catch(e=>{Object(p["a"])(e)})},process_file(e){this.single_employee.identification_image_file=e.target.files[0]},process_file_personal(e){this.single_employee.personal_image_file=e.target.files[0]},clear_employee(){this.single_employee.emp_id=null,this.single_employee.first_name=null,this.single_employee.last_name=null,this.single_employee.st_id=null,this.single_employee.cabina_id=null,this.single_employee.phone=null,this.single_employee.birth_date=null,this.single_employee.reg_date=null,this.single_employee.salary_type=null,this.single_employee.monthly_salary=null,this.single_employee.daily_salary=null,this.single_employee.hour_salary=null,this.single_employee.identification_image_path=null,this.single_employee.identification_image_file=null,this.single_employee.personal_image_path=null,this.single_employee.personal_image_file=null,this.single_employee.staff_name=null,this.single_employee.country="1",this.single_employee.city=null,this.single_employee.food_money=0,this.single_employee.transport_money=0,this.single_employee.cabina_money=0,this.single_employee.expense_money=0,this.single_employee.fine_money=0,this.single_employee.loan_money=0,this.single_employee.accomodation_money=0,this.single_employee.other_expense=0,this.single_employee.other_minus=0,this.single_employee.expiry_passport=null,this.single_employee.passport_number=null,this.single_employee.expire_accomodation=null,this.single_employee.accomodation_number=null,this.single_employee.asaish_code=null,this.single_employee.phone2=null,this.single_employee.car=null,this.single_employee.car_number=null,this.single_employee.living_location=null,this.single_employee.first_work_date=null,this.single_employee.job=null,this.single_employee.blood_group=null,this.single_employee.family_number_1=null,this.single_employee.family_number_2=null,this.single_employee.certificate=null,this.single_employee.imageFile=null,this.$refs.personalImage.value=null},get_single_employee(e){const[t]=this.employees.filter(t=>t.emp_id===e);this.single_employee.emp_id=t.emp_id,this.single_employee.first_name=t.first_name,this.single_employee.last_name=t.last_name,this.single_employee.st_id=t.st_id,this.single_employee.cabina_id=t.cabina_id,this.single_employee.phone=t.phone,this.single_employee.birth_date=t.birth_date.slice(0,10),this.single_employee.reg_date=t.reg_date,this.single_employee.salary_type=t.salary_type,this.single_employee.monthly_salary=t.monthly_salary,this.single_employee.daily_salary=t.daily_salary,this.single_employee.hour_salary=t.hour_salary,this.single_employee.identification_image_path=t.identification_image_path,this.single_employee.personal_image_path=t.personal_image_path,this.single_employee.staff_name=t.staff_name,t.expiry_passport&&this.isValidDate(t.expiry_passport)?this.single_employee.expiry_passport=this.organize_date(t.expiry_passport):this.single_employee.expiry_passport=null,t.expire_accomodation&&this.isValidDate(t.expire_accomodation)?this.single_employee.expire_accomodation=this.organize_date(t.expire_accomodation):this.single_employee.expire_accomodation=null,t.first_work_date&&this.isValidDate(t.first_work_date)?this.single_employee.first_work_date=this.organize_date(t.first_work_date):this.single_employee.first_work_date=null,this.single_employee.country=t.country,this.single_employee.city=t.city,this.single_employee.passport_number=t.passport_number,this.single_employee.accomodation_number=t.accomodation_number,this.single_employee.food_money=t.food_money,this.single_employee.transport_money=t.transport_money,this.single_employee.cabina_money=t.cabina_money,this.single_employee.expense_money=t.expense_money,this.single_employee.fine_money=t.fine_money,this.single_employee.loan_money=t.loan_money,this.single_employee.accomodation_money=t.accomodation_money,this.single_employee.other_expense=t.other_expense,this.single_employee.other_minus=t.other_minus,this.single_employee.asaish_code=t.asaish_code,this.single_employee.phone2=t.phone2,this.single_employee.car=t.car,this.single_employee.car_number=t.car_number,this.single_employee.living_location=t.living_location,this.single_employee.job=t.job,this.single_employee.blood_group=t.blood_group,this.single_employee.family_number_1=t.family_number_1,this.single_employee.family_number_2=t.family_number_2,this.single_employee.certificate=t.certificate,this.single_employee.personal_image_path?this.$http.get("/employee/personal_image/"+this.single_employee.personal_image_path,{responseType:"arraybuffer"}).then(({data:e})=>{const t=new Blob([e],{type:"image/*"}),s=new File([t],this.single_employee.personal_image_path);this.single_employee.imageFile=s}).catch(e=>{Object(p["a"])(e)}):this.single_employee.imageFile=null},add_employee(){if(y.includes(this.single_employee.first_name)||y.includes(this.single_employee.st_id)||y.includes(this.single_employee.birth_date)||y.includes(this.single_employee.last_name)||y.includes(this.single_employee.phone)||y.includes(this.single_employee.salary_type))this.$alert("Please fill the cells with correct data !","Empty Field","warning");else{var e=new FormData;e.append("first_name",this.single_employee.first_name),e.append("last_name",this.single_employee.last_name),e.append("st_id",this.single_employee.st_id),e.append("cabina_id",this.single_employee.cabina_id),e.append("phone",this.single_employee.phone),e.append("birth_date",this.single_employee.birth_date),e.append("reg_date",this.single_employee.reg_date),e.append("salary_type",this.single_employee.salary_type),e.append("monthly_salary",this.single_employee.monthly_salary),e.append("daily_salary",this.single_employee.daily_salary),e.append("hour_salary",this.single_employee.hour_salary),e.append("identification_image",this.single_employee.identification_image_file),e.append("expiry_passport",this.single_employee.expiry_passport),e.append("passport_number",this.single_employee.passport_number),e.append("expire_accomodation",this.single_employee.expire_accomodation),e.append("accomodation_number",this.single_employee.accomodation_number),e.append("country",this.single_employee.country),e.append("city",this.single_employee.city),e.append("food_money",this.single_employee.food_money),e.append("transport_money",this.single_employee.transport_money),e.append("cabina_money",this.single_employee.cabina_money),e.append("expense_money",this.single_employee.expense_money),e.append("loan_money",this.single_employee.loan_money),e.append("accomodation_money",this.single_employee.accomodation_money),e.append("fine_money",this.single_employee.fine_money),e.append("other_expense",this.single_employee.other_expense),e.append("other_minus",this.single_employee.other_minus),this.single_employee.asaish_code&&e.append("asaish_code",this.single_employee.asaish_code),e.append("phone2",this.single_employee.phone2),e.append("car",this.single_employee.car),this.single_employee.car_number&&e.append("car_number",this.single_employee.car_number),e.append("living_location",this.single_employee.living_location),e.append("first_work_date",this.single_employee.first_work_date),e.append("family_number_1",this.single_employee.family_number_1),e.append("family_number_2",this.single_employee.family_number_2),e.append("certificate",this.single_employee.certificate),this.single_employee.job&&e.append("job",this.single_employee.job),this.single_employee.blood_group&&e.append("blood_group",this.single_employee.blood_group),this.single_employee.imageFile&&e.append("personal_image",this.single_employee.imageFile),document.getElementById("btn_add_employee").setAttribute("disabled","disabled"),this.$http.post("/employee/addEmployee",e).then(({data:e})=>{this.$alert("Successfully","Success","success"),this.employees.unshift({emp_id:e.emp_id,first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,st_id:this.single_employee.st_id,staff_name:this.staffs.filter(e=>e.st_id==this.single_employee.st_id)[0].staff_name,cabina_id:this.single_employee.cabina_id,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:(new Date).toISOString().split("T")[0],salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,identification_image_path:e.identification_image_path,personal_image_path:e.personal_image_path,active_status:"1",country:this.single_employee.country,city:this.single_employee.city,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport,passport_number:this.single_employee.passport_number,expire_accomodation:this.single_employee.expire_accomodation,accomodation_number:this.single_employee.accomodation_number,asaish_code:this.single_employee.asaish_code,phone2:this.single_employee.phone2,car:this.single_employee.car,car_number:this.single_employee.car_number,living_location:this.single_employee.living_location,first_work_date:this.single_employee.first_work_date,blood_group:this.single_employee.blood_group,family_number_1:this.single_employee.family_number_1,family_number_2:this.single_employee.family_number_2,certificate:this.single_employee.certificate}),this.clear_employee()}).catch(e=>{Object(p["a"])(e)}).finally(()=>{document.getElementById("btn_add_employee").removeAttribute("disabled")})}},update_employee(){y.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for update !","","warning"):y.includes(this.single_employee.first_name)||y.includes(this.single_employee.st_id)||y.includes(this.single_employee.birth_date)||y.includes(this.single_employee.last_name)||y.includes(this.single_employee.phone)||y.includes(this.single_employee.salary_type)?this.$alert("Please fill the cells with correct data !","Empty Field","warning"):(document.getElementById("btn_update_employee").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateEmployee/"+this.single_employee.emp_id,{first_name:this.single_employee.first_name,last_name:this.single_employee.last_name,st_id:this.single_employee.st_id,cabina_id:this.single_employee.cabina_id||null,phone:this.single_employee.phone,birth_date:this.single_employee.birth_date,reg_date:this.single_employee.reg_date,salary_type:this.single_employee.salary_type,monthly_salary:this.single_employee.monthly_salary,daily_salary:this.single_employee.daily_salary,hour_salary:this.single_employee.hour_salary,country:this.single_employee.country,city:this.single_employee.city,food_money:this.single_employee.food_money,transport_money:this.single_employee.transport_money,cabina_money:this.single_employee.cabina_money,expense_money:this.single_employee.expense_money,fine_money:this.single_employee.fine_money,loan_money:this.single_employee.loan_money,accomodation_money:this.single_employee.accomodation_money,other_expense:this.single_employee.other_expense,other_minus:this.single_employee.other_minus,expiry_passport:this.single_employee.expiry_passport,passport_number:this.single_employee.passport_number,expire_accomodation:this.single_employee.expire_accomodation,accomodation_number:this.single_employee.accomodation_number,asaish_code:this.single_employee.asaish_code,phone2:this.single_employee.phone2,car:this.single_employee.car,car_number:this.single_employee.car_number,living_location:this.single_employee.living_location,first_work_date:this.single_employee.first_work_date,job:this.single_employee.job,blood_group:this.single_employee.blood_group,family_number_1:this.single_employee.family_number_1,family_number_2:this.single_employee.family_number_2,certificate:this.single_employee.certificate}).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].first_name=this.single_employee.first_name,this.employees[e].last_name=this.single_employee.last_name,this.employees[e].st_id=this.single_employee.st_id,this.employees[e].staff_name=this.staffs.filter(e=>e.st_id==this.single_employee.st_id)[0].staff_name,this.employees[e].cabina_id=this.single_employee.cabina_id,this.employees[e].phone=this.single_employee.phone,this.employees[e].reg_date=this.single_employee.reg_date,this.employees[e].salary_type=this.single_employee.salary_type,this.employees[e].monthly_salary=this.single_employee.monthly_salary,this.employees[e].daily_salary=this.single_employee.daily_salary,this.employees[e].country=this.single_employee.country,this.employees[e].city=this.single_employee.city,this.employees[e].food_money=this.single_employee.food_money,this.employees[e].transport_money=this.single_employee.transport_money,this.employees[e].cabina_money=this.single_employee.cabina_money,this.employees[e].expense_money=this.single_employee.expense_money,this.employees[e].fine_money=this.single_employee.fine_money,this.employees[e].loan_money=this.single_employee.loan_money,this.employees[e].accomodation_money=this.single_employee.accomodation_money,this.employees[e].other_expense=this.single_employee.other_expense,this.employees[e].other_minus=this.single_employee.other_minus,this.employees[e].expiry_passport=this.single_employee.expiry_passport,this.employees[e].passport_number=this.single_employee.passport_number,this.employees[e].expire_accomodation=this.single_employee.expire_accomodation,this.employees[e].accomodation_number=this.single_employee.accomodation_number,this.employees[e].asaish_code=this.single_employee.asaish_code,this.employees[e].phone2=this.single_employee.phone2,this.employees[e].car=this.single_employee.car,this.employees[e].car_number=this.single_employee.car_number,this.employees[e].living_location=this.single_employee.living_location,this.employees[e].first_work_date=this.single_employee.first_work_date,this.employees[e].job=this.single_employee.job,this.employees[e].blood_group=this.single_employee.blood_group,this.employees[e].family_number_1=this.single_employee.family_number_1,this.employees[e].family_number_2=this.single_employee.family_number_2,this.employees[e].certificate=this.single_employee.certificate,this.$alert("Successfully changed","Success","success")}).catch(e=>{Object(p["a"])(e)}).finally(()=>{document.getElementById("btn_update_employee").removeAttribute("disabled")}))},update_identification_image(){if(y.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(y.includes(this.single_employee.identification_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("identification_image",this.single_employee.identification_image_file),document.getElementById("btn_update_id_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updateIdentificationImage/"+this.single_employee.emp_id,e).then(({data:e})=>{let t=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[t].identification_image_path=e.identification_image_path,this.single_employee.identification_image_path=e.identification_image_path,this.$alert("Successfully changed","Success","success")}).catch(e=>{Object(p["a"])(e)}).finally(()=>{document.getElementById("btn_update_id_image").removeAttribute("disabled")})}},update_personal_image(){if(y.includes(this.single_employee.emp_id))this.$alert("Please select an employee for update !","","warning");else if(y.includes(this.single_employee.personal_image_file))this.$alert("Please select a image","No image selected","warning");else{var e=new FormData;e.append("personal_image",this.single_employee.personal_image_file),document.getElementById("btn_update_personal_image").setAttribute("disabled","disabled"),this.$http.patch("/employee/updatePersonalImage/"+this.single_employee.emp_id,e).then(({data:e})=>{let t=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[t].personal_image_path=e.personal_image_path,this.single_employee.personal_image_path=e.personal_image_path,this.$alert("Successfully changed","Success","success")}).catch(e=>{Object(p["a"])(e)}).finally(()=>{document.getElementById("btn_update_personal_image").removeAttribute("disabled")})}},delete_identification_image(){y.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deleteIdentificationImage/"+this.single_employee.emp_id).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].identification_image_path=null,this.single_employee.identification_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(e=>{Object(p["a"])(e)})},delete_personal_image(){y.includes(this.single_employee.emp_id)?this.$alert("Please select an employee for delete image!","","warning"):this.$http.delete("/employee/deletePersonalImage/"+this.single_employee.emp_id).then(()=>{let e=this.employees.findIndex(e=>e.emp_id===this.single_employee.emp_id);this.employees[e].personal_image_path=null,this.single_employee.personal_image_path=null,this.$alert("Successfully deleted","Success","success")}).catch(e=>{Object(p["a"])(e)})},active_employee(e){this.$confirm("Are you sure to active this employee?","Warning","question").then(()=>{this.$http.patch("/employee/activeEmployee/"+e).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===e);this.employees[t].active_status="1",this.$alert("Employee Actived","Active","success");let s=this.notifications.find(t=>t.emp_id==e);s&&this.$alert(s.text,"Notification","info")}).catch(e=>{Object(p["a"])(e)})})},deactive_employee(e){this.$confirm("are you sure to deactive this employee?","Warning","question").then(()=>{this.$http.patch("/employee/deactiveEmployee/"+e).then(()=>{let t=this.employees.findIndex(t=>t.emp_id===e);this.employees[t].active_status="0",this.$alert("Employee Deactived","Deactive","success")}).catch(e=>{Object(p["a"])(e)})})},organize_point(e){var t=e.toString(),s=t.substr(t.lastIndexOf(".")+1,3);return Number("000"==s?t.substring(0,t.lastIndexOf(".")):t)},organize_date(e){if("0000-00-00"==e)return null;var t=new Date(e);return t.toISOString().split("T")[0]},deleteImage(){const e=confirm("Are you sure to delete this image?");e&&(this.single_employee.emp_id?this.$http.delete("/employee/deletePersonalImage/"+this.single_employee.emp_id).then(()=>{this.single_employee.imageFile=null,this.$refs.personalImage.value=null,this.single_employee.personal_image_path=null}).catch(e=>{Object(p["a"])(e)}):(this.single_employee.imageFile=null,this.$refs.personalImage.value=null))},search_employee(){""==this.search?this.$alert("Write a thing to search ...","Empty Field","warning"):this.$http.post("/employee/searchEmployee",{search_value:this.search}).then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"})},searchByID(e){this.$http.post("/employee/searchByID",{search_value:e}).then(({data:e})=>{this.employees=e,document.getElementById("paginations").style.display="none"})},refresh(){this.get_limited_data(1),this.search="",document.getElementById("paginations").style.display="block",this.current_pagination=1},isValidDate(e){let t=new Date(e);return t instanceof Date&&!isNaN(t)},sortEmployees(e){return e.sort((e,t)=>e.sort_code-t.sort_code)},saveEmployeesSort(){this.$http.post("/employee/saveEmployeesSort",{list:this.employees_to_sort}).then(()=>{this.$alert("Successfully","Success","success")}).catch(e=>{Object(p["a"])(e)})},getSortedStaffs(e){return e.sort((e,t)=>e.staff_sort_code-t.staff_sort_code)},clearDocument(){this.$refs.inputUploadFile.value=null,this.selectedDocument={},this.selectedDocumentFile=null,this.selected_emp_id=null},getEmployeeDocuments(e){this.clearDocument(),this.selected_emp_id=e,this.$http.get("/employee/get_documents/"+e).then(({data:e})=>{this.documents=e}).catch(e=>{Object(p["a"])(e)})},async selectDocument(e){this.selectedDocument=JSON.parse(JSON.stringify(e));const t=await this.$http.get("/employee/get_document_file/"+e.employee_document+"/"+e.document_type,{responseType:"arraybuffer"}),s=new Blob([t.data],{type:"pdf"==e.document_type?"application/pdf":"image/*"}),i=new File([s],e.employee_document);this.selectedDocumentFile=i},deleteDocument(e){const t=confirm("Are you sure to delete this document?");t&&this.$http.delete("/employee/delete_document/"+e.employee_document_id).then(()=>{this.documents=this.documents.filter(t=>t.employee_document!=e.employee_document),this.selectedDocument={},this.selectedDocumentFile=null}).catch(e=>{Object(p["a"])(e)})},editDocumentName(e){const t=prompt("Enter new name");t&&this.$http.patch("/employee/edit_document_name/"+e.employee_document_id,{employee_document_virtual_name:t}).then(()=>{e.employee_document=t;let s=this.documents.findIndex(t=>t.employee_document_id==e.employee_document_id);this.documents[s].employee_document_virtual_name=t}).catch(e=>{Object(p["a"])(e)})},downloadDocument(){this.selectedDocument.employee_document_id&&this.selectedDocumentFile&&(this.trigger_download=!this.trigger_download)}},computed:{personalImagePath(){return this.single_employee.imageFile?URL.createObjectURL(this.single_employee.imageFile):this.default_image},documentUrl(){return this.selectedDocumentFile?URL.createObjectURL(this.selectedDocumentFile):null}},filters:{employees_status_filter(e,t){return[r["a"][t].deactive,r["a"][t].active][e]}},watch:{"single_employee.monthly_salary":function(e){"Monthly"==this.single_employee.salary_type&&(this.single_employee.daily_salary=this.organize_point((Number(e)/26).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.daily_salary":function(e){"Daily"==this.single_employee.salary_type&&(this.single_employee.monthly_salary=this.organize_point((26*Number(e)).toFixed(3)),this.single_employee.hour_salary=this.organize_point((this.single_employee.daily_salary/8).toFixed(3)))},"single_employee.country":function(e){1==e&&(this.single_employee.expiry_passport=null)},searchStaffID(e){e?this.$http.post("/employee/getAllEmployeeBystaff/"+e).then(({data:e})=>{this.btnEmployees=e.sort((e,t)=>e.sort_code-t.sort_code),this.employees_to_sort=this.sortEmployees(e.filter(e=>"1"==e.active_status))}):this.btnEmployees=[]},trigger_download(){if(this.selectedDocument&&this.selectedDocumentFile&&"image"==this.selectedDocument.document_type){const e=document.createElement("a");e.href=URL.createObjectURL(this.selectedDocumentFile);let t=this.selectedDocument.employee_document_virtual_name;t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".png")||(t=t+"."+this.selectedDocument.employee_document.split(".").pop()),e.download=t,e.click()}}}},u=g,h=(s("b4fa"),s("2877")),f=s("6544"),v=s.n(f),b=s("8336"),x=s("ac7c"),C=s("132d"),w=(s("8efc"),s("90a2")),S=(s("36a7"),s("24b2")),$=s("58df"),k=Object($["a"])(S["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render(e){return e("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),I=k,D=s("7560"),E=s("d9f7"),N=s("d9bd");const P="undefined"!==typeof window&&"IntersectionObserver"in window;var F=Object($["a"])(I,D["a"]).extend({name:"v-img",directives:{intersect:w["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const e=[],t=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&e.push(`linear-gradient(${this.gradient})`),t&&e.push(`url("${t}")`);const s=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:e.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[s]):s}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(e,t,s){if(!P||s||this.eager){if(this.normalisedSrc.lazySrc){const e=new Image;e.src=this.normalisedSrc.lazySrc,this.pollForSize(e,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const e=new Image;this.image=e,e.onload=()=>{e.decode?e.decode().catch(e=>{Object(N["c"])("Failed to decode image, trying to render anyway\n\nsrc: "+this.normalisedSrc.src+(e.message?"\nOriginal error: "+e.message:""),this)}).then(this.onLoad):this.onLoad()},e.onerror=this.onError,this.hasError=!1,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),e.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize(e,t=100){const s=()=>{const{naturalHeight:i,naturalWidth:a}=e;i||a?(this.naturalWidth=a,this.calculatedAspectRatio=a/i):e.complete||!this.isLoading||this.hasError||null==t||setTimeout(s,t)};s()},genContent(){const e=I.options.methods.genContent.call(this);return this.naturalWidth&&this._b(e.data,"div",{style:{width:this.naturalWidth+"px"}}),e},__genPlaceholder(){if(this.$slots.placeholder){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(e){const t=I.options.render.call(this,e),s=Object(E["a"])(t.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:P?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return t.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],e(t.tag,s,t.children)}}),L=Object(h["a"])(u,i,a,!1,null,"3a52ee32",null);t["default"]=L.exports;v()(L,{VBtn:b["a"],VCheckbox:x["a"],VIcon:C["a"],VImg:F})}}]);
//# sourceMappingURL=chunk-683cef59.3b64f9e0.js.map