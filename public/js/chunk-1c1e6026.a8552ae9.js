(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c1e6026"],{"60ac":function(t,a,e){},"6e78":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("navbar",{staticClass:"animate__animated animate__fadeInLeft rtl",staticStyle:{display:"none"},attrs:{id:"nav"}}),e("div",{staticClass:"animate__animated animate__fadeInRight",staticStyle:{display:"none !important"},attrs:{id:"content-wrapper"}},[e("div",{staticClass:"no-print",attrs:{id:"content"}},[e("header-btn",{attrs:{notifications:t.notifications}}),"E"==t.user.type?[e("div",{staticClass:"alert alert-info text-center m-1"},[t._v(" Sorry, you can't see this page content ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-4 col-md-4 mb-2 mx-1"},[e("button",{staticClass:"btn btn-danger btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_expired_passports"}},[t._v(" "+t._s(t.indexLanguage[t.language].expired_passports)+" ")])])])]:e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"d-sm-flex justify-content-between align-items-center mb-4"},[e("h3",{staticClass:"text-dark mb-0",attrs:{id:"home_page"}},[t._v(" "+t._s(t.indexLanguage[t.language].home_page)+" ")])]),"A"==t.user.type?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[e("div",{staticClass:"card shadow border-left-primary py-2"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center no-gutters"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"text-uppercase text-primary font-weight-bold text-xs mb-1 multi-language"},[e("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_employees)+" ")])]),e("hr"),e("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[e("span",[t._v(" "+t._s(t.noOfEmployees)+" ")])])]),t._m(0)])])])]),e("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[e("div",{staticClass:"card shadow border-left-success py-2"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center no-gutters"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"text-uppercase text-success font-weight-bold text-xs mb-1 multi-language"},[e("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_engineers)+" ")])]),e("hr"),e("div",{staticClass:"text-dark font-weight-bold h5 mb-0 multi-language"},[e("span",[t._v(" "+t._s(t.engineers.length)+" ")])])]),t._m(1)])])])]),e("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[e("div",{staticClass:"card shadow border-left-info py-2"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center no-gutters"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[e("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_staffs)+" ")])]),e("hr"),e("div",{staticClass:"row no-gutters align-items-center"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[e("span",[t._v(" "+t._s(t.staffs.length)+" ")])])])])]),t._m(2)])])])]),e("div",{staticClass:"col-md-6 col-xl-3 mb-4"},[e("div",{staticClass:"card shadow border-left-danger py-2"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center no-gutters"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"text-uppercase text-info font-weight-bold text-xs mb-1 multi-language"},[e("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.indexLanguage[t.language].number_of_expired_passport)+" ")])]),e("hr"),e("div",{staticClass:"row no-gutters align-items-center"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"text-dark font-weight-bold h5 mb-0 mr-3 multi-language"},[e("span",[t._v(" "+t._s(t.noOfExpired)+" ")])])])])]),t._m(3)])])])])]):t._e(),e("hr"),e("div",{staticClass:"row mb-2"},[["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_jobs"}},[t._v(" "+t._s(t.indexLanguage[t.language].jobs)+" ")])]):t._e(),["A"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_cabina"}},[t._v(" Cabina ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-3 col-md-3 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staffs"}},[t._v(" "+t._s(t.indexLanguage[t.language].staffs)+" ")])]):t._e(),["A"].includes(t.user.type)?e("div",{staticClass:"col-xl-1 col-md-1 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdlSortStaff"}},[e("v-icon",{attrs:{color:"white"}},[t._v(" mdi-sort ")])],1)]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_staff_history"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee_staff_history)+" ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_emp_active_history"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee_active_history)+" ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-warning btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_staff_list"}},[t._v(" "+t._s(t.indexLanguage[t.language].add_staff_list_for_rest_days)+" ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_foods"}},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")])]):t._e(),["A","U","K"].includes(t.user.type)?e("div",{staticClass:"col-xl-2 col-md-4 mb-2 pe-0"},[e("button",{staticClass:"btn btn-danger btn-block",staticStyle:{"font-size":"11.7pt !important"},attrs:{"data-toggle":"modal","data-target":"#mdl_expired_accomodations"}},[t._v(" Expire Accomodation ")])]):t._e(),["A","U","K"].includes(t.user.type)?e("div",{staticClass:"col-xl-2 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-danger btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_expired_passports"}},[t._v(" Expire Passport ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-success btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_transfered_employees"}},[t._v(" "+t._s(t.indexLanguage[t.language].transfered_employees)+" ")])]):t._e(),["A","U"].includes(t.user.type)?e("div",{staticClass:"col-xl-4 col-md-4 mb-2"},[e("button",{staticClass:"btn btn-info btn-block",attrs:{"data-toggle":"modal","data-target":"#mdl_daily_activity"}},[t._v(" Daily Activity ")])]):t._e()]),e("div",{staticClass:"row",staticStyle:{"overflow-x":"auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.list_date,expression:"list_date"}],staticClass:"form-control mb-2 col-xl-9",attrs:{type:"date"},domProps:{value:t.list_date},on:{input:function(a){a.target.composing||(t.list_date=a.target.value)}}}),e("span",{staticClass:"col-1"},[e("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSpecialStaffsforDailyList,callback:function(a){t.showSpecialStaffsforDailyList=a},expression:"showSpecialStaffsforDailyList"}})],1),e("table",{staticClass:"table table-bordered table-striped text-dark text-center col-xl-12"},[e("thead",[e("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.indexLanguage[t.language].list_id)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].user)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].note)+" ")]),e("th",[t._v(" Date time ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].detail)+" ")])]),e("tbody",t._l(t.daily_list.filter((function(a){return a.special_staff==t.showSpecialStaffsforDailyList})),(function(a){return e("tr",{key:a.dsl_id},[e("td",[t._v(" "+t._s(a.dsl_id)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(a.user)+" ")]),e("td",[t._v(" "+t._s(a.location)+" ")]),e("td",[t._v(" "+t._s(a.note)+" ")]),e("td",[t._v(" "+t._s(a.datetime_list?new Date(a.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_list?new Date(a.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]),e("td",[e("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_list_detail"},on:{click:function(e){return t.get_list_details(a.dsl_id,a.st_id,a.datetime_list)}}},[e("i",{staticClass:"fa fa-eye"})]),"A"==t.user.type||"K"==t.user.type?e("button",{staticClass:"btn btn-success mx-1",attrs:{"data-toggle":"modal","data-target":"#mdl_history"},on:{click:function(e){return t.get_list_history(a.dsl_id)}}},[e("i",{staticClass:"fa fa-history"})]):t._e()])])})),0)])])])],2),!t.printExpires&&!t.printExpiresAccomodation&&t.all_rows.staffs&&t.all_rows.staffs.length>0&&("A"==t.user.type||"K"==t.user.type)?e("div",{staticClass:"px-3"},["true"==t.showSpecialStaffsforDailyList?e("span",{staticClass:"pt-3 pb-1 table-only-print"},[e("h3",[t._v(" Special Staffs ")])]):t._e(),e("span",{staticClass:"py-3 table-only-print"},[t._v(" Work Date: "+t._s(t.list_date)+" ")]),e("table",{staticClass:"table table-bordered  text-center text-dark table-only-print"},[t._m(4),e("tbody",[t._l(t.all_rows.staffs.filter((function(a){return a.special_staff==t.showSpecialStaffsforDailyList})),(function(a,s){return[e("tr",{key:"s"+s},[e("td",{staticClass:"text-start",staticStyle:{"background-color":"#EBEBF0 !important"},attrs:{colspan:"6"}},[t._v(" Staff: "+t._s(t.staffs.find((function(t){return t.st_id==a.st_id})).staff_name)+" "),e("span",{staticStyle:{"background-color":"#EBEBF0 !important","margin-inline-start":"32px"}},[t._v(" Date time: "+t._s(a.datetime_list?new Date(a.datetime_list).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_list?new Date(a.datetime_list).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])]),t._l(a.employees,(function(a){return e("tr",{key:a.emp_id},[e("td",{style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.employee_full_name)+" ")]),e("td",{style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.job)+" ")]),e("td",{class:{"text-success":0==a.absent,"text-white":1==a.absent,"text-warning":2==a.absent},style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(t._f("absent_filter")(a.absent,t.language))+" ")]),e("td",{style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.location)+" ")]),e("td",{style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.overtime)+" ")]),e("td",{style:"1"==a.absent||"2"==a.absent&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.absent?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.worked_hours)+" ")])])}))]}))],2)])]):t._e(),!t.printExpires||"A"!=t.user.type&&"K"!=t.user.type?t._e():e("div",{staticClass:"px-3"},[t.st_id_for_expired?e("div",{staticClass:"table-only-print pt-4"},[t._v(" Staff: "+t._s(t.staffs.find((function(a){return a.st_id==t.st_id_for_expired})).staff_name)+" ")]):t._e(),e("span",{staticClass:"py-3 table-only-print"},[t._v(" Passports: "+t._s("less_than_2_month"==t.expire_type?"Less than 2 month":"less_than_6_month"==t.expire_type?"Less than 6 month":"less_than_1_year"==t.expire_type?"Less than 1 year":"less_than_1_and_half_year"==t.expire_type?"Less than 1 year and 6 month":"All expires")+" for "+t._s("0"==t.active_status_for_expired?"Deactived":"1"==t.active_status_for_expired?"Actived":""==t.active_status_for_expired?"All":"")+" ")]),e("table",{staticClass:"table table-bordered  text-center text-dark table-only-print"},[e("thead",[e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" Phone ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" Country ")]),e("th",{staticStyle:{width:"11%"}},[t._v(" Status ")]),e("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].expire_date)+" ")])]),e("tbody",t._l(t.filtered_expired_passports.filter((function(a){return!t.active_status_for_expired||a.active_status==t.active_status_for_expired})),(function(a,s){return e("tr",{key:s},[e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.phone)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(t._f("country_filter")(a.country))+" ")]),e("td",[t._v(" "+t._s(t._f("status_filter")(a.active_status))+" ")]),e("td",{staticClass:"expired-passport-date",class:t.diff_days(a.expire_date)>180?"":t.diff_days(a.expire_date)>60?"bg-success":t.diff_days(a.expire_date)>1?"bg-warning":t.diff_days(a.expire_date)<=0?"bg-danger":"",staticStyle:{color:"black"}},[t._v(" "+t._s(a.expire_date&&t.isValidDate(a.expire_date)?new Date(a.expire_date).toISOString().split("T")[0]:"")+" ")])])})),0)])]),!t.printExpiresAccomodation||"A"!=t.user.type&&"K"!=t.user.type?t._e():e("div",{staticClass:"px-3"},[t.st_id_for_expired_accomodation?e("div",{staticClass:"table-only-print pt-4"},[t._v(" Staff: "+t._s(t.staffs.find((function(a){return a.st_id==t.st_id_for_expired_accomodation})).staff_name)+" ")]):t._e(),e("span",{staticClass:"py-3 table-only-print"},[t._v(" Accomodations: "+t._s("less_than_2_month"==t.expire_type_accomodation?"Less than 2 month":"less_than_6_month"==t.expire_type_accomodation?"Less than 6 month":"All expires")+" for "+t._s("0"==t.active_status_for_expired_accomodation?"Deactived":"1"==t.active_status_for_expired_accomodation?"Actived":""==t.active_status_for_expired_accomodation?"All":"")+" ")]),e("table",{staticClass:"table table-bordered  text-center text-dark table-only-print"},[e("thead",[e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" Phone ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" Country ")]),e("th",{staticStyle:{width:"11%"}},[t._v(" Status ")]),e("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].expire_date)+" ")])]),e("tbody",t._l(t.filtered_expired_accomodations.filter((function(a){return!t.active_status_for_expired_accomodation||a.active_status==t.active_status_for_expired_accomodation})),(function(a,s){return e("tr",{key:s},[e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.phone)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(t._f("country_filter")(a.country))+" ")]),e("td",[t._v(" "+t._s(t._f("status_filter")(a.active_status))+" ")]),e("td",{staticClass:"expired-passport-date",class:t.diff_days(a.expire_date)>180?"":t.diff_days(a.expire_date)>60?"bg-success":t.diff_days(a.expire_date)>1?"bg-warning":t.diff_days(a.expire_date)<=0?"bg-danger":"",staticStyle:{color:"black"}},[t._v(" "+t._s(a.expire_date&&t.isValidDate(a.expire_date)?new Date(a.expire_date).toISOString().split("T")[0]:"")+" ")])])})),0)])])]),e("change-pass"),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_jobs"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.clear_job()}}},[t._v(" × ")]),e("h5",{staticClass:"mt-2 jobs"},[t._v(" "+t._s(t.indexLanguage[t.language].jobs)+" ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-3"},[t._v(" "+t._s(t.indexLanguage[t.language].id)+": ")]),e("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_job.job_id)+" ")])]),e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].job_title)+": ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.single_job.job_title,expression:"single_job.job_title"}],staticClass:"col-sm-9 form-control",attrs:{type:"text"},domProps:{value:t.single_job.job_title},on:{input:function(a){a.target.composing||t.$set(t.single_job,"job_title",a.target.value)}}})]),e("hr"),e("div",{staticClass:"row mb-2"},[e("div",{class:{"col-sm-6":null!=t.single_job.job_id,"col-sm-12":null==t.single_job.job_id}},[e("button",{staticClass:"btn btn-success btn-block",on:{click:function(a){return t.add_job()}}},[t._v(" "+t._s(t.indexLanguage[t.language].add)+" "),e("i",{staticClass:"fa fa-plus"})])]),null!=t.single_job.job_id?e("div",{staticClass:"col-sm-6"},[e("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_job"},on:{click:function(a){return t.update_job()}}},[t._v(" "+t._s(t.indexLanguage[t.language].save_changes)+" "),e("i",{staticClass:"fa fa-save"})])]):t._e()]),e("hr"),e("div",{staticClass:"row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job_search,expression:"job_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.job_search},on:{input:function(a){a.target.composing||(t.job_search=a.target.value)}}}),e("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[e("thead",[e("th",{staticStyle:{width:"6%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),e("th",{staticClass:"job_title"},[t._v(" "+t._s(t.indexLanguage[t.language].job_title)+" ")]),e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].actions)+" ")])]),e("tbody",t._l(t.filtered_jobs,(function(a){return e("tr",{key:a.job_id},[e("td",[t._v(" "+t._s(a.job_id)+" ")]),e("td",[t._v(" "+t._s(a.job_title)+" ")]),e("td",[e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){return t.get_job(a.job_id)}}},[e("i",{staticClass:"fa fa-edit"})]),e("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.delete_job(a.job_id)}}},[e("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_cabina"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.clear_cabina()}}},[t._v(" × ")]),e("h5",{staticClass:"mt-2 jobs"},[t._v(" Cabina ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-3"},[t._v(" "+t._s(t.indexLanguage[t.language].id)+": ")]),e("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_cabina.cabina_id)+" ")])]),e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-2"},[t._v(" Cabina Name: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.single_cabina.cabina_name,expression:"single_cabina.cabina_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text"},domProps:{value:t.single_cabina.cabina_name},on:{input:function(a){a.target.composing||t.$set(t.single_cabina,"cabina_name",a.target.value)}}})]),e("hr"),e("div",{staticClass:"row mb-2"},[e("div",{class:{"col-sm-6":null!=t.single_cabina.cabina_id,"col-sm-12":null==t.single_cabina.cabina_id}},[e("button",{staticClass:"btn btn-success btn-block",on:{click:function(a){return t.add_cabina()}}},[t._v(" "+t._s(t.indexLanguage[t.language].add)+" "),e("i",{staticClass:"fa fa-plus"})])]),null!=t.single_cabina.cabina_id?e("div",{staticClass:"col-sm-6"},[e("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_cabina"},on:{click:function(a){return t.update_cabina()}}},[t._v(" "+t._s(t.indexLanguage[t.language].save_changes)+" "),e("i",{staticClass:"fa fa-save"})])]):t._e()]),e("hr"),e("div",{staticClass:"row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cabina_search,expression:"cabina_search"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.cabina_search},on:{input:function(a){a.target.composing||(t.cabina_search=a.target.value)}}}),e("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[e("thead",[e("th",{staticStyle:{width:"6%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),e("th",{staticClass:"job_title"},[t._v(" Cabina Name ")]),e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].actions)+" ")])]),e("tbody",t._l(t.filtered_cabinas,(function(a){return e("tr",{key:a.cabina_id},[e("td",[t._v(" "+t._s(a.cabina_id)+" ")]),e("td",[t._v(" "+t._s(a.cabina_name)+" ")]),e("td",[e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){return t.get_cabina(a.cabina_id)}}},[e("i",{staticClass:"fa fa-edit"})]),e("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.delete_cabina(a.cabina_id)}}},[e("i",{staticClass:"fa fa-trash"})])])])})),0)])])])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staffs"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.clear_staff()}}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].staffs)+" ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].id)+": ")]),e("label",{staticClass:"col-sm-9 form-control disable mt-2"},[t._v(" "+t._s(t.single_staff.st_id)+" ")])]),e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].supervisor)+": ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.en_id,expression:"single_staff.en_id"}],staticClass:"col-sm-9 form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.single_staff,"en_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}}),t._l(t.engineers,(function(a){return e("option",{key:a.en_id,domProps:{value:a.en_id}},[t._v(" "+t._s(a.full_name)+" ")])}))],2)]),e("div",{staticClass:"row mb-2"},[e("label",{staticClass:"col-sm-3 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].staff_name)+": ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.single_staff.staff_name,expression:"single_staff.staff_name"}],staticClass:"col-sm-9 form-control",attrs:{type:"text",placeholder:"Enter name of the staff"},domProps:{value:t.single_staff.staff_name},on:{input:function(a){a.target.composing||t.$set(t.single_staff,"staff_name",a.target.value)}}})]),e("hr"),e("div",{staticClass:"row mb-2"},[e("div",{class:{"col-sm-6":null!=t.single_staff.st_id,"col-sm-12":null==t.single_staff.st_id}},[e("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_add_staff"},on:{click:function(a){return t.add_staff()}}},[t._v(" "+t._s(t.indexLanguage[t.language].add)+" "),e("i",{staticClass:"fa fa-plus"})])]),null!=t.single_staff.st_id?e("div",{staticClass:"col-sm-6"},[e("button",{staticClass:"btn btn-warning btn-block",attrs:{id:"btn_update_staff"},on:{click:function(a){return t.update_staff()}}},[t._v(" "+t._s(t.indexLanguage[t.language].save_changes)+" "),e("i",{staticClass:"fa fa-save"})])]):t._e()]),e("hr"),e("div",{staticClass:"row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_search,expression:"staff_search"}],staticClass:"form-control col-9 mb-2",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.staff_search},on:{input:function(a){a.target.composing||(t.staff_search=a.target.value)}}}),e("span",{staticClass:"col-1"},[e("v-checkbox",{staticClass:"mt-0",attrs:{"true-value":"true","false-value":"false"},model:{value:t.showSpecialStaffs,callback:function(a){t.showSpecialStaffs=a},expression:"showSpecialStaffs"}})],1),e("span",{staticClass:"col-2",staticStyle:{"margin-top":"6px","margin-inline-start":"-29px"}},[t._v(" Specials ")]),e("table",{staticClass:"table table-bordered table-striped text-center text-dark"},[e("thead",[e("th",{staticStyle:{width:"6%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff_name)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" Special ")]),e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].actions)+" ")])]),e("tbody",t._l(t.filtered_staffs,(function(a){return e("tr",{key:a.st_id},[e("td",[t._v(" "+t._s(a.st_id)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[e("v-checkbox",{staticClass:"mt-0 justify-center-checkbox",attrs:{"true-value":"true","false-value":"false"},on:{change:function(e){return t.updateSpecialStaff(a.st_id,a.special_staff)}},model:{value:a.special_staff,callback:function(e){t.$set(a,"special_staff",e)},expression:"staff.special_staff"}})],1),e("td",[e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){return t.get_staff(a.st_id)}}},[e("i",{staticClass:"fa fa-edit"})]),e("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.delete_staff(a.st_id)}}},[e("i",{staticClass:"fa fa-trash"})]),1==a.show_staff?e("button",{staticClass:"btn btn-success mx-1",on:{click:function(e){return t.show_off(a.st_id)}}},[e("i",{staticClass:"fa fa-eye-slash"})]):e("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.show_on(a.st_id)}}},[e("i",{staticClass:"fa fa-eye"})])])])})),0)])])])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_staff_history"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].employee_staff_history)+" ")])]),e("div",{staticClass:"modal-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.staff_log_search_value,expression:"staff_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.staff_log_search_value},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.search_staff_log()},input:function(a){a.target.composing||(t.staff_log_search_value=a.target.value)}}}),e("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(a){return t.get_limited_data_staff_log(1)}}},[e("i",{staticClass:"fa fa-redo"})]),e("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[e("thead",[e("th",{staticStyle:{width:"8%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].old_staff)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].new_staff)+" ")]),e("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_date)+" ")]),e("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].delete)+" ")])]),e("tbody",t._l(t.staff_change_log,(function(a){return e("tr",{key:a.sle_id},[e("td",[t._v(" "+t._s(a.sle_id)+" ")]),e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.old_staff)+" ")]),e("td",[t._v(" "+t._s(a.new_staff)+" ")]),e("td",[t._v(" "+t._s(a.change_date.slice(0,10))+" ")]),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.delete_staff_log(a.sle_id)}}},[e("i",{staticClass:"fa fa-trash"})])])])})),0)]),e("hr"),e("div",{attrs:{id:"pagination_staff_change"}},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.previous_pagination_staff_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfStaffLog/20),(function(a){return e("button",{key:a,staticClass:"btn btn-outline-primary mx-1 pagination-btns-staff-log",class:"pg-staff-log-group-"+Math.ceil(a/5),staticStyle:{display:"none"},on:{click:function(e){return t.get_limited_data_staff_log(a)}}},[t._v(" "+t._s(a)+" ")])})),e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.next_pagination_staff_log()}}},[t._v(" > ")])],2)])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_emp_active_history"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].employee_active_history)+" ")])]),e("div",{staticClass:"modal-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_log_search_value,expression:"active_log_search_value"}],staticClass:"form-control mb-2 col-xl-3 float-left",attrs:{type:"text",placeholder:t.indexLanguage[t.language].search+"..."},domProps:{value:t.active_log_search_value},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.active_log_search()},input:function(a){a.target.composing||(t.active_log_search_value=a.target.value)}}}),e("button",{staticClass:"btn btn-primary mx-2 mb-2",on:{click:function(a){return t.get_limited_data_active_log(1)}}},[e("i",{staticClass:"fa fa-redo"})]),e("table",{staticClass:"table table-responsive table-bordered table-striped text-dark text-center"},[e("thead",[e("th",{staticStyle:{width:"10%"}},[t._v(" "+t._s(t.indexLanguage[t.language].id)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_type)+" ")]),e("th",{staticStyle:{width:"15%"}},[t._v(" "+t._s(t.indexLanguage[t.language].change_date)+" ")]),e("th",{staticStyle:{width:"5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].delete)+" ")])]),e("tbody",t._l(t.active_change_log,(function(a){return e("tr",{key:a.ale_id},[e("td",[t._v(" "+t._s(a.ale_id)+" ")]),e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",{class:{"alert-success":"Set to Active"==a.change_type,"alert-danger":"Set to Deactive"==a.change_type}},[t._v(" "+t._s(a.change_type)+" ")]),e("td",[t._v(" "+t._s(a.change_date.slice(0,10))+" ")]),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.delete_active_log(a.ale_id)}}},[e("i",{staticClass:"fa fa-trash"})])])])})),0)]),e("div",{attrs:{id:"pagination_active_change"}},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.previous_pagination_active_log()}}},[t._v(" < ")]),t._l(Math.ceil(t.noOfActiveLog/20),(function(a){return e("button",{key:a,staticClass:"btn btn-outline-primary mx-1 pagination-btns-active-log",class:"pg-active-log-group-"+Math.ceil(a/5),staticStyle:{display:"none"},on:{click:function(e){return t.get_limited_data_active_log(a)}}},[t._v(" "+t._s(a)+" ")])})),e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.next_pagination_active_log()}}},[t._v(" > ")])],2)])])])]),["A","U"].includes(t.user.type)?e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_staff_list"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(5),e("div",{staticClass:"modal-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.list_rest_days.work_date,expression:"list_rest_days.work_date"}],staticClass:"form-control mb-2",attrs:{type:"date"},domProps:{value:t.list_rest_days.work_date},on:{input:function(a){a.target.composing||t.$set(t.list_rest_days,"work_date",a.target.value)}}}),e("button",{staticClass:"btn btn-success btn-block",attrs:{id:"btn_rest_day"},on:{click:function(a){return t.create_list_rest_day()}}},[t._v(" "+t._s(t.indexLanguage[t.language].create_list_for_all_staffs)+" "),e("i",{staticClass:"fa fa-plus"})]),e("hr"),e("div",{staticClass:"alert alert-primary text-center",staticStyle:{display:"none"},attrs:{id:"waiting"}},[t._v(" "+t._s(t.indexLanguage[t.language].waiting)+" ... ")])])])])]):t._e(),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_list_detail"}},[e("div",{staticClass:"modal-dialog modal-xl text-center"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].list_detail)+" ")])]),e("div",{staticClass:"modal-body",staticStyle:{"overflow-x":"auto"}},[e("div",{staticStyle:{color:"black","margin-bottom":"8px","text-align":"left"}},[t._v(" Date time: "+t._s(t.datetime)+" ")]),e("table",{staticClass:"table table-bordered table-striped text-dark"},[e("thead",[e("th",{staticStyle:{width:"27%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" Job ")]),e("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.indexLanguage[t.language].status)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),e("th",{staticStyle:{width:"9%"}},[t._v(" "+t._s(t.indexLanguage[t.language].overtime)+" ")]),e("th",{staticStyle:{width:"12%"}},[t._v(" "+t._s(t.indexLanguage[t.language].worked_hours)+" ")])]),e("tbody",t._l(t.filtered_list_detail,(function(a){return e("tr",{key:a.at_id,class:{"bg-warning text-white":a.st_id!=t.st_id}},[e("td",{style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.full_name)+" ")]),e("td",{style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.job)+" ")]),e("td",{class:{"text-success":0==a.status,"text-white":1==a.status,"text-warning":2==a.status},style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(t._f("absent_filter")(a.status,t.language))+" ")]),e("td",{style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.location)+" ")]),e("td",{style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.overtime)+" ")]),e("td",{class:{"text-danger":0==a.status&&0==a.worked_hours},style:"1"==a.status||"2"==a.status&&0==a.overtime&&0==a.worked_hours?"background-color: #F24C3D !important; color: white !important;":"2"==a.status?"background-color: #F4b619 !important; color: black !important;":""},[t._v(" "+t._s(a.worked_hours)+" ")])])})),0)])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_foods"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")])]),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table table-bordered table-striped text-dark"},[e("thead",[e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].location)+" ")]),e("th",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.indexLanguage[t.language].foods_number)+" ")]),e("th",{staticStyle:{width:"25%"}},[t._v(" Food Group ")]),e("th",[t._v(" Date Time ")])]),e("tbody",t._l(t.staff_foods,(function(a,s){return e("tr",{key:s,class:{"bg-warning text-white":0==a.food_number}},[e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(a.location)+" ")]),e("td",[t._v(" "+t._s(a.food_number)+" ")]),e("td",[t._v(" "+t._s(a.food_group)+" ")]),e("td",[t._v(" "+t._s(a.datetime_food?new Date(a.datetime_food).toISOString().split("T")[0]:"")+" "+t._s(a.datetime_food?new Date(a.datetime_food).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")])])})),0)]),e("hr"),e("table",{staticClass:"table table-bordered table-striped text-dark"},[e("thead",[e("th",{staticClass:"bg-success text-light"},[t._v(" "+t._s(t.indexLanguage[t.language].total)+" ")]),e("th",{staticClass:"bg-success text-light",staticStyle:{width:"70%"}},[t._v(" "+t._s(t.total_foods)+" ")])])])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expired_passports"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].expired_passports)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.printExpirePassports()}}},[t._v(" Print ")])]),e("div",{staticClass:"modal-body"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id_for_expired,expression:"st_id_for_expired"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.st_id_for_expired=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.staffs,(function(a){return e("option",{key:a.st_id,domProps:{value:a.st_id}},[t._v(" "+t._s(a.staff_name)+" ")])}))],2),e("select",{directives:[{name:"model",rawName:"v-model",value:t.active_status_for_expired,expression:"active_status_for_expired"}],staticClass:"form-control mt-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.active_status_for_expired=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v(" All ")]),e("option",{attrs:{value:"1"}},[t._v(" Actived ")]),e("option",{attrs:{value:"0"}},[t._v(" Deactived ")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.expire_type,expression:"expire_type"}],staticClass:"form-control mt-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.expire_type=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"all"}},[t._v(" All expires ")]),e("option",{attrs:{value:"less_than_1_and_half_year"}},[t._v(" Less than 1 year, 6 month ")]),e("option",{attrs:{value:"less_than_1_year"}},[t._v(" Less than 1 year ")]),e("option",{attrs:{value:"less_than_6_month"}},[t._v(" Less than 6 month ")]),e("option",{attrs:{value:"less_than_2_month"}},[t._v(" Less than 2 month ")])]),e("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-5"},[e("thead",[e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" Phone ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" Country ")]),e("th",{staticStyle:{width:"11%"}},[t._v(" Status ")]),e("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].expire_date)+" ")])]),e("tbody",t._l(t.filtered_expired_passports.filter((function(a){return!t.active_status_for_expired||a.active_status==t.active_status_for_expired})),(function(a,s){return e("tr",{key:s},[e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.phone)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(t._f("country_filter")(a.country))+" ")]),e("td",[t._v(" "+t._s(t._f("status_filter")(a.active_status))+" ")]),e("td",{staticClass:"expired-passport-date",class:t.diff_days(a.expire_date)>180?"":t.diff_days(a.expire_date)>60?"bg-success":t.diff_days(a.expire_date)>1?"bg-warning":t.diff_days(a.expire_date)<=0?"bg-danger":"",staticStyle:{color:"black"}},[t._v(" "+t._s(a.expire_date&&t.isValidDate(a.expire_date)?new Date(a.expire_date).toISOString().split("T")[0]:"")+" ")])])})),0)])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_expired_accomodations"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" Expired Accomodations ")]),e("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(a){return t.printExpireAccomodations()}}},[t._v(" Print ")])]),e("div",{staticClass:"modal-body"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.st_id_for_expired_accomodation,expression:"st_id_for_expired_accomodation"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.st_id_for_expired_accomodation=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.staffs,(function(a){return e("option",{key:a.st_id,domProps:{value:a.st_id}},[t._v(" "+t._s(a.staff_name)+" ")])}))],2),e("select",{directives:[{name:"model",rawName:"v-model",value:t.active_status_for_expired_accomodation,expression:"active_status_for_expired_accomodation"}],staticClass:"form-control mt-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.active_status_for_expired_accomodation=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v(" All ")]),e("option",{attrs:{value:"1"}},[t._v(" Actived ")]),e("option",{attrs:{value:"0"}},[t._v(" Deactived ")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.expire_type_accomodation,expression:"expire_type_accomodation"}],staticClass:"form-control mt-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.expire_type_accomodation=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"all"}},[t._v(" All expires ")]),e("option",{attrs:{value:"less_than_6_month"}},[t._v(" Less than 6 month ")]),e("option",{attrs:{value:"less_than_2_month"}},[t._v(" Less than 2 month ")])]),e("table",{staticClass:"table table-bordered table-striped text-dark text-center mt-5"},[e("thead",[e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",[t._v(" Phone ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].staff)+" ")]),e("th",[t._v(" Country ")]),e("th",{staticStyle:{width:"11%"}},[t._v(" Status ")]),e("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].expire_date)+" ")])]),e("tbody",t._l(t.filtered_expired_accomodations.filter((function(a){return!t.active_status_for_expired_accomodation||a.active_status==t.active_status_for_expired_accomodation})),(function(a,s){return e("tr",{key:s},[e("td",[t._v(" "+t._s(a.full_name)+" ")]),e("td",[t._v(" "+t._s(a.phone)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(t._f("country_filter")(a.country))+" ")]),e("td",[t._v(" "+t._s(t._f("status_filter")(a.active_status))+" ")]),e("td",{staticClass:"expired-passport-date",class:t.diff_days(a.expire_date)>180?"":t.diff_days(a.expire_date)>60?"bg-success":t.diff_days(a.expire_date)>1?"bg-warning":t.diff_days(a.expire_date)<=0?"bg-danger":"",staticStyle:{color:"black"}},[t._v(" "+t._s(a.expire_date&&t.isValidDate(a.expire_date)?new Date(a.expire_date).toISOString().split("T")[0]:"")+" ")])])})),0)])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_transfered_employees"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].transfered_employees)+" ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-1 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].year)+": ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.year,expression:"transfered_employees.year"}],staticClass:"form-control col-sm-1",attrs:{type:"number"},domProps:{value:t.transfered_employees.year},on:{input:function(a){a.target.composing||t.$set(t.transfered_employees,"year",a.target.value)}}}),e("label",{staticClass:"col-sm-1 mt-2"},[t._v(" "+t._s(t.indexLanguage[t.language].month)+": ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.month,expression:"transfered_employees.month"}],staticClass:"form-control col-sm-1",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.transfered_employees,"month",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),e("option",{attrs:{value:"2"}},[t._v("2")]),e("option",{attrs:{value:"3"}},[t._v("3")]),e("option",{attrs:{value:"4"}},[t._v("4")]),e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"6"}},[t._v("6")]),e("option",{attrs:{value:"7"}},[t._v("7")]),e("option",{attrs:{value:"8"}},[t._v("8")]),e("option",{attrs:{value:"9"}},[t._v("9")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"11"}},[t._v("11")]),e("option",{attrs:{value:"12"}},[t._v("12")])]),e("label",{staticClass:"col-sm-2 mt-2 ml-3"},[t._v(" "+t._s(t.indexLanguage[t.language].from_staff)+": ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.transfered_employees.old_st_id,expression:"transfered_employees.old_st_id"}],staticClass:"form-control col-sm-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.transfered_employees,"old_st_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}}),t._l(t.staffs,(function(a){return e("option",{key:a.st_id,domProps:{value:a.st_id}},[t._v(" "+t._s(a.staff_name)+" ")])}))],2)]),e("hr"),e("table",{staticClass:"table table-bordered table-striped text-dark text-center"},[e("thead",[e("th",{staticStyle:{width:"30%"}},[t._v(" "+t._s(t.indexLanguage[t.language].employee)+" ")]),e("th",{staticStyle:{width:"23.5%"}},[t._v(" "+t._s(t.indexLanguage[t.language].new_staff)+" ")]),e("th",[t._v(" "+t._s(t.indexLanguage[t.language].work_date)+" ")])]),e("tbody",t._l(t.transfered_employees.employees,(function(a){return e("tr",{key:a.t_at_id},[e("td",[t._v(" "+t._s(a.employee)+" ")]),e("td",[t._v(" "+t._s(a.staff_name)+" ")]),e("td",[t._v(" "+t._s(new Date(a.work_date).toISOString().split("T")[0])+" ")])])})),0)])])])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_history"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(6),e("div",{staticClass:"modal-body"},[e("v-data-table",{attrs:{"items-per-page":20,headers:t.history_headers,"footer-props":{"items-per-page-options":[15,20,25]},items:t.history_rows.filter((function(a){return a.dsl_id==t.dsl_id}))},scopedSlots:t._u([{key:"item.work",fn:function(a){var s=a.item;return[e("div",{staticStyle:{"white-space":"pre"},attrs:{dir:"rtl"}},[t._v(t._s(s.work))])]}},{key:"item.datetime_log",fn:function(a){var e=a.item;return[t._v(" "+t._s(e.datetime_log&&t.isValidDate(e.datetime_log)?new Date(e.datetime_log).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_log&&t.isValidDate(e.datetime_log)?new Date(e.datetime_log).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]}}],null,!0)})],1)])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdl_daily_activity"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[t._m(7),e("div",{staticClass:"modal-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.daily_activity_date,expression:"daily_activity_date"}],staticClass:"form-control mb-2 col-xl-12",attrs:{type:"date"},domProps:{value:t.daily_activity_date},on:{input:function(a){a.target.composing||(t.daily_activity_date=a.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.daily_activity_user,expression:"daily_activity_user"}],staticClass:"form-control mb-2 col-xl-12",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.daily_activity_user=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}}),t._l(t.daily_activity_users,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])}))],2),t._v(" حەکیم عومەر "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.except_daily_activity_user,expression:"except_daily_activity_user"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.except_daily_activity_user)?t._i(t.except_daily_activity_user,null)>-1:t.except_daily_activity_user},on:{change:function(a){var e=t.except_daily_activity_user,s=a.target,i=!!s.checked;if(Array.isArray(e)){var n=null,l=t._i(e,n);s.checked?l<0&&(t.except_daily_activity_user=e.concat([n])):l>-1&&(t.except_daily_activity_user=e.slice(0,l).concat(e.slice(l+1)))}else t.except_daily_activity_user=i}}}),e("v-data-table",{attrs:{"items-per-page":20,headers:t.daily_activity_headers,"footer-props":{"items-per-page-options":[15,20,25]},items:t.daily_activity_user?t.daily_activity_rows.filter((function(a){return a.user==t.daily_activity_user})).filter((function(a){return!t.except_daily_activity_user||"حەکیم عومەر"!=a.user})):t.daily_activity_rows.filter((function(a){return!t.except_daily_activity_user||"حەکیم عومەر"!=a.user}))},scopedSlots:t._u([{key:"item.work",fn:function(a){var s=a.item;return[e("div",{staticStyle:{"white-space":"pre"},attrs:{dir:"rtl"}},[t._v(t._s(s.work))])]}},{key:"item.datetime_log",fn:function(a){var e=a.item;return[t._v(" "+t._s(e.datetime_log&&t.isValidDate(e.datetime_log)?new Date(e.datetime_log).toISOString().split("T")[0]:"")+" "+t._s(e.datetime_log&&t.isValidDate(e.datetime_log)?new Date(e.datetime_log).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"}):"")+" ")]}},{key:"item.work_date",fn:function(a){var s=a.item;return[e("span",{class:{"text-danger":t.diff_days_between_two_dates(s.work_date,s.datetime_log)>=4||t.diff_days_between_two_dates(s.work_date,s.datetime_log)-1<0&&new Date(s.datetime_log).toISOString().split("T")[0]!=new Date(s.work_date).toISOString().split("T")[0]}},[t._v(" "+t._s(new Date(s.work_date).toISOString().split("T")[0])+" ")])]}}],null,!0)})],1)])])]),e("div",{staticClass:"modal text-dark animate__animated animate__fadeInDown animate__faster",attrs:{id:"mdlSortStaff"}},[e("div",{staticClass:"modal-dialog modal-md"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v("×")]),e("h5",{staticClass:"mt-2"},[t._v(" Sort Staff "),e("button",{staticClass:"btn btn-primary ms-2",on:{click:function(a){return t.saveStaffSort()}}},[e("v-icon",{attrs:{color:"white"}},[t._v(" mdi-content-save ")])],1)])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticStyle:{width:"100%"}},[e("v-checkbox",{staticClass:"mt-1 custom-checkbox-label",attrs:{"true-value":"true","false-value":"false",label:"Specials"},model:{value:t.showSPecialStaffsForSort,callback:function(a){t.showSPecialStaffsForSort=a},expression:"showSPecialStaffsForSort"}}),e("draggable",{model:{value:t.staff_to_sort,callback:function(a){t.staff_to_sort=a},expression:"staff_to_sort"}},[e("transition-group",t._l(t.staff_to_sort,(function(a,s){return e("v-btn",{key:"emp"+s,staticClass:"mb-2",attrs:{block:"",color:"primary",elevation:"0"}},[t._v(" "+t._s(a.staff_name)+" ")])})),1)],1)],1)])])])])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-1 float-left"},[e("i",{staticClass:"fas fa-user-tie fa-2x text-gray-600"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-1 float-left"},[e("i",{staticClass:"fas fa-user-nurse fa-2x text-gray-600"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-1 float-left"},[e("i",{staticClass:"fas fa-users fa-2x text-gray-600"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-1 float-left"},[e("i",{staticClass:"fas fa-passport fa-2x text-gray-600"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticStyle:{color:"black",width:"25%"}},[t._v(" Employee ")]),e("th",{staticStyle:{color:"black"}},[t._v(" Job ")]),e("th",{staticStyle:{color:"black",width:"10%"}},[t._v(" Status ")]),e("th",{staticStyle:{color:"black"}},[t._v(" Location ")]),e("th",{staticStyle:{color:"black",width:"9%"}},[t._v(" Overtime ")]),e("th",{staticStyle:{color:"black",width:"9%"}},[t._v(" Worked ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" List History ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"btn btn-danger",attrs:{"data-dismiss":"modal"}},[t._v(" × ")]),e("h5",{staticClass:"mt-2"},[t._v(" Daily Activity ")])])}],n=e("c735"),l=e("1ab6"),o=e("1157"),r=e.n(o),_={Kurdish:{home_page:"پەڕەی سەرەکی",number_of_employees:"ژمارەی کارمەندەکان",number_of_engineers:"ژمارەی سەرپەرشتیارەکان",number_of_staffs:"ژمارەی ستافەکان",number_of_expired_passport:"ژمارەی پاسپۆرتە بەسەرچووەکان",foods_number:"ژمارەی خواردنەکان",jobs:"کارەکان",staffs:"ستافەکان",employee_staff_history:"مێژووی گۆڕینی ستافی کارمەندان",employee_active_history:"مێژووی ئەکتیڤ بوونی کارمەندان",add_staff_list_for_rest_days:"دروست کردنی لیستی ستافەکان بۆ ڕۆژانی پشوو",id:"کۆد",list_id:"کۆدی لیست",staff:"ستاف",user:"بەکارهێنەر",location:"شوێن",note:"تێبینی",detail:"ناوەڕۆک",job_title:"كـار",add:"زیادکردن",save_changes:"گۆڕانی زانیاری",actions:"کردارەکان",supervisor:"سەرپەرشتیار",staff_name:"ناوی ستاف",employee:"کارمەند",old_staff:"ستافی کۆن",new_staff:"ستافی تازە",change_date:"بەرواری گۆڕین",delete:"سڕینەوە",change_type:"جۆری گۆڕانکاری",create_list_for_all_staffs:"دروست کردنی لیست بۆ هەموو ستافەکان",waiting:"چاوەڕوانبە",list_detail:"ناوەڕۆکی لیست",status:"دۆخ",present:"ئامادەبوو",absent:"نەهاتوو",off:"پشوو",search:"گـەڕان",total:"کۆی گشتی",expired_passports:"پاسپۆرتە بەسەرچووەکان",expire_date:"بەرواری بەسەرچوون",overtime:"کاتی زیادە",worked_hours:"کاتی ئیشکردن",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},English:{home_page:"Home Page",number_of_employees:"Number Of Employees",number_of_engineers:"Number Of Supervisors",number_of_staffs:"Number Of Staffs",number_of_expired_passport:"Number Of Expired Passports",foods_number:"Food numbers",jobs:"Jobs",staffs:"Staffs",employee_staff_history:"Employee staff history",employee_active_history:"Employee active history",add_staff_list_for_rest_days:"Add staff lists for rest days",id:"ID",list_id:"List ID",staff:"Staff",user:"User",location:"Location",detail:"Detail",note:"Note",job_title:"Job Title",add:"Add",save_changes:"Save Changes",actions:"Actions",supervisor:"Supervisor",staff_name:"Staff name",employee:"Employee",old_staff:"Old Staff",new_staff:"New Staff",change_date:"Change Date",delete:"Delete",change_type:"Change Type",create_list_for_all_staffs:"Create List for all staffs",waiting:"Waiting",list_detail:"List Detail",status:"Status",present:"Present",absent:"Absent",off:"Off",search:"Search",total:"Total",expired_passports:"Expired passports",expire_date:"Expire date",overtime:"Overtime",worked_hours:"Worked hours",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"},Arabic:{home_page:"الصفحة الرئيسية",number_of_employees:"عدد الموظفين",number_of_engineers:"عدد المشرفين",number_of_staffs:"عدد العاملین",number_of_expired_passport:"عدد جوازات السفر منتهية الصلاحية",foods_number:"عدد الوجبات الطعام",jobs:"يعمل",staffs:"العاملين",employee_staff_history:"تاريخ تغيير الموظفين",employee_active_history:"تاريخ نشاط الموظف",add_staff_list_for_rest_days:"إنشاء قائمة الموظفين للإجازات",id:"رقـم",list_id:"رقم القائمة",staff:"العاملين",user:"المستعمل",location:"موقع",note:"ملاحظة",detail:"المحتوى",job_title:"عـمل",add:"اضافة",save_changes:"تغيير المعلومات",actions:"أجراءات",supervisor:"مشرف",staff_name:"اسم العاملین",employee:"موظف",old_staff:"العاملین القدامى",new_staff:"العاملین جديد",change_date:"تاريخ التغيير",delete:"حذف",change_type:"نوع التغيير",create_list_for_all_staffs:"إنشاء قائمة لجميع العاملین",waiting:"انتظر",list_detail:"محتوى القائمة",status:"حالة",present:"كان حاضرا",absent:"غیاب",off:"يوم الاجازة",search:"بحث",total:"مجموع",expired_passports:"جوازات السفر منتهية الصلاحية",expire_date:"تاريخ إنتهاء الصلاحية",overtime:"وقت إضافي",worked_hours:"وقت العمل",transfered_employees:"Transfered Employees",year:"Year",month:"Month",from_staff:"From Staff",work_date:"Work Date"}},d=e("cba0"),c=e("b76a"),f=e.n(c);const u=["",null];var m={name:"Index",components:{draggable:f.a},data(){return{all_rows:{},noOfEmployees:0,noOfStaffLog:0,noOfActiveLog:0,noOfExpired:0,max_pagination_btns_staff_change:0,current_pagination_btns_staff_change:1,max_pagination_btns_active_change:0,current_pagination_btns_active_change:1,list_date:(new Date).toISOString().split("T")[0],jobs:[],staffs:[],staff_to_sort:[],single_job:{job_id:null,job_title:""},job_search:"",single_cabina:{cabina_id:null,cabina_name:""},cabinas:[],cabina_search:"",engineers:[],single_staff:{st_id:null,en_id:null,staff_name:""},staff_search:"",staff_change_log:[],active_change_log:[],staff_log_search_value:"",active_log_search_value:"",daily_list:[],list_details:[],dsl_id:null,st_id:null,list_rest_days:{work_date:(new Date).toISOString().split("T")[0]},staff_foods:[],total_foods:0,expired_passports:[],expired_accomodations:[],user:{type:"",username:"",en_id:""},transfered_employees:{month:(new Date).getMonth(),year:(new Date).getFullYear(),old_st_id:null,employees:[]},indexLanguage:_,language:"English",history_headers:[{text:"User",align:"start",value:"user",sortable:!1},{text:"Date time",align:"start",value:"datetime_log",sortable:!1},{text:"Work",align:"center",value:"work",sortable:!1}],daily_activity_headers:[{text:"User",align:"start",value:"user",sortable:!1},{text:"Staff",align:"start",value:"staff_name",sortable:!1},{text:"Work Date",align:"start",value:"work_date",width:"120px",sortable:!0},{text:"List ID",align:"start",value:"dsl_id",sortable:!1},{text:"Date time",align:"start",value:"datetime_log",sortable:!0},{text:"Work",align:"center",value:"work",sortable:!1}],history_rows:[],daily_activity_date:(new Date).toISOString().split("T")[0],daily_activity_rows:[],daily_activity_users:[],daily_activity_user:null,st_id_for_expired:null,st_id_for_expired_accomodation:null,active_status_for_expired:"",active_status_for_expired_accomodation:"",expire_type:"less_than_2_month",expire_type_accomodation:"less_than_2_month",except_daily_activity_user:!1,is_print:!1,showSpecialStaffs:"false",showSpecialStaffsforDailyList:"false",showSPecialStaffsForSort:"false",datetime:"",printExpires:!1,printExpiresAccomodation:!1,notifications:[]}},beforeCreate(){Object(l["a"])("index")},created(){this.$http.post("/getLoggedInfo").then(({data:t})=>{this.user.username=t.username,this.user.type=t.type,this.user.en_id=t.en_id,this.user.en_id?this.$http.post("/staff/getByEngineer/"+this.user.en_id).then(({data:t})=>{this.staffs=t}).then(()=>{this.$http.post("/expirePassport/getData").then(({data:t})=>{this.expired_passports=t,this.expired_passports=this.expired_passports.filter(t=>this.staffs.map(t=>t.st_id).includes(t.st_id))}),this.$http.post("/expireAccomodation/getData").then(({data:t})=>{this.expired_accomodations=t,this.expired_accomodations=this.expired_accomodations.filter(t=>this.staffs.map(t=>t.st_id).includes(t.st_id))})}):this.$http.post("/staff/getData").then(({data:t})=>{this.staffs=t.sort((t,a)=>t.staff_sort_code-a.staff_sort_code).sort((t,a)=>Number(a.show_staff)-Number(t.show_staff)),this.staff_to_sort=t.filter(t=>"false"==t.special_staff&&1==t.show_staff).sort((t,a)=>t.staff_sort_code-a.staff_sort_code)}).then(()=>{this.$http.post("/expirePassport/getData").then(({data:t})=>{this.expired_passports=t}),this.$http.post("/expireAccomodation/getData").then(({data:t})=>{this.expired_accomodations=t,this.expired_accomodations=this.expired_accomodations.filter(t=>this.staffs.map(t=>t.st_id).includes(t.st_id))})}),this.$http.post("/index/",{user_id:t.user_id}).then(({data:t})=>{this.noOfEmployees=t.noOfEmployees,this.noOfStaffLog=t.noOfStaffLog,this.noOfActiveLog=t.noOfActiveLog,this.noOfExpired=t.noOfExpired,this.cabinas=t.cabinas,this.notifications=t.notifications;var a=Math.ceil(this.noOfStaffLog/20),e=Math.ceil(a/5);this.max_pagination_btns_staff_change=e;var s=Math.ceil(this.noOfActiveLog/20),i=Math.ceil(s/5);this.max_pagination_btns_active_change=i})}),this.$http.post("/job/getData").then(({data:t})=>{this.jobs=t}),this.$http.post("/engineer/getNames").then(({data:t})=>{this.engineers=t}),this.$http.post("/daily_staff_list/getDailyList",{work_date:this.list_date}).then(({data:t})=>{this.daily_list=t.lists,this.list_details=t.list_details,this.history_rows=t.list_history,this.all_rows=t.all_rows}),this.$http.post("/daily_staff_list/getFoods",{work_date:this.list_date}).then(({data:t})=>{this.staff_foods=t.staff_foods,this.total_foods=t.total_foods}),setTimeout(()=>{this.get_limited_data_active_log(1),this.get_limited_data_staff_log(1)},6e3),window.matchMedia("print").addListener(t=>{t.matches?this.is_print=!0:this.is_print=!1})},mounted(){var t=setInterval(()=>{var a=document.getElementsByClassName("pg-staff-log-group-1");if(a.length>0){for(let t=0;t<a.length;t++)a[t].style.display="inline";clearInterval(t)}},750),a=setInterval(()=>{var t=document.getElementsByClassName("pg-active-log-group-1");if(t.length>0){for(let a=0;a<t.length;a++)t[a].style.display="inline";clearInterval(a)}},750);setTimeout(()=>{this.$http.get("/daily_staff_list/getLogViewByDate/"+this.daily_activity_date).then(({data:t})=>{this.daily_activity_rows=t.rows,this.daily_activity_users=t.users.map(t=>t.user)})},2e3),d["a"].$on("languageChanged",t=>{this.language=t,["Kurdish","Arabic"].includes(t)?(r()(".multi-language").addClass("rtl"),r()("#wrapper").attr("dir","rtl")):(r()(".multi-language").removeClass("rtl"),r()("#wrapper").attr("dir","ltr"))})},methods:{previous_pagination_staff_log(){if(this.max_pagination_btns_staff_change>1){var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let a=0;a<t.length;a++)t[a].style.display="none";--this.current_pagination_btns_staff_change;var a=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<a.length;t++)a[t].style.display="inline"}},next_pagination_staff_log(){if(this.max_pagination_btns_staff_change<this.current_pagination_btns_staff_change){var t=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let a=0;a<t.length;a++)t[a].style.display="none";++this.current_pagination_btns_staff_change;var a=document.getElementsByClassName("pg-staff-log-group-"+this.current_pagination_btns_staff_change);for(let t=0;t<a.length;t++)a[t].style.display="inline"}},previous_pagination_active_log(){if(this.max_pagination_btns_active_change>1){var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let a=0;a<t.length;a++)t[a].style.display="none";--this.current_pagination_btns_active_change;var a=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<a.length;t++)a[t].style.display="inline"}},next_pagination_active_log(){if(this.max_pagination_btns_active_change<this.current_pagination_btns_active_change){var t=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let a=0;a<t.length;a++)t[a].style.display="none";++this.current_pagination_btns_active_change;var a=document.getElementsByClassName("pg-active-log-group-"+this.current_pagination_btns_active_change);for(let t=0;t<a.length;t++)a[t].style.display="inline"}},get_limited_data_staff_log(t){var a=0;t>1&&(a=20*(t-1)),this.$http.post("/index/getStaffLogChange",{offset:a}).then(({data:t})=>{this.staff_change_log=t})},delete_staff_log(t){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteStaffLog/"+t).then(()=>{this.staff_change_log=this.staff_change_log.filter(a=>a.sle_id!=t),this.staff_log_search_value=""})})},get_limited_data_active_log(t){var a=0;t>1&&(a=20*(t-1)),this.$http.post("/index/getActiveLog",{offset:a}).then(({data:t})=>{this.active_change_log=t})},delete_active_log(t){this.$confirm("Are you sure delete this data ?","","question").then(()=>{this.$http.delete("/index/deleteActiveLog/"+t).then(()=>{this.active_change_log=this.active_change_log.filter(a=>a.ale_id!=t),this.active_log_search_value=""})})},get_job(t){const[a]=this.jobs.filter(a=>a.job_id==t);this.single_job.job_id=a.job_id,this.single_job.job_title=a.job_title},clear_job(){this.single_job.job_id=null,this.single_job.job_title=""},add_job(){u.includes(this.single_job.job_title)?this.$alert("Enter a job title","Empty field","warning"):this.$http.post("/job/addJob",{job_title:this.single_job.job_title}).then(({data:t})=>{this.jobs.push({job_id:t.job_id,job_title:this.single_job.job_title}),this.clear_job()}).catch(t=>{Object(n["a"])(t)})},delete_job(t){this.$confirm("Are you sure delete this job ?","","question").then(()=>{this.$http.delete("/job/deleteJob/"+t).then(()=>{this.jobs=this.jobs.filter(a=>a.job_id!=t),this.clear_job()}).catch(t=>{Object(n["a"])(t)})})},update_job(){null==this.single_job.job_id?this.$alert("Select a job","","warning"):u.includes(this.single_job.job_title)?this.$alert("Enter a job title","","warning"):this.$confirm("Are you sure to save changes ?","","question").then(()=>{document.getElementById("btn_update_job").setAttribute("disabled","disabled"),this.$http.patch("/job/updateJob/"+this.single_job.job_id,{job_title:this.single_job.job_title}).then(()=>{let t=this.jobs.findIndex(t=>t.job_id==this.single_job.job_id);this.jobs[t].job_title=this.single_job.job_title,this.$alert("","Success","success")}).catch(t=>{Object(n["a"])(t)}).finally(()=>{document.getElementById("btn_update_job").removeAttribute("disabled")})})},get_cabina(t){const[a]=this.cabinas.filter(a=>a.cabina_id==t);this.single_cabina.cabina_id=a.cabina_id,this.single_cabina.cabina_name=a.cabina_name},clear_cabina(){this.single_cabina.cabina_id=null,this.single_cabina.cabina_name=""},add_cabina(){u.includes(this.single_cabina.cabina_name)?this.$alert("Enter a cabina name","","warning"):this.$http.post("/cabina/addCabina",{cabina_name:this.single_cabina.cabina_name}).then(({data:t})=>{this.cabinas.push({cabina_id:t.cabina_id,cabina_name:this.single_cabina.cabina_name}),this.clear_cabina()}).catch(t=>{Object(n["a"])(t)})},delete_cabina(t){this.$confirm("Are you sure delete this cabina ?","","question").then(()=>{this.$http.delete("/cabina/deleteCabina/"+t).then(()=>{this.cabinas=this.cabinas.filter(a=>a.cabina_id!=t),this.clear_cabina()}).catch(t=>{Object(n["a"])(t)})})},update_cabina(){null==this.single_cabina.cabina_id?this.$alert("Select a cabina","","warning"):u.includes(this.single_cabina.cabina_name)?this.$alert("Enter a cabina name","","warning"):this.$confirm("Are you sure to save changes ?","","question").then(()=>{document.getElementById("btn_update_cabina").setAttribute("disabled","disabled"),this.$http.patch("/cabina/updateCabina/"+this.single_cabina.cabina_id,{cabina_name:this.single_cabina.cabina_name}).then(()=>{let t=this.cabinas.findIndex(t=>t.cabina_id==this.single_cabina.cabina_id);this.cabinas[t].cabina_name=this.single_cabina.cabina_name,this.$alert("","Success","success"),this.clear_cabina()}).catch(t=>{Object(n["a"])(t)}).finally(()=>{document.getElementById("btn_update_cabina").removeAttribute("disabled")})})},get_staff(t){const[a]=this.staffs.filter(a=>a.st_id==t);this.single_staff.st_id=a.st_id,this.single_staff.en_id=a.en_id,this.single_staff.staff_name=a.staff_name},clear_staff(){this.single_staff.st_id=null,this.single_staff.en_id=null,this.single_staff.staff_name=""},add_staff(){u.includes(this.single_staff.en_id)||u.includes(this.single_staff.staff_name)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_add_staff").setAttribute("disabled","disabled"),this.$http.post("/staff/addStaff",{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(({data:t})=>{this.staffs.push({st_id:t.st_id,en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}),this.clear_staff()}).catch(t=>{Object(n["a"])(t)}).finally(()=>{document.getElementById("btn_add_staff").removeAttribute("disabled")}))},delete_staff(t){this.$confirm("Are You sure delete this staff ?","","question").then(()=>{this.$http.delete("/staff/deleteStaff/"+t).then(()=>{this.staffs=this.staffs.filter(a=>a.st_id!=t),this.clear_staff()}).catch(t=>{Object(n["a"])(t)})})},show_off(t){this.$http.patch("/staff/showOff/"+t).then(()=>{let a=this.staffs.findIndex(a=>a.st_id==t);this.staffs[a].show_staff=0}).catch(t=>{Object(n["a"])(t)})},show_on(t){this.$http.patch("/staff/showOn/"+t).then(()=>{let a=this.staffs.findIndex(a=>a.st_id==t);this.staffs[a].show_staff=1}).catch(t=>{Object(n["a"])(t)})},update_staff(){null==this.single_staff.st_id?this.$alert("Select a staff","","warning"):u.includes(this.single_staff.staff_name)||u.includes(this.single_staff.en_id)?this.$alert("Fill all required Fields","Empty Field","warning"):(document.getElementById("btn_update_staff").setAttribute("disabled","disabled"),this.$http.patch("/staff/updateStaff/"+this.single_staff.st_id,{en_id:this.single_staff.en_id,staff_name:this.single_staff.staff_name}).then(()=>{let t=this.staffs.findIndex(t=>t.st_id==this.single_staff.st_id);this.staffs[t].staff_name=this.single_staff.staff_name,this.staffs[t].en_id=this.single_staff.en_id,this.$alert("","Success","success")}).catch(t=>{Object(n["a"])(t)}).finally(()=>{document.getElementById("btn_update_staff").removeAttribute("disabled")}))},create_list_rest_day(){["A","U"].includes(this.user.type)&&(u.includes(this.list_rest_days.work_date)?this.$alert("Select a work date to create list","","warning"):this.$confirm("Are you sure create list for date "+this.list_rest_days.work_date+" ?","","question").then(()=>{document.getElementById("waiting").style.display="block",document.getElementById("btn_rest_day").setAttribute("disabled","disabled");var t=new Date;t.setHours(t.getHours()+3),this.$http.post("/daily_staff_list/createRestList",{work_date:this.list_rest_days.work_date,user:this.user.username,datetime_log:t}).then(()=>{this.$alert("List successfully created","Success","success")}).catch(t=>{Object(n["a"])(t)}).finally(()=>{document.getElementById("waiting").style.display="none",document.getElementById("btn_rest_day").removeAttribute("disabled")})}))},search_staff_log(){u.includes(this.staff_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchStaffLogChange",{search_value:this.staff_log_search_value}).then(({data:t})=>{this.staff_change_log=t})},search_transfered_employees(){this.transfered_employees.employees=[],this.transfered_employees.old_st_id?this.$http.get("/attendance/getTransferedEmployees/"+this.transfered_employees.year+"/"+this.transfered_employees.month+"/"+this.transfered_employees.old_st_id).then(({data:t})=>{this.transfered_employees.employees=t}):this.transfered_employees.employees=[]},active_log_search(){u.includes(this.active_log_search_value)?this.$alert("Empty search field","Empty Field","warning"):this.$http.post("/index/searchActiveLogChange",{search_value:this.active_log_search_value}).then(({data:t})=>{this.active_change_log=t})},get_list_details(t,a,e){this.dsl_id=t,this.st_id=a,this.datetime=new Date(e).toISOString().split("T")[0]+" "+new Date(e).toLocaleTimeString([],{timeZone:"America/Danmarkshavn",hour:"2-digit",minute:"2-digit"})},get_list_history(t){this.dsl_id=t},isValidDate(t){let a=new Date(t);return a instanceof Date&&!isNaN(a)},diff_days(t){var a=new Date,e=new Date(t),s=e.getTime()-a.getTime(),i=s/864e5;return Math.round(i)},diff_days_between_two_dates(t,a){var e=new Date(t),s=new Date(a),i=s.getTime()-e.getTime(),n=i/864e5;return Math.round(n)},saveStaffSort(){this.$http.post("/staff/saveStaffSort",{list:this.staff_to_sort}).then(()=>{this.$alert("Successfully","Success","success")}).catch(t=>{Object(n["a"])(t)})},updateSpecialStaff(t,a){this.$http.post("/staff/updateSpecialStaff/"+t,{special_staff:a}).then(()=>{}).catch(t=>{Object(n["a"])(t)})},printExpirePassports(){this.printExpires=!0,setTimeout(()=>{window.print(),this.printExpires=!1},100)},printExpireAccomodations(){this.printExpiresAccomodation=!0,setTimeout(()=>{window.print(),this.printExpiresAccomodation=!1},100)}},computed:{filtered_jobs(){return this.jobs.filter(t=>t.job_id==this.job_search||t.job_title.match(this.job_search))},filtered_cabinas(){return this.cabinas.filter(t=>t.cabina_id==this.cabina_search||t.cabina_name.match(this.cabina_search))},filtered_staffs(){return this.staffs.filter(t=>(t.st_id==this.staff_search||t.en_id==this.staff_search||t.staff_name.match(this.staff_search))&&t.special_staff==this.showSpecialStaffs)},filtered_list_detail(){return this.list_details.filter(t=>t.dsl_id==this.dsl_id).sort((t,a)=>t.sort_code-a.sort_code)},filtered_expired_passports(){return this.expired_passports.filter(t=>!this.st_id_for_expired||t.st_id==this.st_id_for_expired)},filtered_expired_accomodations(){return this.expired_accomodations.filter(t=>!this.st_id_for_expired_accomodation||t.st_id==this.st_id_for_expired_accomodation)}},filters:{absent_filter(t,a){return[_[a].present,_[a].absent,_[a].off][t]},country_filter(t){return{1:"Iraq",2:"Foreign",3:"Iran",4:"Bangladish",5:"Syria",6:"India",7:"Pakistan"}[t]},status_filter(t){return{0:"Deactived",1:"Actived"}[t]}},watch:{list_date(t){this.$http.post("/daily_staff_list/getDailyList",{work_date:t}).then(({data:t})=>{this.daily_list=t.lists,this.list_details=t.list_details,this.history_rows=t.list_history,this.all_rows=t.all_rows}),this.$http.post("/daily_staff_list/getFoods",{work_date:t}).then(({data:t})=>{this.staff_foods=t.staff_foods,this.total_foods=t.total_foods})},daily_activity_date(t){t?(this.daily_activity_rows=[],this.daily_activity_users=[],this.$http.get("/daily_staff_list/getLogViewByDate/"+t).then(({data:t})=>{this.daily_activity_rows=t.rows,this.daily_activity_users=t.users.map(t=>t.user)})):(this.daily_activity_rows=[],this.daily_activity_users=[])},"transfered_employees.old_st_id":function(){this.search_transfered_employees()},"transfered_employees.year":function(){this.search_transfered_employees()},"transfered_employees.month":function(){this.search_transfered_employees()},expire_type(t){"less_than_1_and_half_year"==t?this.$http.post("/expirePassport/getOneAndHalfYearData").then(({data:t})=>{this.expired_passports=t}):"less_than_1_year"==t?this.$http.post("/expirePassport/getOneYearData").then(({data:t})=>{this.expired_passports=t}):"less_than_6_month"==t?this.$http.post("/expirePassport/getSixMonthData").then(({data:t})=>{this.expired_passports=t}):"less_than_2_month"==t?this.$http.post("/expirePassport/getData").then(({data:t})=>{this.expired_passports=t}):"all"==t&&this.$http.post("/expirePassport/getAll").then(({data:t})=>{this.expired_passports=t})},expire_type_accomodation(t){"less_than_6_month"==t?this.$http.post("/expireAccomodation/getSixMonthData").then(({data:t})=>{this.expired_accomodations=t}):"less_than_2_month"==t?this.$http.post("/expireAccomodation/getData").then(({data:t})=>{this.expired_accomodations=t}):"all"==t&&this.$http.post("/expireAccomodation/getAll").then(({data:t})=>{this.expired_accomodations=t})},showSPecialStaffsForSort(t){this.staff_to_sort=this.staffs.filter(a=>a.special_staff==t&&1==a.show_staff).sort((t,a)=>t.staff_sort_code-a.staff_sort_code)}}},g=m,p=(e("ec2d"),e("2877")),h=e("6544"),b=e.n(h),v=e("8336"),y=e("ac7c"),x=e("8fea"),C=e("132d"),w=Object(p["a"])(g,s,i,!1,null,"9d72c9e0",null);a["default"]=w.exports;b()(w,{VBtn:v["a"],VCheckbox:y["a"],VDataTable:x["a"],VIcon:C["a"]})},ec2d:function(t,a,e){"use strict";e("60ac")}}]);
//# sourceMappingURL=chunk-1c1e6026.a8552ae9.js.map