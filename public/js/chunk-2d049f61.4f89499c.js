(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d049f61"],{7772:function(t,e,a){"use strict";a("e63b")},ab13:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("div",{staticStyle:{"background-color":"white !important"},attrs:{id:"content-wrapper"}},[a("div",{staticStyle:{width:"100%"}},[a("div",[a("div",{staticClass:"mt-1"},[a("img",{staticStyle:{height:"90px",width:"183px"},attrs:{src:t.img}}),a("span",{staticClass:"text-center",staticStyle:{display:"inline-block",width:"68%","font-size":"36px"}},[t._v(" Ideal Power Co. ")])]),a("hr",{staticClass:"mt-0"}),a("div",{staticClass:"pt-3 px-3",staticStyle:{color:"black",display:"flex","justify-content":"space-between"}},[a("span",[t._v(t._s(t._f("typeFilter")(t.type))+" Detail for month "+t._s(t.month)+"/"+t._s(t.year)+" ")])])]),t.loading?a("v-progress-linear",{attrs:{indeterminate:""}}):a("div",{staticStyle:{"margin-top":"12px","padding-inline":"4px"}},[a("table",{staticClass:"table table-bordered  text-center",staticStyle:{"font-size":"12pt !important",color:"black"}},[a("thead",[a("tr",[a("th",{staticClass:"text-start",staticStyle:{width:"10%"}},[t._v("List ID")]),a("th",{staticClass:"text-start",staticStyle:{width:"12%"}},[t._v("Work Date")]),a("th",{staticClass:"text-start",staticStyle:{width:"12%"}},[t._v(t._s(t._f("typeFilter")(t.type)))]),a("th",{staticClass:"text-start"},[t._v(t._s(t._f("typeFilter")(t.type))+" Reason")])])]),a("tbody",[t._l(t.staffs,(function(e){return[a("tr",{key:"stf"+e.st_id},[a("td",{staticClass:"text-start py-2",staticStyle:{"font-weight":"bold","background-color":"#CFCFD4 !important"},attrs:{colspan:"2"}},[t._v("Staff: "+t._s(e.staff_name))]),a("td",{staticClass:"text-start py-2",staticStyle:{"font-weight":"bold","background-color":"#CFCFD4 !important"},attrs:{colspan:"2"}},[t._v("Total: "+t._s((e.total||0).toLocaleString()))])]),t._l(t.all_employees.filter((function(t){return t.st_id===e.st_id})),(function(e){return[a("tr",{key:"emp_row"+e.emp_id},[a("td",{staticClass:"text-start py-2",staticStyle:{"background-color":"rgba(81, 224, 81, 0.52) !important"},attrs:{colspan:"4"}},[t._v("Employee: "+t._s(e.full_name))])]),t._l(t.all_emoloyee_detail.filter((function(t){return t.emp_id===e.emp_id})),(function(e){return[a("tr",{key:"det_row"+e.id},[a("td",{staticClass:"text-start py-2",staticStyle:{"background-color":"white !important"}},[t._v(t._s(e.dsl_id))]),a("td",{staticClass:"text-start py-2",staticStyle:{"background-color":"white !important"}},[t._v(t._s(new Date(e.work_date).toISOString().split("T")[0]))]),a("td",{staticClass:"text-start py-2",staticStyle:{"background-color":"white !important"}},[t._v(t._s((e[t.type]||0).toLocaleString()))]),a("td",{staticClass:"text-start py-2",staticStyle:{"background-color":"white !important","padding-left":"20px"}},[t._v(t._s(e[t.type+"_reason"]))])])]}))]}))]}))],2)]),a("div",{staticClass:"text-start px-3 para-total",staticStyle:{"background-color":"rgba(68, 171, 231, 0.52) !important","font-size":"16pt","font-weight":"bold",width:"100%",padding:"8px","margin-top":"12px"}},[t._v(" Total "+t._s(t._f("typeFilter")(t.type))+": "+t._s(t.totalAmount.toLocaleString())+" IQD ")])]),a("br"),a("br"),a("div",{staticClass:"row",staticStyle:{color:"black"}},[a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" بەڕێوبەر ")]),a("br"),a("span",[t._v(" "+t._s(t.manager)+" ")])]),a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" ب.دارایی ")]),a("br"),a("span",[t._v(" "+t._s(t.kargeri)+" ")])]),a("div",{staticClass:"col-4 justify-content-center text-center"},[a("span",[t._v(" ژمێریار ")]),a("br"),a("span",[t._v(" "+t._s(t.accountant)+" ")]),a("br"),a("span",[t._v(" "+t._s((new Date).toISOString().split("T")[0])+" ")]),a("br"),a("span",[t._v(" "+t._s(t.currentTime)+" ")])])])],1)])])},i=[],r=(a("13d5"),{data(){return{img:a("70f2"),month:"",year:"",type:"",staffs:[],all_employees:[],all_emoloyee_detail:[],loading:!1,manager:"",kargeri:"",accountant:"",currentTime:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},mounted(){this.month=this.$route.params.month,this.year=this.$route.params.year,this.type=this.$route.params.type,this.getData()},methods:{getData(){this.loading=!0,this.$http.get("/getNames").then(({data:t})=>{this.manager=t.manager,this.kargeri=t.kargeri,this.accountant=t.accountant,this.$http.get("/employee/getDetailedMonthDetail/"+this.month+"/"+this.year+"/"+this.type).then(t=>{this.staffs=t.data.staffs,this.all_employees=t.data.all_employees,this.all_emoloyee_detail=t.data.all_employee_detail,this.loading=!1,this.$nextTick(()=>{setTimeout(()=>{window.print(),window.close()},300)})})})}},computed:{totalAmount(){return this.staffs.reduce((t,e)=>t+(e.total||0),0)}},filters:{typeFilter(t){return{transport:"Transport",fine:"Fine",food:"Food",expense:"Expense",loan:"Loan",accomodation:"Accommodation"}[t]}}}),o=r,n=(a("7772"),a("2877")),l=a("6544"),c=a.n(l),p=a("8e36"),d=Object(n["a"])(o,s,i,!1,null,"615d7b1e",null);e["default"]=d.exports;c()(d,{VProgressLinear:p["a"]})},e63b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2d049f61.4f89499c.js.map